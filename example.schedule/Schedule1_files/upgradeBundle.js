/**
 * IBM Confidential OCO Source Materials IBM Business Platform: Dashboard
 * (C) Copyright IBM Corp. 2016, 2021
 *
 * The source code for this program is not published or otherwise divested of
 * its trade secrets, irrespective of what has been deposited with the U.S.
 * Copyright Office
 */

function _inherits(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function _possibleConstructorReturn(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _objectWithoutProperties(e,a){var t={};for(var s in e)a.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}define("dashboard-core/js/lib/@waca/upgrades/UpgradeBase",["bluebird"],(function(e){"use strict";var a=function(){this.VERSION=null};return a.prototype.up=function(a){return e.resolve(a)},a.prototype.down=function(a){return e.resolve(a)},a})),define("dashboard-core/js/dashboard/loader/upgrader/6",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","underscore"],(function(e,a,t){return new(e.extend([a],{init:function(){this.VERSION=6},up:function(e){return e?(this._upgradeDatasetShaping(e),t.each(e.widgets,this._upgradeWidgetSpec.bind(this)),Promise.resolve(e)):Promise.resolve(e)},_upgradeDatasetShaping:function(e){var a=e.datasetShaping,s=e.widgets;if(!a||!s)return!1;var r=!1,o=[],i=null;t.each(s,(function(e){e.dataSet&&(i=e.dataSet.id)&&-1===o.indexOf(i)&&o.push({id:i,type:e.dataSet.type})}));var n=null;return t.each(a,function(e){if(e&&(n=t.find(o,(function(a){return a.id===e.id})))){var a={isUploadedFile:"uploadedFile"===n.type};t.each(e.filters,function(e){e.columnId=this._getShortenedColID(e.columnId,a),r=!0}.bind(this))}}.bind(this)),r},_upgradeWidgetSpec:function(e){if(!e||!e.dataSet)return!1;var a={isUploadedFile:"uploadedFile"===e.dataSet.type};return t.each(e.mapping,function(e){e.id&&(e.id=this._getShortenedColID(e.id,a)),e.columnId&&(e.columnId=this._getShortenedColID(e.columnId,a))}.bind(this)),t.each(e.filters,function(e){this._upgradeFilters(e,a)}.bind(this)),t.each(e.localFilters,function(e){this._upgradeFilters(e,a)}.bind(this)),e},_upgradeFilters:function(e,a){e&&(e.columnId?e.columnId=this._getShortenedColID(e.columnId,a):e.values&&t.each(e.values,function(e){this._upgradeFilters(e,a)}.bind(this)))},down:function(e){return Promise.resolve(e)},_getShortenedColID:function(e,a){if(e&&e.length>0){var t=e.split("."),s=t.length;if(a&&!0===a.isUploadedFile)return"Sheet1."+t[s-1];if(s>=2){var r=[];return r.push(t[s-2]),r.push(t[s-1]),r.join(".")}}return e}}))})),define("dashboard-core/js/dashboard/loader/upgrader/RAVE1ArcheTypes",["underscore"],(function(e){var a=[{id:"area",uri:"/visualizations/_archetypes/area",name:"Area",description:"Area",iconUri:"/visualizations/stackAreaChart/icon",minimalVisId:"areaChart",visIds:["areaChart","stackAreaChart"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["stackAreaChart"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["areaChart","stackAreaChart"],sortOrder:"3"},{caption:"Axis label",id:"categories",categoryTargets:["areaChart","stackAreaChart"],measureTargets:[],sortOrder:"1"}]},{id:"bubble",uri:"/visualizations/_archetypes/bubble",name:"Bubble",description:"Bubble",iconUri:"/visualizations/bubbleChart/icon",minimalVisId:"bubbleChart",visIds:["bubbleChart"],dataSlots:[{caption:"Vertical axis",id:"yAxis",icon:"yAxis",categoryTargets:[],measureTargets:["bubbleChart"],sortOrder:"3"},{caption:"Horizontal axis",id:"xAxis",icon:"xAxis",categoryTargets:[],measureTargets:["bubbleChart"],sortOrder:"2"},{caption:"Size by",id:"size",icon:"sizeBy",categoryTargets:[],measureTargets:["bubbleChart"],sortOrder:"4"},{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["bubbleChart"],measureTargets:[],sortOrder:"1"}]},{id:"clusterBar",uri:"/visualizations/_archetypes/clusterBar",name:"Bar",description:"Bar",iconUri:"/visualizations/clusterBarChart/icon",minimalVisId:"barChart",visIds:["barChart","clusterBarChart","clusterBarChart2Measures","clusterBarChart2MeasuresIgnoreColor"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["clusterBarChart","clusterBarChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["barChart","clusterBarChart","clusterBarChart2Measures","clusterBarChart2MeasuresIgnoreColor"],sortOrder:"3"},{caption:"Axis label",id:"categories",icon:"yAxis",categoryTargets:["barChart","clusterBarChart","clusterBarChart2Measures","clusterBarChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"1"},{caption:"Value",id:"valuesRepeating",categoryTargets:[],measureTargets:["clusterBarChart2Measures","clusterBarChart2MeasuresIgnoreColor"],sortOrder:"4"}]},{id:"clusterColumn",uri:"/visualizations/_archetypes/clusterColumn",name:"Column",description:"Column",iconUri:"/visualizations/clusterColumnChart/icon",minimalVisId:"columnChart",visIds:["clusterColumnChart","clusterColumnChart2Measures","clusterColumnChart2MeasuresIgnoreColor","columnChart"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["clusterColumnChart","clusterColumnChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["clusterColumnChart","clusterColumnChart2Measures","clusterColumnChart2MeasuresIgnoreColor","columnChart"],sortOrder:"3"},{caption:"Axis label",id:"categories",categoryTargets:["clusterColumnChart","clusterColumnChart2Measures","clusterColumnChart2MeasuresIgnoreColor","columnChart"],measureTargets:[],sortOrder:"1"},{caption:"Value",id:"valuesRepeating",categoryTargets:[],measureTargets:["clusterColumnChart2Measures","clusterColumnChart2MeasuresIgnoreColor"],sortOrder:"4"}]},{id:"clusterLine",uri:"/visualizations/_archetypes/clusterLine",name:"Line",description:"Line",iconUri:"/visualizations/clusterLineChart/icon",minimalVisId:"lineChart",visIds:["clusterLineChart","lineChart","multiLine2Measures","multiLine2MeasuresIgnoreColor"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["clusterLineChart","multiLine2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"2"},{caption:"Vertical axis",id:"values",icon:"yAxis",categoryTargets:[],measureTargets:["clusterLineChart","lineChart","multiLine2Measures","multiLine2MeasuresIgnoreColor"],sortOrder:"3"},{caption:"Horizontal axis",id:"categories",icon:"xAxis",categoryTargets:["clusterLineChart","lineChart","multiLine2Measures","multiLine2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"1"},{caption:"Value",id:"valuesRepeating",categoryTargets:[],measureTargets:["multiLine2Measures","multiLine2MeasuresIgnoreColor"],sortOrder:"4"}]},{id:"crosstab",uri:"/visualizations/_archetypes/crosstab",name:"Crosstab",description:"Crosstab",iconUri:"/visualizations/crosstab/icon",minimalVisId:"crosstab",visIds:["crosstab"],dataSlots:[{caption:"Heat by",id:"heat",icon:"heat",categoryTargets:[],measureTargets:["crosstab"],sortOrder:"99"},{caption:"Level One",id:"column_level1",icon:"column",categoryTargets:["crosstab"],measureTargets:[],sortOrder:"1"},{caption:"Level Two",id:"column_level2",icon:"column",categoryTargets:["crosstab"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["crosstab"],sortOrder:"5"},{caption:"Level One",id:"row_level1",icon:"row",categoryTargets:["crosstab"],measureTargets:[],sortOrder:"3"},{caption:"Level Two",id:"row_level2",icon:"row",categoryTargets:["crosstab"],measureTargets:[],sortOrder:"4"}]},{id:"grid",uri:"/visualizations/_archetypes/grid",name:"Grid",description:"Grid",iconUri:"/visualizations/JQGrid/icon",minimalVisId:"JQGrid",visIds:["JQGrid"],dataSlots:[{caption:"Heat by",id:"heat",icon:"heat",categoryTargets:[],measureTargets:["JQGrid"],sortOrder:"99"},{caption:"Column",id:"grid_cols",categoryTargets:["JQGrid"],measureTargets:["JQGrid"]}]},{id:"heat",uri:"/visualizations/_archetypes/heat",name:"Heat",description:"Heat",iconUri:"/visualizations/heatChart/icon",minimalVisId:"heatChart",visIds:["heatChart"],dataSlots:[{caption:"Vertical axis",id:"yAxis",icon:"yAxis",categoryTargets:["heatChart"],measureTargets:[],sortOrder:"2"},{caption:"Horizontal axis",id:"xAxis",icon:"xAxis",categoryTargets:["heatChart"],measureTargets:[],sortOrder:"1"},{caption:"Heat by",id:"values",icon:"heat",categoryTargets:[],measureTargets:["heatChart"],sortOrder:"3"}]},{id:"hierarchy",uri:"/visualizations/_archetypes/hierarchy",name:"Hierarchy",description:"Hierarchy",iconUri:"/visualizations/hierarchy2/icon",minimalVisId:"list",visIds:["hierarchy2","hierarchy3","list"],dataSlots:[{caption:"Level One",id:"level1",icon:"hierarchy",categoryTargets:["hierarchy2","hierarchy3","list"],measureTargets:[],sortOrder:"1"},{caption:"Level Three",id:"level3",icon:"hierarchy",categoryTargets:["hierarchy3"],measureTargets:[],sortOrder:"3"},{caption:"Level Two",id:"level2",icon:"hierarchy",categoryTargets:["hierarchy2","hierarchy3"],measureTargets:[],sortOrder:"2"}]},{id:"lineColumnCombo",uri:"/visualizations/_archetypes/lineColumnCombo",name:"Line and Column",description:"Line and Column",iconUri:"/visualizations/lineColumnComboChart/icon",minimalVisId:"lineColumnComboChart",visIds:["lineColumnComboChart"],dataSlots:[{caption:"Line Value",id:"lineValue",categoryTargets:[],measureTargets:["lineColumnComboChart"],sortOrder:"2"},{caption:"Axis label",id:"category",categoryTargets:["lineColumnComboChart"],measureTargets:[],sortOrder:"1"},{caption:"Column Value",id:"columnValue",categoryTargets:[],measureTargets:["lineColumnComboChart"],sortOrder:"3"}]},{id:"map",uri:"/visualizations/_archetypes/map",name:"Map",description:"Map",iconUri:"/visualizations/map1measure/icon",minimalVisId:"map1measure",visIds:["map1measure","map2measure","map3measure"],dataSlots:[{caption:"Point Size",id:"size",icon:"sizeBy",categoryTargets:[],measureTargets:["map2measure","map3measure"],sortOrder:"3"},{caption:"Region Heat",id:"values",icon:"heat",categoryTargets:[],measureTargets:["map1measure","map2measure","map3measure"],sortOrder:"2"},{caption:"Point Heat",id:"sizeHeat",icon:"heat",categoryTargets:[],measureTargets:["map3measure"],sortOrder:"4"},{caption:"Regions",id:"categories",icon:"location",categoryTargets:["map1measure","map2measure","map3measure"],measureTargets:[],sortOrder:"1"}]},{id:"packedBubble",uri:"/visualizations/_archetypes/packedBubble",name:"Packed Bubble",description:"Packed Bubble",iconUri:"/visualizations/packedBubbleChart1Cat/icon",minimalVisId:"packedBubbleChart1Cat",visIds:["packedBubbleChart1Cat","packedBubbleChart2Cat"],dataSlots:[{caption:"Size by",id:"size",icon:"sizeBy",categoryTargets:[],measureTargets:["packedBubbleChart1Cat","packedBubbleChart2Cat"],sortOrder:"2"},{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["packedBubbleChart2Cat"],measureTargets:[],sortOrder:"3"},{caption:"Categories",id:"categories",categoryTargets:["packedBubbleChart1Cat","packedBubbleChart2Cat"],measureTargets:[],sortOrder:"1"}]},{id:"pie",uri:"/visualizations/_archetypes/pie",name:"Pie",description:"Pie",iconUri:"/visualizations/pieChart/icon",minimalVisId:"pieChart",visIds:["pieChart"],dataSlots:[{caption:"Value",id:"values",categoryTargets:[],measureTargets:["pieChart"],sortOrder:"2"},{caption:"Categories",id:"categories",categoryTargets:["pieChart"],measureTargets:[],sortOrder:"1"}]},{id:"player",uri:"/visualizations/_archetypes/player",name:"Data Player",description:"Data Player",iconUri:"/visualizations/dataPlayer/icon",minimalVisId:"dataPlayer",visIds:["dataPlayer"],dataSlots:[{caption:"Axis label",id:"categories",categoryTargets:["dataPlayer"],measureTargets:[]}]},{id:"point",uri:"/visualizations/_archetypes/point",name:"Point",description:"Point",iconUri:"/visualizations/pointChart1cat/icon",minimalVisId:"pointChart1cat",visIds:["pointChart1cat","pointChart2cat"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["pointChart2cat"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["pointChart1cat","pointChart2cat"],sortOrder:"3"},{caption:"Axis label",id:"categories",categoryTargets:["pointChart1cat","pointChart2cat"],measureTargets:[],sortOrder:"1"}]},{id:"radial",uri:"/visualizations/_archetypes/radial",name:"Radial",description:"Radial",iconUri:"/visualizations/radialChart/icon",minimalVisId:"radialChart",visIds:["radialChart","radialTargetChart"],dataSlots:[{caption:"Value",id:"values",categoryTargets:[],measureTargets:["radialChart","radialTargetChart"],sortOrder:"2"},{caption:"Maximum Value",id:"maxSize",categoryTargets:[],measureTargets:["radialTargetChart"],sortOrder:"3"},{caption:"Categories",id:"categories",categoryTargets:["radialChart","radialTargetChart"],measureTargets:[],sortOrder:"1"}]},{id:"radialBar",uri:"/visualizations/_archetypes/radialBar",name:"Radial Bar",description:"Radial Bar",iconUri:"/visualizations/radialBarChart/icon",minimalVisId:"radialBarChart",visIds:["radialBarChart"],dataSlots:[{caption:"Value",id:"values",categoryTargets:[],measureTargets:["radialBarChart"],sortOrder:"2"},{caption:"Categories",id:"categories",categoryTargets:["radialBarChart"],measureTargets:[],sortOrder:"1"}]},{id:"scatterPlot",uri:"/visualizations/_archetypes/scatterPlot",name:"Scatter Plot",description:"Scatter Plot",iconUri:"/visualizations/scatterPlotChart/icon",minimalVisId:"scatterPlotChartNoCat",visIds:["scatterPlotChart","scatterPlotChart2Cat","scatterPlotChartNoCat"],dataSlots:[{caption:"Vertical axis",id:"yAxis",icon:"yAxis",categoryTargets:[],measureTargets:["scatterPlotChart","scatterPlotChart2Cat","scatterPlotChartNoCat"],sortOrder:"4"},{caption:"Horizontal axis",id:"xAxis",icon:"xAxis",categoryTargets:[],measureTargets:["scatterPlotChart","scatterPlotChart2Cat","scatterPlotChartNoCat"],sortOrder:"3"},{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["scatterPlotChart2Cat"],measureTargets:[],sortOrder:"2"},{caption:"Points",id:"categories",icon:"points",categoryTargets:["scatterPlotChart","scatterPlotChart2Cat"],measureTargets:[],sortOrder:"1"}]},{id:"stackedBar",uri:"/visualizations/_archetypes/stackedBar",name:"Stack Bar",description:"Stack Bar",iconUri:"/visualizations/stackBarChart/icon",minimalVisId:"barChart",visIds:["barChart","stackBarChart","stackBarChart2Measures","stackedBarChart2MeasuresIgnoreColor"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["stackBarChart","stackedBarChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["barChart","stackBarChart","stackBarChart2Measures","stackedBarChart2MeasuresIgnoreColor"],sortOrder:"3"},{caption:"Axis label",id:"categories",icon:"yAxis",categoryTargets:["barChart","stackBarChart","stackBarChart2Measures","stackedBarChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"1"},{caption:"Value",id:"valuesRepeating",categoryTargets:[],measureTargets:["stackBarChart2Measures","stackedBarChart2MeasuresIgnoreColor"],sortOrder:"4"}]},{id:"stackedColumn",uri:"/visualizations/_archetypes/stackedColumn",name:"Stack Column",description:"Stack Column",iconUri:"/visualizations/stackColumnChart/icon",minimalVisId:"columnChart",visIds:["columnChart","stackColumnChart","stackColumnChart2Measures","stackColumnChart2MeasuresIgnoreColor"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["stackColumnChart","stackColumnChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"2"},{caption:"Value",id:"values",categoryTargets:[],measureTargets:["columnChart","stackColumnChart","stackColumnChart2Measures","stackColumnChart2MeasuresIgnoreColor"],sortOrder:"3"},{caption:"Axis label",id:"categories",categoryTargets:["columnChart","stackColumnChart","stackColumnChart2Measures","stackColumnChart2MeasuresIgnoreColor"],measureTargets:[],sortOrder:"1"},{caption:"Value",id:"valuesRepeating",categoryTargets:[],measureTargets:["stackColumnChart2Measures","stackColumnChart2MeasuresIgnoreColor"],sortOrder:"4"}]},{id:"summaryChart",uri:"/visualizations/_archetypes/summaryChart",name:"Summary",description:"Summary",iconUri:"/visualizations/summary/icon",minimalVisId:"summary",visIds:["summary"],dataSlots:[{caption:"Value",id:"values",categoryTargets:[],measureTargets:["summary"]}]},{id:"treeMap",uri:"/visualizations/_archetypes/treeMap",name:"Tree Map",description:"Tree Map",iconUri:"/visualizations/treeMap1Cat1MeasureChart/icon",minimalVisId:"treeMap1Cat1MeasureChart",visIds:["treeMap1Cat1MeasureChart","treeMap1Cat2MeasureChart","treeMap2Cat1MeasureChart","treeMap2Cat2MeasureChart","treeMap3Cat1MeasureChart","treeMap3Cat2MeasureChart"],dataSlots:[{caption:"Heat by",id:"color",icon:"heat",categoryTargets:[],measureTargets:["treeMap1Cat2MeasureChart","treeMap2Cat2MeasureChart","treeMap3Cat2MeasureChart"]},{caption:"Size by",id:"values",icon:"sizeBy",categoryTargets:[],measureTargets:["treeMap1Cat1MeasureChart","treeMap1Cat2MeasureChart","treeMap2Cat1MeasureChart","treeMap2Cat2MeasureChart","treeMap3Cat1MeasureChart","treeMap3Cat2MeasureChart"]},{caption:"Level One",id:"categories",icon:"hierarchy",categoryTargets:["treeMap1Cat1MeasureChart","treeMap1Cat2MeasureChart","treeMap2Cat1MeasureChart","treeMap2Cat2MeasureChart","treeMap3Cat1MeasureChart","treeMap3Cat2MeasureChart"],measureTargets:[],sortOrder:"1"},{caption:"Level Three",id:"level3",icon:"hierarchy",categoryTargets:["treeMap3Cat1MeasureChart","treeMap3Cat2MeasureChart"],measureTargets:[],sortOrder:"3"},{caption:"Level Two",id:"level2",icon:"hierarchy",categoryTargets:["treeMap2Cat1MeasureChart","treeMap2Cat2MeasureChart","treeMap3Cat1MeasureChart","treeMap3Cat2MeasureChart"],measureTargets:[],sortOrder:"2"}]},{id:"wordCloud",uri:"/visualizations/_archetypes/wordCloud",name:"Word Cloud",description:"Word Cloud",iconUri:"/visualizations/wordChart1Cat1Measure/icon",minimalVisId:"wordChart1Cat1Measure",visIds:["wordChart1Cat1Measure","wordChart1Cat2Measures","wordChart2Cat1Measures"],dataSlots:[{caption:"Color by",id:"color",icon:"colorBy",categoryTargets:["wordChart2Cat1Measures"],measureTargets:["wordChart1Cat2Measures"]},{caption:"Size by",id:"scale",icon:"sizeBy",categoryTargets:[],measureTargets:["wordChart1Cat1Measure","wordChart1Cat2Measures","wordChart2Cat1Measures"]},{caption:"Words",id:"word",icon:"rows",categoryTargets:["wordChart1Cat1Measure","wordChart1Cat2Measures","wordChart2Cat1Measures"],measureTargets:[]}]}];return{getArcheTypeFromVizId:function(t){var s=e.find(a,(function(e){return e.visIds.indexOf(t)>=0}));return s?s.id:null}}})),define("dashboard-core/js/dashboard/loader/upgrader/7",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","./RAVE1ArcheTypes","underscore"],(function(e,a,t,s){var r={pieAsDonutUpgradeHandler:function(e){return e+""!="true"?1:.4},hideRadialValueHandler:function(e){return e+""=="true"?"none":"center"}},o={legendPosition:{id:"legend.position"}},i={area:{ID:"RAVE2_smoothArea",SLOTS:{categories:"x",color:"color",values:"y"}},pie:{ID:"RAVE2_pie",SLOTS:{categories:"color",values:"value"},PROPERTIES:{pieAsDonut:{id:"donutRadius",propertyValueHandler:r.pieAsDonutUpgradeHandler},hideRadialValue:{id:"labelLocation",propertyValueHandler:r.hideRadialValueHandler}}},clusterLine:{ID:"RAVE2_smoothline",SLOTS:{categories:"x",values:"y",color:"color",valuesRepeating:"y0"},PROPERTIES:{symbolShape:{id:"lineWithPoints.symbol"}}},bubble:{ID:"RAVE2_bubble",SLOTS:{xAxis:"x",yAxis:"y",size:"size",color:"color"}},packedBubble:{ID:"RAVE2_packedBubble",SLOTS:{categories:"label",color:"color",size:"size"}},radial:{ID:"RAVE2_multipleDialCategoryLabel",SLOTS:{categories:"category",values:"value",maxSize:"maxValue"}},radialBar:{ID:"RAVE2_dial",SLOTS:{categories:"label",values:"value"}},point:{ID:"RAVE2_point",SLOTS:{categories:"x",values:"y",color:"color"}},clusterColumn:{ID:"RAVE2_clusteredcolumn",SLOTS:{categories:"x",color:"color",values:"y",valuesRepeating:"y0"}},stackedColumn:{ID:"RAVE2_stackedcolumn",SLOTS:{categories:"x",color:"color",values:"y",valuesRepeating:"y0"}},clusterBar:{ID:"RAVE2_clusteredbar",SLOTS:{categories:"x",color:"color",values:"y",valuesRepeating:"y0"}},stackedBar:{ID:"RAVE2_stackedbar",SLOTS:{categories:"x",color:"color",values:"y",valuesRepeating:"y0"}},wordCloud:{ID:"RAVE2_wordcloud",SLOTS:{word:"label",color:"color",scale:"size"}},scatterPlot:{ID:"RAVE2_scatter",SLOTS:{xAxis:"x",yAxis:"y",categories:"label",color:"color"}},lineColumnCombo:{ID:"RAVE2_compositeSmoothOneDataSet",SLOTS:{lineValue:"yLine",columnValue:"y",category:"x"},PROPERTIES:{symbolShape:{id:"lineWithPoints.symbol"}}},heat:{ID:"RAVE2_heatmap",SLOTS:{xAxis:"x",yAxis:"y",values:"color"}}};return new(e.extend([a],{init:function(){this.VERSION=7},up:function(e){return e?(s.each(e.widgets,this._widgetSpecUpgrade.bind(this)),Promise.resolve(e)):Promise.resolve(e)},_widgetSpecUpgrade:function(e){var a=e.archetype||t.getArcheTypeFromVizId(e.visId);if(a){var s=i[a];s&&(e.archetype&&(e.archetype=s.ID),e.visId=s.ID,this._slotsUpgrade(e.id,e.mapping,a),this._propertyUpgrade(e.properties,a))}},_propertyUpgrade:function(e,a){s.each(e,function(e){this._upgradeSingleProperty(e,o),i[a]&&i[a].PROPERTIES&&this._upgradeSingleProperty(e,i[a].PROPERTIES)}.bind(this))},_upgradeSingleProperty:function(e,a){var t=a[e.id];if(t){var s=e.value;t.propertyValueHandler&&(s=t.propertyValueHandler(e.value)),e.id=t.id,e.value=s}},_slotsUpgrade:function(e,a,t){var r=i[t].SLOTS;s.each(a,function(a){var s=r[a.slotId];s?(a.id=s,a.slotId=s):this.data&&this.data.logger&&this.data.logger&&this.data.logger.warn("No id for "+e+" archetype "+t+" slotId "+a.slotId)}.bind(this))},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/8",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","../../../lib/@waca/dashboard-common/dist/query/FacetDataObject","jquery","underscore"],(function(e,a,t,s,r){return new(e.extend([a],{init:function(){this.VERSION=8},up:function(e){return e?(this._upgradeEventGroups(e),this._upgradeTimeline(e),this._upgradeIdentifiers(e).catch(function(a){return this.data.logger&&this.data.logger.error(a),e}.bind(this))):Promise.resolve(e)},_upgradeIdentifiers:function(e){var a=this,t=[];r.each(e.widgets,(function(e){var s=a._collectColumnIdsInWidget(e);if(s){var o=r.findWhere(t,{datasetId:s.datasetId});o?o.columnIds=o.columnIds.concat(s.columnIds):t.push(s)}})),e.datasetShaping&&e.datasetShaping.length>0&&this._collectColumnIdsFromDatasetShaping(e.datasetShaping,t);var s=r.filter(t,(function(e){if("uploadedFile"!==e.datasetType&&"dataSet2"!==e.datasetType)return e}));this._mergeDatasetColumnIds(s);var o=[];return r.each(s,(function(e){e.merged||o.push(a._getIdentifiersInModelLocale(e))})),Promise.all(o).then((function(){for(var t=0;t<s.length;++t)s[t].newColumnIds&&s[t].newColumnIds.length>0&&(a._replaceIdentifiersInAllWidgets(s[t],e),a._replaceIdentifiersInDatasetShaping(s[t],e));return e}))},_collectColumnIdsFromDatasetShaping:function(e,a){for(var t=0;t<e.length;++t){var s=e[t],o=r.findWhere(a,{datasetId:s.id});o||(o={datasetId:s.id,columnIds:[],datasetType:"module"},a.push(o)),s.calculations&&s.calculations.length>0&&this._collectCalculationColumnIds(s.calculations,o.columnIds),s.filters&&s.filters.length>0&&this._collectFilterColumnIdsAndUpgradeFilterValues(s.filters,o.columnIds),o.columnIds.length>0&&(o.columnIds=r.uniq(o.columnIds))}},_collectCalculationColumnIds:function(e,a){r.each(e,(function(e){e.expr&&e.expr.params&&e.expr.params.length>0&&r.each(e.expr.params,(function(e){e.col&&a.push(e.col)}))}))},_collectFilterColumnIdsAndUpgradeFilterValues:function(e,a){var t=this;r.each(e,(function(e){e.columnId&&(a&&a.push(e.columnId),t._upgradeFilterValues(e))}))},_mergeDatasetColumnIds:function(e){if(0!==e.length)for(var a=0;a<e.length;++a)e[a].columnIds=r.uniq(e[a].columnIds)},_findSameDataset:function(e,a,t){for(var s=a+1;s<t.length;++s)if(!t[s].merged&&t[s].datasetId===e)return s;return-1},_collectColumnIdsInWidget:function(e){if(!e||!e.dataSet)return null;var a=this._collectColumnIds(e);return 0===a.length?null:{datasetId:e.dataSet.id,columnIds:a,datasetType:e.dataSet.type}},_collectColumnIds:function(e){var a=[];return r.each(e.mapping,function(e){e.columnId&&a.push(e.columnId)}.bind(this)),r.each(e.filters,function(e){e.columnId?(a.push(e.columnId),this._upgradeFilterValues(e)):this._collectColumnIdsInCompoundFilter(e,a)}.bind(this)),this._collectFilterColumnIdsAndUpgradeFilterValues(e.localFilters,a),r.uniq(a)},_upgradeFilterValues:function(e){if(e&&r.isArray(e.values)&&e.values.length>0){var a=[];r.each(e.values,(function(e){a.push(r.isObject(e)?e:new t(e).toJSONObject())})),e.values=a}},_collectColumnIdsInCompoundFilter:function(e,a){e.columnId&&a.push(e.columnId),e.values&&this._collectColumnIdsInValues(e.values,a)},_collectColumnIdsInValues:function(e,a){r.each(e,function(e){e.columnId&&a.push(e.columnId),this._upgradeFilterValues(e),e.values&&this._collectColumnIdsInValues(e.values,a)}.bind(this))},_getIdentifiersInModelLocale:function(e){var a=this,t=e.datasetId;return this.data.ajaxSvc.ajax({url:"v1/metadata/modules/"+t+"/identifiers",type:"GET",data:{idArray:JSON.stringify(e.columnIds.sort())},headers:{Accept:"application/json"}}).then((function(a){return e.newColumnIds=a.data,a})).catch((function(e){a.data.logger.error("Error calling Modeling service API to update identifiers");var t="";throw e.jqXHR.responseText&&(t=e.jqXHR.responseText,a.data.logger.error(t)),t}))},_replaceIdentifiersInAllWidgets:function(e,a){var t=this;r.each(a.widgets,(function(a){a.dataSet&&a.dataSet.id===e.datasetId&&t._replaceIdentifiersInOneWidget(a,e.newColumnIds)}))},_replaceIdentifiersInDatasetShaping:function(e,a){if(a.datasetShaping){var t=r.findWhere(a.datasetShaping,{id:e.datasetId});t&&(t.calculations&&t.calculations.length>0&&this._replaceIdentifiersInCalculations(t.calculations,e.newColumnIds),t.filters&&t.filters.length>0&&this._replaceIdentifiersInFilters(t.filters,e.newColumnIds))}},_replaceIdentifiersInCalculations:function(e,a){r.each(e,(function(e){e.expr&&e.expr.params&&e.expr.params.length>0&&r.each(e.expr.params,(function(e){if(e.col){var t=r.findWhere(a,{source:e.col});t&&(e.col=t.target)}}))}))},_replaceIdentifiersInFilters:function(e,a){r.each(e,function(e){e.columnId&&this._replaceIdentifierOfColumn(e,a)}.bind(this))},_replaceIdentifiersInCompoundFilters:function(e,a){e.columnId&&this._replaceIdentifierOfColumn(e.columnId,a),e.values&&this._replaceIdentifiersInValues(e.values,a)},_replaceIdentifiersInValues:function(e,a){r.each(e,function(e){e.columnId&&this._replaceIdentifierOfColumn(e,a),e.values&&this._replaceIdentifiersInValues(e.values,a)}.bind(this))},_replaceIdentifiersInOneWidget:function(e,a){r.each(e.mapping,function(e){e.columnId&&this._replaceIdentifierOfColumn(e,a)}.bind(this)),r.each(e.filters,function(e){e.columnId?this._replaceIdentifierOfColumn(e,a):this._replaceIdentifiersInCompoundFilters(e,a)}.bind(this)),r.each(e.localFilters,function(e){e.columnId&&this._replaceIdentifierOfColumn(e,a)}.bind(this))},_replaceIdentifierOfColumn:function(e,a){var t=r.findWhere(a,{source:e.columnId});t&&(e.columnId=t.target)},_upgradeEventGroups:function(e){if(e&&e.layout&&!e.evenGroups){var a=[],t=e.layout,s=!0;t.items&&t.items.length>0&&(s=!!r.find(t.items,(function(e){return"widget"===e.type||"group"===e.type}))),s?a.push(this._buildEventGroup(t)):r.each(t.items,function(e){a.push(this._buildEventGroup(e))}.bind(this)),e.eventGroups=a}},_buildEventGroup:function(e,a){return a=a||{id:e.id+":1",widgetIds:[]},"widget"===e.type?a.widgetIds.push(e.id):r.each(e.items,function(e){this._buildEventGroup(e,a)}.bind(this)),a},_upgradeTimeline:function(e){if(e&&e.timeline){var a=[];r.each(e.timeline.items,function(e){e.id&&a.push(this._upgradeTimelineSpec(e))}.bind(this)),delete e.timeline.items,e.timeline.episodes=a}},_upgradeTimelineSpec:function(e){var a=[];return e.episode&&(a.push({timer:e.episode.timer1||0===e.episode.timer1?e.episode.timer1:0,action:e.episode.action1||"show"}),a.push({timer:e.episode.timer2||0===e.episode.timer2?e.episode.timer2:5e3,action:e.episode.action2||"hide"})),{id:e.id,type:e.type,acts:a}},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/9",["jquery","underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a,t,s){return new(t.extend([s],{init:function(){this.VERSION=9},up:function(e){return e?(this.moveTransparencyToLayoutModel(e),this.fixTextAutosize(e),Promise.resolve(e)):Promise.resolve(e)},moveTransparencyToLayoutModel:function(e){if(e&&e.widgets){var t=a.keys(e.widgets);a.each(t,function(a){var t=this._findLayoutSpecById(e.layout,a),s=e.widgets[a];t&&void 0!==s.transparency&&(t.style||(t.style={}),void 0===t.style.opacity&&(t.style.opacity=s.transparency),delete s.transparency),s&&s.content&&(s.content=this._removeOpacity(s.content))}.bind(this))}},_findLayoutSpecById:function(e,a){var t;if(e.id===a&&(t=e),!t&&e.items)for(var s=0;!t&&s<e.items.length;s++)t=this._findLayoutSpecById(e.items[s],a);return t},_removeOpacity:function(e){var a=e.replace(RegExp("[ ]*opacity:[ ]*[0-9.]+[ ]*;?[ ]*"),"");return a=a.replace(RegExp('[ ]?style=""'),"")},fixTextAutosize:function(t){t&&t.widgets&&a.each(t.widgets,(function(a){if(a&&a.content&&"text"===a.type&&a.isResponsive){var t=e(a.content);t.find('[style*="font-size"]').css("font-size",""),a.content=t[0].outerHTML}}))},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/wa_infographic",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a){return new(e.extend([a],{init:function(){},up:function(e){if(!e)return Promise.resolve(e);if(!this._containsInfographic(e.layout.templateName))return Promise.resolve(e);var a=e.layout.templateName;return delete e.layout.templateName,e.layout.type="singlePage",e.layout.items[0].title="Untitled 1",e.layout.items[0].templateName=a,Promise.resolve(e)},down:function(e){if(!e)return Promise.resolve(e);if(!this._containsInfographic(e.layout.items[0].templateName))return Promise.resolve(e);var a=e.layout.items[0].templateName;return e.layout.templateName=a,e.layout.type="container",delete e.layout.items[0].title,delete e.layout.items[0].templateName,Promise.resolve(e)},_containsInfographic:function(e){return!!e&&0===e.lastIndexOf("Infographics",0)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/ca_updateSheet1InUploadedFile",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","../../../lib/@waca/core-client/js/core-client/errors/BaseError","underscore"],(function(e,a,t,s){return new(e.extend([a],{init:function(){this.VERSION=1002},_getSourcesInfo:function(e){var a=[];return s.each(e.widgets,(function(e){if(e.dataSet){var t=e.dataSet.type,r=e.dataSet.id;"uploadedFile"!==t&&"dataSet2"!==t||s.findWhere(a,{id:r})||a.push({id:r,type:t})}})),a.length,a},up:function(e){return e?this._updateColumnIdForUploadedFileAndDataset2(e).catch(function(a){return this.data.logger&&this.data.logger.error(a),e}.bind(this)):Promise.resolve(e)},down:function(e){return Promise.resolve(e)},_updateColumnIdForUploadedFileAndDataset2:function(e){var a=null,t=this._getSourcesInfo(e);if(t.length>0){e.queriedForUpgrade=!0;var r=[];s.each(t,function(e){r.push(this._getMetadata(e))}.bind(this)),a=Promise.all(r).then(function(){return this._updateColumnIds(t,e),e}.bind(this),(function(e){throw e}))}else a=Promise.resolve();return a},_updateColumnIds:function(e,a){s.each(a.widgets,function(a){var t=a.dataSet?s.findWhere(e,{id:a.dataSet.id}):null;t&&this._updateColumnIdInWidget(t.querySubjectId,a)}.bind(this)),s.each(a.datasetShaping,function(a){var t=s.findWhere(e,{id:a.id});t&&this._updateColumnIdInShaping(t.querySubjectId,a)}.bind(this))},_updateColumnIdInWidget:function(e,a){s.each(a.mapping,function(a){a.columnId&&(a.columnId=this._replaceQuerySubjectId(a.columnId,e))}.bind(this)),s.each(a.filters,function(a){this._updateEdgeOrDataPointFilter(a,e)}.bind(this)),s.each(a.localFilters,function(a){this._updateEdgeOrDataPointFilter(a,e)}.bind(this))},_updateEdgeOrDataPointFilter:function(e,a){e.columnId&&(e.columnId=this._replaceQuerySubjectId(e.columnId,a)),e.values&&this._updateColumnIdInFilterValues(e.values,a)},_updateColumnIdInShaping:function(e,a){s.each(a.calculations,function(a){a.expr&&a.expr.params&&a.expr.params.length>0&&s.each(a.expr.params,function(a){a.col&&(a.col=this._replaceQuerySubjectId(a.col,e))}.bind(this))}.bind(this)),s.each(a.filters,function(a){a.columnId&&(a.columnId=this._replaceQuerySubjectId(a.columnId,e))}.bind(this))},_replaceQuerySubjectId:function(e,a){return e.replace("Sheet1.",a)},_updateColumnIdInFilterValues:function(e,a){s.each(e,function(e){e.columnId&&(e.columnId=this._replaceQuerySubjectId(e.columnId,a)),e.values&&this._updateColumnIdInFilterValues(e.values,a)}.bind(this))},_getMetadata:function(e){return new Promise(function(a,s){try{var r=e.id;this.data.ajaxSvc.ajax({url:"v1/metadata/base_modules/"+r+"/metadata?shortIdForExpression=true&item=on&type="+e.type,type:"GET",headers:{Accept:"application/json"}}).then(function(t){var s=t.data,r=void 0===s?{}:s;r.querySubject&&r.querySubject.length>0&&(e.querySubjectId=r.querySubject[0].identifier+"."),a(r)}.bind(this),function(e){this.data.logger&&this.data.logger.error("Error calling Modeling service API to get metadata");var a="";e.responseText&&(a=e.responseText,this.data.logger&&this.data.logger.error(a)),s(new t(a))}.bind(this))}catch(e){s(e)}}.bind(this))}}))})),define("dashboard-core/js/dashboard/loader/upgrader/waca_removeWidgetContentBoardSpec",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a){return new(e.extend([a],{init:function(){},up:function(e){return e&&this._specHasWidgets(e)?(Object.keys(e.widgets).forEach((function(a){"text"!==e.widgets[a].type&&"shape"!==e.widgets[a].type&&e.widgets[a].content&&delete e.widgets[a].content})),Promise.resolve(e)):Promise.resolve(e)},down:function(e){return Promise.resolve(e)},_specHasWidgets:function(e){return!!e.widgets&&Object.keys(e.widgets).length>0}}))})),define("dashboard-core/js/dashboard/loader/upgrader/waca",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a,t){var s={elementColor:"defaultPaletteIndex",colorPalette:"contColorPalette",legendPosition:"widget.legend.position"},r=["colorPalette","queryRefresh","legendTitleColor","legendBodyColor","axisLineColor","axisGridLineColor","elementsLabelColor","axisLabelColor","axisTitleFontColor","axisTitleFont","axisLabelFont","elementsStyleFont","legendTitleFont","legendBodyFont"],o={JQGrid:"JQGrid",crosstab:"crosstab",dataPlayer:"dataPlayer",list:"list",hierarchy2:"list",hierarchy3:"list",map1measure:"com.ibm.vis.rave2polygonmap",map2measure:"com.ibm.vis.rave2polygonmap",map3measure:"com.ibm.vis.rave2polygonmap",RAVE2_bubble:"com.ibm.vis.ravebubble",RAVE2_clusteredcolumn:"com.ibm.vis.rave2bundlecolumn",RAVE2_clusteredbar:"com.ibm.vis.rave2bundlebar",RAVE2_compositeSmoothOneDataSet:"com.ibm.vis.rave2bundlecomposite",RAVE2_dial:"com.ibm.vis.rave2bundleradialbar",RAVE2_multipleDialCategoryLabel:"com.ibm.vis.rave2bundleradialbar",RAVE2_heatmap:"com.ibm.vis.rave2heat",RAVE2_packedBubble:"com.ibm.vis.rave2bundlepackedbubble",RAVE2_pie:"com.ibm.vis.rave2bundlepie",RAVE2_point:"com.ibm.vis.rave2point",RAVE2_scatter:"com.ibm.vis.ravescatter",RAVE2_smoothArea:"com.ibm.vis.rave2bundlearea",RAVE2_smoothline:"com.ibm.vis.rave2line",RAVE2_stackedcolumn:"com.ibm.vis.rave2bundlestackedcolumn",RAVE2_stackedbar:"com.ibm.vis.rave2bundlestackedbar",RAVE2_tiledmap:"com.ibm.vis.rave2bundletiledmap",RAVE2_wordcloud:"com.ibm.vis.rave2bundlewordcloud",summary:"summary",treeMap1Cat1MeasureChart:"com.ibm.vis.rave2bundletreemap",treeMap1Cat2MeasureChart:"com.ibm.vis.rave2bundletreemap",treeMap2Cat1MeasureChart:"com.ibm.vis.rave2bundletreemap",treeMap2Cat2MeasureChart:"com.ibm.vis.rave2bundletreemap",treeMap3Cat1MeasureChart:"com.ibm.vis.rave2bundletreemap",treeMap3Cat2MeasureChart:"com.ibm.vis.rave2bundletreemap"},i={data:"live"},n={"com.ibm.vis.ravebubble":{label:"categories"},"com.ibm.vis.ravescatter":{label:"categories"},"com.ibm.vis.rave2bundlearea":{x:"categories",color:"series",y:"values"},"com.ibm.vis.rave2bundlebar":{x:"categories",y:"values"},"com.ibm.vis.rave2bundlestackedbar":{x:"categories",y:"values"},"com.ibm.vis.rave2bundlecolumn":{x:"categories",y:"values"},"com.ibm.vis.rave2bundlestackedcolumn":{x:"categories",y:"values"},"com.ibm.vis.rave2bundlecomposite":{x:"categories",y:"columnValue",yLine:"lineValue"},"com.ibm.vis.rave2line":{x:"categories",color:"series",y:"values"},"com.ibm.vis.rave2point":{x:"categories",color:"series",y:"values"},"com.ibm.vis.rave2bundlepie":{color:"categories",value:"values"},"com.ibm.vis.rave2bundleradialbar":{label:"categories",color:"color",value:"values",category:"repeatHorizontal"},"com.ibm.vis.rave2bundletreemap":{values:"size",level:"categories"},"com.ibm.vis.rave2heat":{x:"series",y:"categories"},"com.ibm.vis.rave2bundletiledmap":{featureId:"locations",featureIdRefinement:"locations",value:"locationColor",categories:"locations",values:"locationColor",size:"pointSize",sizeHeat:"pointColor"},"com.ibm.vis.rave2polygonmap":{sizeHeat:"pointColor"},"com.ibm.vis.rave2bundlepackedbubble":{label:"categories"},"com.ibm.vis.rave2bundlewordcloud":{label:"categories"},crosstab:{column_level:"column_level1",row_level:"row_level1",values:"values"},dataPlayer:{categories:"category"},list:{level:"level1",_default:"level1"},JQGrid:{grid_cols:"grid_cols"},summary:{}},l={category:"categorical"},p={summary:function(){return"values"},RAVE2_clusteredbar:function(e,a){return this._getSlotNameForBarColumnLine(e,a,"y","x")},RAVE2_clusteredcolumn:function(e,a){return this._getSlotNameForBarColumnLine(e,a,"x","y")},RAVE2_smoothline:function(e,a){return this._getSlotNameForBarColumnLine(e,a,"x","y")},list:function(){return"level"},RAVE2_compositeSmoothOneDataSet:function(a,t){var s;"measure"===t.sourceCategory||"fact"===t.type?s=e.find(a.slotmapping.slots,(function(e){return"lineValue"===e.name}))?"y":"yLine":s="x";return s},RAVE2_scatter:function(a){return e.find(a.slotmapping.slots,(function(e){return"categories"===e.name}))?e.find(a.slotmapping.slots,(function(e){return"color"===e.name}))?e.find(a.slotmapping.slots,(function(e){return"x"===e.name}))?"y":"x":"color":"label"},JQGrid:function(){return"grid_cols"},RAVE2_tiledmap:function(a,t){var s;return"attribute"===t.type&&(e.find(a.slotmapping.slots,(function(e){return"locations"===e.name}))?this._hasOnlyOneLocationsSlot(a.slotmapping.slots)&&(s="locations"):s="locations"),s||(s=e.find(a.slotmapping.slots,(function(e){return"locationColor"===e.name}))?e.find(a.slotmapping.slots,(function(e){return"pointSize"===e.name}))?"pointColor":"pointSize":"locationColor"),s}};return new(a.extend([t],{init:function(){this.VERSION=1004},up:function(e){return e.dataSources||(e.dataSources={sources:[],version:"1.0"},this._upgradeWidgets(e)),Promise.resolve(e)},_upgradeWidgets:function(a){e.each(a.widgets,function(e){if(o[e.visId]){var t=this._addWidgetDataSource(a,e);e.data={dataViews:[]},this._upgradeProperties(e),this._upgradeSlotMapping(t,e),e.type=i[e.type],e.visId=e.archetype=o[e.visId],delete e.dataSet,delete e.mapping}}.bind(this))},_addWidgetDataSource:function(a,t){if(t.dataSet){var s=e.find(a.dataSources.sources,(function(e){return e.assetId===t.dataSet.id}));if(!s)s={id:e.uniqueId("model"),assetId:t.dataSet.id,name:t.dataSet.name,type:t.dataSet.type,shaping:{}},a.dataSources.sources.push(s);return s.id}},_upgradeSlotMapping:function(a,t){t.slotmapping={slots:[]};var s=0;"RAVE2_scatter"===t.visId&&e.isArray(t.mapping)&&2===t.mapping.length&&this._scatterPlotSpecialCase(t),e.each(e.sortBy(t.mapping,"slotId"),function(r){var i=this._addDataItem(a,t,r),p=r.slotId||n[o[t.visId]]._default;p||(p=this._assignDefaultSlotId(t,r)),/^y[0-9]*$/.test(p)&&s++,p=p.replace(/[0-9]/g,"");var u=n[o[t.visId]][p]?n[o[t.visId]][p]:r.slotId,d=e.find(t.slotmapping.slots,(function(e){return e.name===u}));d?d.dataItems.push(i):t.slotmapping.slots.push(this._createSlot(u||r.label,l[r.slotType]?l[r.slotType]:r.slotType,i,r))}.bind(this)),s>1&&this._addMultiMeasuresItemAndSlot(t,s)},_scatterPlotSpecialCase:function(a){var t=a.mapping;if(t&&2===t.length&&this._isXYAndOrdinal(t[0])&&this._isXYAndOrdinal(t[1])){var s=e.find(t,(function(e){return"x"===e.slotId}));t.unshift({columnId:s.columnId,label:s.label,slotId:"label",slotType:"category"})}},_isXYAndOrdinal:function(e){return("x"===e.slotId||"y"===e.slotId)&&"ordinal"===e.slotType},_upgradeMappingFormat:function(a,t){e.isEmpty(t.formatSpec)||(a.format={id:t.formatSpec.selectedFormat,formatSpec:t.formatSpec})},_addDataItem:function(a,t,s){var r=e.find(t.data.dataViews,(function(e){return e.modelRef===a}));r||(r={modelRef:a,dataItems:[]},t.data.dataViews.push(r));var o={id:e.uniqueId("dataItem"),itemId:s.columnId,itemLabel:s.label};if(s.aggregationType&&(o.aggregate=s.aggregationType),this._upgradeMappingFormat(o,s),r.dataItems.push(o),s.order&&(o.selection=[{operation:"order",sort:{type:s.order,priority:0,by:"caption"}}]),s.limit){o.selection||(o.selection=[]);var i={operation:"keep"},n={type:s.limit.op+"count",value:s.limit.val};e.isObject(s.limit.rank)&&(n.rank=!0),i.topBottom=n,s.limit.fact&&(i.context=[{itemId:s.limit.fact}]),o.selection.push(i)}return o.id},_assignDefaultSlotId:function(e,a){var t;return e.visId in p&&(t=p[e.visId].call(this,e,a))&&(a.slotId=t),t},_hasOnlyOneLocationsSlot:function(e){for(var a=0,t=0;t<e.length;++t)"locations"===e[t].type&&a++;return 1===a},_getSlotNameForBarColumnLine:function(a,t,s,r){return"measure"===t.sourceCategory||"fact"===t.type?r:e.find(a.mapping,(function(e){return e.slotId===s}))?"color":s},_createSlot:function(a,t,s,r){var o={dataItems:[s],type:t,name:a};return r.graphic&&(o.dataItemSettings=[{graphic:e.clone(r.graphic),shapeDropEnabled:r.shapeDropEnabled}]),o},_addMultiMeasuresItemAndSlot:function(a,t){var s=this._getMultiMeasureSlotName(a);if(s){var r={id:"_multiMeasuresSeries",itemId:"_multiMeasuresSeries",itemLabel:"Measures group ("+t+")"};a.data.dataViews[0].dataItems.push(r);var o=e.find(a.slotmapping.slots,(function(e){return e.name===s}));o?o.dataItems.unshift("_multiMeasuresSeries"):a.slotmapping.slots.push({dataItems:["_multiMeasuresSeries"],name:s,type:"any"})}},_upgradeWordCloudProperties:function(a,t){if(!this._findProperty("hideLegend",a.properties)){var s=e.find(a.mapping,(function(e){return"size"===e.slotId})),r=e.find(a.mapping,(function(e){return"color"===e.slotId}));s&&!r&&t.push({id:"widget.legend.display",value:!1})}},_getMultiMeasureSlotName:function(e){switch(o[e.visId]){case"com.ibm.vis.rave2bundlebar":case"com.ibm.vis.rave2bundlestackedbar":case"com.ibm.vis.rave2bundlecolumn":case"com.ibm.vis.rave2bundlestackedcolumn":return"color";case"com.ibm.vis.rave2bundlearea":case"com.ibm.vis.rave2point":case"com.ibm.vis.rave2line":return"series";default:return null}},_upgradeProperties:function(e){var a=[];switch(e.visId){case"RAVE2_wordcloud":this._upgradeWordCloudProperties(e,a);break;case"RAVE2_clusteredcolumn":case"RAVE2_clusteredbar":case"RAVE2_stackedcolumn":case"RAVE2_stackedbar":this._upgradeBarProperties(e,a);break;case"RAVE2_smoothline":this._upgradeLineProperties(e,a,!1);break;case"RAVE2_smoothArea":this._upgradeLineProperties(e,a,!0),this._upgradeAutoSort(e,"color","asc");break;case"RAVE2_point":this._upgradePointProperties(e,a);break;case"RAVE2_compositeSmoothOneDataSet":this._upgradeCompositeProperties(e,a);break;case"RAVE2_pie":this._upgradePieProperties(e,a);break;case"RAVE2_bubble":case"RAVE2_scatter":this._upgradeBubbleProperties(e,a);break;case"summary":this._upgradeSummaryProperties(e,a);break;case"JQGrid":case"crosstab":this._upgradeTableAndCrosstabProperties(e,a)}this._copyCommonProperties(e,a),this._upgradeTitleProperty(e),e.properties=a},_upgradeTitleProperty:function(e){e&&e.name&&""!==e.name&&(e.showTitle=!0)},_upgradeCompositeProperties:function(e,a){var t=this._findProperty("interpolation",e.properties);a.push({id:"lines.smooth",value:!!t&&t.value});var s=this._findProperty("elementColor",e.properties);s&&a.push({id:"defaultPaletteIndex",value:s.value});var r=this._findProperty("lineWithPoints.symbol",e.properties);r&&a.push({id:"lineWithPoints.symbol",value:this._upgradeSymbolShapeValue(r.value)}),this._copyPropertiesUnmodified(["lineColor"],e,a),this._setZeroOriginPropertyToValueByDefault(a,!1)},_upgradeBarProperties:function(e,a){a.push({id:"stacked",value:-1!==e.visId.indexOf("stacked")}),this._setZeroOriginPropertyToValueByDefault(a,!0)},_upgradeSymbolShapeValue:function(e){return"rectangle"===e?"horizontal-rectangle":"triangle"===e?"triangle-up":"poly"===e?"circle":e},_upgradePointProperties:function(e,a){a.push({id:"lines.visible",value:!1});var t=this._findProperty("symbolShape",e.properties);t&&a.push({id:"lineWithPoints.symbol",value:this._upgradeSymbolShapeValue(t.value)})},_upgradeLineProperties:function(e,a,t){var s=this._findProperty("interpolation",e.properties);a.push({id:"lines.smooth",value:!s||s.value}),a.push({id:"markers.visible",value:!0}),a.push({id:"lines.visible",value:!0});var r=this._findProperty("hideAxisTitleLabels",e.properties);r&&a.push({id:"valueAxis.labels.visible",value:!r.value});var o=this._findProperty("lineWithPoints.symbol",e.properties);a.push({id:"lineWithPoints.symbol",value:o?this._upgradeSymbolShapeValue(o.value):"circle"}),this._setZeroOriginPropertyToValueByDefault(a,t)},_upgradePieProperties:function(e,a){var t=this._findProperty("donutRadius",e.properties);t&&a.push(t),a.push({id:"pie.has.hole",value:!(!t||1===t.value)}),this._copyPropertiesUnmodified(["labelLocation"],e,a)},_upgradeBubbleProperties:function(e,a){var t=this._findProperty("symbolShape",e.properties);t&&a.push({id:"symbolShape",value:this._upgradeSymbolShapeValue(t.value)})},_upgradeSummaryProperties:function(e,a){this._copyPropertiesUnmodified(["showItemLabel","valueColor","fillDirection"],e,a)},_copyPropertiesUnmodified:function(a,t,s){e.each(a,function(e){var a=this._findProperty(e,t.properties);a&&s.push(a)}.bind(this))},_upgradeTableAndCrosstabProperties:function(e,a){this._copyPropertiesUnmodified(["hideSummaries"],e,a)},_copyCommonProperties:function(a,t){if(a.properties){this._copyPropertiesUnmodified(r,a,t),e.each(s,function(e,s){var r=this._findProperty(s,a.properties);r&&t.push({id:e,value:r.value})}.bind(this));var o=this._findProperty("hideLegend",a.properties);o&&o.value&&t.push({id:"widget.legend.display",value:!1});var i=this._findProperty("legend.position",a.properties);if(i){var n="none"===i.value?"auto":i.value;t.push({id:"widget.legend.position",value:n})}var l=this._findProperty("hideAxisTitleLabels",a.properties);l&&!0===l.value&&t.push({id:"titles.visible",value:!1});var p=this._findProperty("hideTreeMapLeafLabels",a.properties);p&&!1===p.value&&t.push({id:"leaf.labels.visible",value:!0})}},_setZeroOriginPropertyToValueByDefault:function(e,a){e.push({id:"valueAxis.zeroOrigin",value:a})},_findProperty:function(a,t){return e.find(t,(function(e){return e.id===a}))},down:function(e){return Promise.resolve(e)},_specHasWidgets:function(e){return!!e.widgets&&Object.keys(e.widgets).length>0},_upgradeAutoSort:function(a,t,s){var r=e.find(a.mapping,(function(e){return e.slotId===t&&!e.order}));r&&(r.order=s)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/waca_shaping",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","dashboard-analytics/dataSources/models/DataSourcesModel","dashboard-analytics/dataSources/services/DataSourcesService"],(function(e,a,t,s,r){return new(a.extend([t],{init:function(){this.VERSION=1005},ORIGIN_VISUALIZATION:"visualization",ORIGIN_FILTER:"filter",up:function(a){this._calcIdMap={},this.dataSourcesService=null,this._eventGroupMap={},this._assetIdMap={},this.spec=a,this.dataSourcesService=new r({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.spec.dataSources=new s(this.spec.dataSources);var t=e.filter(this.spec.datasetShaping,(function(e){return e.calculations.length}));return this._buildEventGroupMap(),this._upgradeShaping(t).then(this._upgradeFilters.bind(this)).then(this._upgradeShapingFilters.bind(this)).then(function(){this._updateWidgetCalculationReferences(),delete this.spec.datasetShaping,this.data.pinUpgrade&&(this.spec.dataSources.toJSON&&(this.spec.dataSources=this.spec.dataSources.toJSON()),this.dataSourcesService.destroy()),Promise.resolve(this.spec)}.bind(this),(function(e){throw this.data.pinUpgrade&&this.dataSourcesService.destroy(),e}))},getContainerPageId:function(e){var a=this.findTopLevelParentItem(this.spec.layout,e);if(a)return a.id},findTopLevelParentItem:function(a,t){var s=null;return e.each(a.items,function(e){e.id===t?s=a:null!==this.findChildItem(e.items,t)&&(s=e)}.bind(this)),s},findChildItem:function(e,a){if(!e)return null;for(var t=null,s=0;s<e.length;++s){var r=e[s];if(r.id===a){t=r;break}if(r.items&&(r=this.findChildItem(r.items,a))){t=r;break}}return t},_buildEventGroupMap:function(){e.each(this.spec.eventGroups,function(a){e.each(a.widgetIds,function(e){this._eventGroupMap[e]=a.id}.bind(this))}.bind(this))},_upgradeFilters:function(){var a={},t=[];return e.each(this.spec.widgets,function(s){var r=s&&s.data&&s.data.dataViews[0]?s.data.dataViews[0].modelRef:null;if(r){var o=e.find(this.spec.dataSources.sources.models,(function(e){return e.id===r}));t.push(this._getModule(o,!1).then(function(t){this.spec.pageContext||(this.spec.pageContext=[]),e.isEmpty(s.filters)||(this._buildPageContext(t,a,s,o.id),delete s.filters),e.isEmpty(s.localFilters)||this._updateLocalFilters(t,s.localFilters)}.bind(this)))}}.bind(this)),Promise.all(t).then(function(){e.isEmpty(a)||(this.spec.pageContext=e.values(a))}.bind(this))},_upgradeShapingFilters:function(){var a={},t=[];return e.each(this.spec.datasetShaping,function(s){var r=e.find(this.spec.dataSources.sources.models,(function(e){return e.assetId===s.id}));r&&t.push(this._getModule(r,!1).then(function(t){this.spec.pageContext||(this.spec.pageContext=[]),e.isEmpty(s.filters)||this._addShapingFiltersToPageContext(t,a,s,r.id),delete s.filters}.bind(this)))}.bind(this)),Promise.all(t).then(function(){e.isEmpty(a)||(this.spec.pageContext=this.spec.pageContext.concat(e.values(a)))}.bind(this))},_updateLocalFilters:function(a,t){e.each(t,function(t){t.values&&(t.values[0]&&e.isObject(t.values[0])&&!t.values[0].operator?this._updateFilterUseValues(a,t,"object"):t.values[0]&&"string"==typeof t.values[0]?this._updateFilterUseValues(a,t,"string"):t.values[0]?this._updateLocalFilters(a,t.values):this._updateFilterUseValues(a,t,"null"))}.bind(this))},_addShapingFiltersToPageContext:function(a,t,s,r){e.each(s.filters,function(s){var o=this._createTuplesAndHierarchies(a,s,this.ORIGIN_FILTER),i={origin:this.ORIGIN_FILTER,table:"",alias:"",sourceId:r,scope:"global",hierarchyNames:o.hierarchyNames,hierarchyUniqueNames:o.hierarchies};"between"===s.operator||"notbetween"===s.operator||"lt"===s.operator||"gt"===s.operator?i.conditions=this._createCondition(s):("notin"===s.operator&&(i.exclude=!0),i.tupleSet=o.tupleSet);var n=o.key+i.scope+i.sourceId;e.isEmpty(t[n])&&(t[n]=i)}.bind(this))},_buildPageContext:function(a,t,s,r){e.each(s.filters,function(o){var i=this._createTuplesAndHierarchies(a,o,this.ORIGIN_VISUALIZATION),n={origin:this.ORIGIN_VISUALIZATION,table:"",alias:"",tupleSet:i.tupleSet,sourceId:r,hierarchies:i.hierarchyList,hierarchyUniqueNames:i.hierarchies,scope:this.getContainerPageId(s.id),eventSourceId:s.id,eventGroupId:this._eventGroupMap[s.id]},l=i.key+n.eventGroupId+n.scope+n.sourceId;e.isEmpty(t[l])&&(t[l]=n)}.bind(this))},_createCondition:function(e){var a={from:"",to:"",attributeUniqueNames:[e.columnId]};return"between"===e.operator||"notbetween"===e.operator?(a.from=[e.values[0].d||e.values[0].displayValue||e.values[0]],a.to=[e.values[1].d||e.values[1].displayValue||e.values[1]]):"lt"===e.operator?a.to=[e.values[0].d||e.values[0].displayValue||e.values[0]]:a.from=[e.values[0].d||e.values[0].displayValue||e.values[0]],"notbetween"===e.operator&&(a.invert=!0),[a]},_createTuplesAndHierarchies:function(e,a,t){var s;switch(a.operator){case"in":case"notin":case"isnull":case"between":case"notbetween":case"lt":case"gt":this._updateFilterUseValues(e,a),s=this._buildEdgeFilterTupleSet(e,a,t);break;case"or":case"not":s=this._buildDataPointFilterTupleSet(e,a,t);break;default:s={tupleSet:"",hierachyList:"",hierarchies:""}}return s},_getMetadataColumn:function(e,a){return e?e.getMetadataColumn(a):null},_getMetadataColumnLabel:function(e){return e?e.getLabel():null},isFacetEnabled:function(e){var a=e&&e.getFacetDefinition?e.getFacetDefinition():null;return!(!a||!a.enabled||"false"===a.enabled.enumValue)},isOlapPackage:function(e){var a=!1;if(e){var t=e.getSourceCategory();a=t&&"column"!==t&&"QueryItem"===e.getObjectType()}return a},_isDateOrTimeValue:function(e){return isNaN(e)&&!isNaN(Date.parse(e))},_isDateOrTime:function(e,a){return e&&e.isDateOrTimeType()&&this._isDateOrTimeValue(a)},_isRangeOperator:function(e){return e&&("between"===e||"notbetween"===e||"lt"===e||"gt"===e)},_isRangeFilter:function(a,t,s){return this._isRangeOperator(t.operator)&&(e.isNumber(s)||this._isDateOrTime(a,s))},_updateFilterUseValues:function(a,t,s){var r=this._getMetadataColumn(a,t.columnId),o=this.isFacetEnabled(r),i=this.isOlapPackage(r);if(t&&t.values){var n=[];e.each(t.values,function(e){var a={};"string"===s?(a.u=e,a.d=e):"null"===s?a=null:(a.u=!o||i||this._isRangeFilter(r,t,e.useValue)||null===e.useValue?e.useValue:this._mapUseValue(t.columnId,e.useValue),a.d=e.displayValue),n.push(a)}.bind(this)),delete t.values,t.values=n}},_mapUseValue:function(e,a){return e+"->["+(a="string"==typeof a?a.replace(/]/g,"]]"):a)+"]"},_buildEdgeFilterTupleSet:function(a,t,s){var r="",o={},i=[],n=[],l=[];s===this.ORIGIN_FILTER?l.push(this._getMetadataColumnLabel(this._getMetadataColumn(a,t.columnId))):i.push({hierarchyUniqueName:t.columnId}),e.each(t.values,(function(e){o[e.u]=e,r+=t.columnId,n.push(t.columnId)}));var p={};return p.tupleSet=JSON.stringify(o),p.hierarchies=e.uniq(n),p.key=r,s===this.ORIGIN_FILTER?p.hierarchyNames=l:s===this.ORIGIN_VISUALIZATION&&(p.hierarchyList=i),p},_buildDataPointFilterTupleSet:function(a,t){var s="",r={},o=[],i=[];return t.values&&e.each(t.values,function(e){"and"===e.operator&&this._buildAndFilterTuple(a,r,o,e)}.bind(this)),o=e.uniq(o),e.each(o,(function(e){i.push({hierarchyUniqueName:e}),s+=e})),{tupleSet:JSON.stringify(r),hierarchyList:e.uniq(i),hierarchies:e.uniq(o),key:s}},_buildAndFilterTuple:function(a,t,s,r){var o="",i=[];e.each(r.values,function(t){this._updateFilterUseValues(a,t),e.each(t.values,function(e){o+=e.u,i.push(e)}.bind(this)),s.push(t.columnId)}.bind(this)),t[o]=i},_upgradeShaping:function(e){var a=e.shift();return a?this._upgradeShapingInstance(a).then(function(){return this.spec.queriedForUpgrade=!0,this._upgradeShaping(e)}.bind(this)):Promise.resolve(!0)},_getSourcesCollection:function(e){return this.dataSourcesService.getSourcesCollection(e).getSources()},_getModule:function(a,t){if(!a)throw new Error("Could not find source specfication");!0===t&&(a.useTempModule=!0);var s=this._getSourcesCollection(this.spec.dataSources),r=e.find(s,(function(e){return e.getAssetId()===a.assetId}));if(r){var o=void 0===this.data.showErrorToast||this.data.showErrorToast;return r.getModule(null,o)}throw new Error("Could not find source module")},_upgradeShapingInstance:function(a){var t=e.find(this.spec.dataSources.sources.models,(function(e){return e.assetId===a.id}));return t?this._getModule(t,!0).then(function(e){return this._addCalculation(e,a.calculations)}.bind(this),function(e){throw this.data.pinUpgrade&&this.dataSourcesService.destroy(),e}.bind(this)):Promise.resolve(!0)},_addCalculation:function(a,t){var s=t.shift();if(s){var r="%d"===s.expr.op?"¢":s.expr.op,o={inputtedName:s.label,operation:r,elementOperands:[],numberOperands:[]};return e.each(s.expr.params,function(e){var t=a.getMetadataColumn(this._calcIdMap[e.col]||e.col);o.elementOperands.push(t.moserObject)}.bind(this)),"¢"===r&&o.elementOperands.reverse(),a.addCalculation(o).then(function(e){return this._calcIdMap[s.id]=e,this._addCalculation(a,t)}.bind(this))}return Promise.resolve(!0)},_updateWidgetCalculationReferences:function(){e.each(this.spec.widgets,function(a){var t=a.data&&a.data.dataViews?a.data.dataViews:[];e.each(t,function(a){e.each(a.dataItems,function(e){e.itemId=this._calcIdMap[e.itemId]||e.itemId}.bind(this))}.bind(this)),e.each(a.localFilters,function(e){e.columnId=this._calcIdMap[e.columnId]||e.columnId}.bind(this))}.bind(this))},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/utils/WidgetUpgradeUtils",["underscore"],(function(e){return new(function(){function a(){_classCallCheck(this,a)}return a.prototype.findProperty=function(a,t){return e.find(t,(function(e){return e.id===a}))},a.prototype.findLayout=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],t=null,s=0;s<e.length&&(e[s].id===a&&(t=e[s]),!t&&e[s].items&&(t=this.findLayout(e[s].items,a)),!t);s++);return t},a.prototype.specHasWidgets=function(a){return a&&a.widgets&&!e.isEmpty(a.widgets)},a.prototype.isLiveWidgetModel=function(e){return e&&e.type&&"live"===e.type},a.prototype.setDefaultProperty=function(e,a,t){this.findProperty(a,e.properties)||(e.properties||(e.properties=[]),e.properties.push({id:a,value:t}))},a}())})),define("dashboard-core/js/dashboard/loader/upgrader/VIDA_breakingchanges",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t,s){return new(a.extend([t],{init:function(){this.VERSION=1006},up:function(a){return a&&s.specHasWidgets(a)?(e.each(a.widgets,function(e){this.upgradePieChartDonutRadiusProperty(e),this.upgradeHeatmapAxisLabelProperty(e)}.bind(this)),Promise.resolve(a)):Promise.resolve(a)},upgradePieChartDonutRadiusProperty:function(e){var a=s.findProperty("pie.has.hole",e.properties);a&&!0===a.value&&(s.findProperty("donutRadius",e.properties)||e.properties.push({id:"donutRadius",value:.5}))},upgradeHeatmapAxisLabelProperty:function(e){"com.ibm.vis.rave2heat"===e.visId&&(s.setDefaultProperty(e,"itemAxis.alignment","bottom"),s.setDefaultProperty(e,"itemAxis.labels.layoutMode","rotate90"))},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/multiLayersSupport",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a,t){"use strict";var s={locations:0,locationColor:1,pointColor:2,pointSize:3},r="contColorPalette",o="colorPalette",i="heatScalePalette";return new(a.extend([t],{init:function(){this.VERSION=1007},up:function(e){return e.widgets&&this._upgradeWidgets(e),Promise.resolve(e)},_upgradeWidgets:function(a){e.each(a.widgets,function(e){"com.ibm.vis.rave2bundletiledmap"===e.visId&&this._convertTiledMapVis(e)}.bind(this))},_convertTiledMapVis:function(a){var t=a.slotmapping.slots;if(t&&t.length){for(var r=[],o={slots:[],layers:[]},i=[],n=0;n<t.length;++n){var l=t[n].name;i.push({order:s[l],existingSlotIndex:n})}var p=e.sortBy(i,"order");e.each(p,function(e){var s=t[e.existingSlotIndex];switch(s.name){case"locations":this._convertLocationSlot(a,s,r,o);break;case"locationColor":this._convertLocationColorSlot(a,s,r,o);break;case"pointColor":this._convertPointColorSlot(a,s,r,o);break;case"pointSize":this._convertPointSizeSlot(a,s,r,o)}}.bind(this)),a.data.dataViews=r,a.slotmapping=o,this._upgradeProperties(a)}},_upgradeProperties:function(a){if(a.properties){var t=a.properties,s=e.findWhere(t,{id:r}),n=e.findWhere(t,{id:i});if(s||n){var l,p,u=a.slotmapping.layers.length;if(s)if(s.id=r+"_"+a.slotmapping.layers[0].id,l=s.value.substring(o.length),u>1)p="0"===l?"1":"0",t.push({id:r+"_"+a.slotmapping.layers[1].id,value:o+p});n&&(n.id=i+"_"+a.slotmapping.layers[0].id,u>1&&t.push({id:i+"_"+a.slotmapping.layers[1].id,value:n.value}))}}},_addNewDataView:function(a,t){return t.push({id:e.uniqueId("model"),modelRef:a,dataItems:[]}),t[t.length-1].id},_addNewLayer:function(e,a){return e.push({id:a.type,type:a.type,dataViewId:a.dataViewId}),e[e.length-1].id},_addNewDataItem:function(a,t){var s=e.clone(t);return s.id=e.uniqueId("model"),a.push(s),s.id},_convertLocationSlot:function(a,t,s,r){var o=e.pluck(a.slotmapping.slots,"name"),i=o.indexOf("locationColor")>-1,n=o.indexOf("pointSize")>0||o.indexOf("pointColor")>0;if(i||!n){var l=a.data.dataViews[0],p={type:"data.region",dataViewId:this._addNewDataView(l.modelRef,s)},u=this._addNewLayer(r.layers,p),d=e.clone(t);d.layerId=u,d.dataItems=[],e.each(t.dataItems,function(a){var t=e.findWhere(l.dataItems,{id:a}),r=this._addNewDataItem(s[0].dataItems,t);d.dataItems.push(r)}.bind(this)),r.slots.push(d)}},_convertLocationColorSlot:function(a,t,s,r){var o=e.clone(t);o.layerId="data.region";var i=t.dataItems[0],n=e.findWhere(a.data.dataViews[0].dataItems,{id:i}),l=this._addNewDataItem(s[0].dataItems,n);o.dataItems=[l],r.slots.push(o)},_createPointLocationsSlot:function(a,t){var s=e.clone(t);return s.name="pointLocations",s.caption="Point locations",s.dataItems=[],a.slots.push(s),s},_createPointLayer:function(a,t,s){var r,o=a.slotmapping.slots,i=o.map((function(e){return e.name})).indexOf("locations");i>-1&&(r=this._createPointLocationsSlot(s,o[i]));var n=a.data.dataViews[0].modelRef;this._addNewDataView(n,t);var l=t[t.length-1],p={type:"data.point",dataViewId:l.id},u=this._addNewLayer(s.layers,p);if(r){r.layerId=u;var d=o[i].dataItems;e.each(d,function(t){var s=e.findWhere(a.data.dataViews[0].dataItems,{id:t}),o=this._addNewDataItem(l.dataItems,s);r.dataItems.push(o)}.bind(this))}},_convertPointColorSlot:function(a,t,s,r){this._createPointLayer(a,s,r);var o=e.clone(t);o.layerId="data.point";var i=t.dataItems[0],n=e.findWhere(a.data.dataViews[0].dataItems,{id:i}),l=this._addNewDataItem(s[s.length-1].dataItems,n);o.dataItems=[l],r.slots.push(o)},_convertPointSizeSlot:function(a,t,s,r){var o;r.layers&&(o=r.layers.find((function(e){return"data.point"===e.id}))),o||this._createPointLayer(a,s,r);var i=e.clone(t);i.layerId="data.point";var n=t.dataItems[0],l=e.findWhere(a.data.dataViews[0].dataItems,{id:n}),p=this._addNewDataItem(s[s.length-1].dataItems,l);i.dataItems=[p],r.slots.push(i)},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/R9toR10",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t,s){"use strict";return new(a.extend([t],{init:function(){this.VERSION=1008},up:function(e){return e.widgets&&this._upgradeWidgets(e),Promise.resolve(e)},_supportsAxisLabelVerticalProperty:function(e){return["com.ibm.vis.rave2line","com.ibm.vis.rave2point"].indexOf(e.visId)>-1},_upgradeWidgets:function(a){var t=this;e.each(a.widgets,(function(e){t._supportsAxisLabelVerticalProperty(e)&&t._upgradeItemAxisLabelVerticalProperty(e)}))},_upgradeItemAxisLabelVerticalProperty:function(a){var t=s.findProperty("itemAxis.labels.vertical",a.properties),r=s.findProperty("itemAxis.labels.layoutMode",a.properties);if(a.properties=e.filter(a.properties,(function(e){return"itemAxis.labels.vertical"!==e.id})),!r){var o=t&&t.value?"rotate90":"horizontal";a.properties.push({id:"itemAxis.labels.layoutMode",value:o})}},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/dateTimeLocalFilter",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","dashboard-analytics/dataSources/services/DataSourcesService"],(function(e,a,t,s){"use strict";return new(a.extend([t],{init:function(){this.VERSION=1009},up:function(e){this.spec=e;var a=this._DataSourcesServices||s;return this.dataSourcesService=new a({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.dataSourcesService.initializeSourcesCollection(this.spec),e.widgets?this._upgradeWidgets(e):Promise.resolve(e)},_upgradeWidgets:function(a){var t=[];return e.each(a.widgets,(function(a){var s=a&&a.data&&a.data.dataViews&&a.data.dataViews.length&&a.data.dataViews[0]?a.data.dataViews[0].modelRef:null;s&&a.localFilters&&a.localFilters.length&&e.each(a.localFilters,(function(a){if("pre"!==a.preOrPost&&e.isUndefined(a.aggregationType)){var r=this._getModule(s).then(function(e){var t=e.getMetadataColumn(a.columnId),s=t&&t.getDataType(),r=t&&t.getType();r&&s&&this.isDateType(s)&&"attribute"===r&&(a.preOrPost="pre")}.bind(this));t.push(r)}}),this)}),this),Promise.all(t).then((function(){return a}))},isDateType:function(e){return"date"===e||"time"===e||"datetime"===e||"timestamp"===e},_getModule:function(e){return this.dataSourcesService.getModule(e)},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/TextWidgetTypesUpgradeHelper",["underscore"],(function(e){var a={defaultTheme:{subtitleFontFamily:"rt_fontFamilyHelvNeueforIBM-Light",titleFontFamily:"rt_fontFamilyHelvNeueforIBM-Bold",titleSmallFontFamily:"rt_fontFamilyHelvNeueforIBM-Regular",bodyFontFamily:"rt_fontFamilyHelvNeueforIBM-Regular",bodySmallFontFamily:"rt_fontFamilyHelvNeueforIBM-Regular",captionFontFamily:"rt_fontFamilyHelvNeueforIBM-Regular",quoteFontFamily:"rt_fontFamilyHelvNeueforIBM-Light",quoteSmallFontFamily:"rt_fontFamilyHelvNeueforIBM-Light",subtitleFontSize:"rt_fontSize18",titleFontSize:"rt_fontSize16",titleSmallFontSize:"rt_fontSize20",bodyFontSize:"rt_fontSize16",bodySmallFontSize:"rt_fontSize14",captionFontSize:"rt_fontSize14",quoteFontSize:"rt_fontSize18",quoteSmallFontSize:"rt_fontSize16",subtitleText:"subtitleColor rt_fontFamilyHelvNeueforIBM-Light rt_fontSize18",titleText:"titleColor rt_fontFamilyHelvNeueforIBM-Bold rt_fontSize20",titleSmallText:"titleSmallColor rt_fontFamilyHelvNeueforIBM-Regular rt_fontSize20",bodyText:"bodyColor rt_fontFamilyHelvNeueforIBM-Regular rt_fontSize16",bodySmallText:"bodySmallColor rt_fontFamilyHelvNeueforIBM-Regular rt_fontSize14",captionText:"captionColor rt_fontFamilyHelvNeueforIBM-Regular rt_fontSize14",quoteText:"quoteColor rt_fontFamilyHelvNeueforIBM-Light rt_fontSize18",quoteSmallText:"quoteSmallColor rt_fontFamilyHelvNeueforIBM-Light rt_fontSize16",responsiveText:"responsiveColor responsiveFontSize responsiveFontFamily",responsiveFontFamily:"responsiveFontFamilyHelvetica"},lightTheme:{subtitleFontFamily:"rt_fontFamilyMerriweather-Light",titleFontFamily:"rt_fontFamilyMerriweather-Bold",titleSmallFontFamily:"rt_fontFamilyMerriweather-Regular",bodyFontFamily:"rt_fontFamilyMerriweather-Light",bodySmallFontFamily:"rt_fontFamilyMerriweather-Light",captionFontFamily:"rt_fontFamilyMerriweather-Regular",quoteFontFamily:"rt_fontFamilyMerriweather-Light",quoteSmallFontFamily:"rt_fontFamilyMerriweather-Light",subtitleFontSize:"rt_fontSize18",titleFontSize:"rt_fontSize16",titleSmallFontSize:"rt_fontSize20",bodyFontSize:"rt_fontSize16",bodySmallFontSize:"rt_fontSize14",captionFontSize:"rt_fontSize14",quoteFontSize:"rt_fontSize18",quoteSmallFontSize:"rt_fontSize16",subtitleText:"subtitleColor rt_fontFamilyMerriweather-Light rt_fontSize18",titleText:"titleColor rt_fontFamilyMerriweather-Bold rt_fontSize20",titleSmallText:"titleSmallColor rt_fontFamilyMerriweather-Regular rt_fontSize20",bodyText:"bodyColor rt_fontFamilyMerriweather-Light rt_fontSize16",bodySmallText:"bodySmallColor rt_fontFamilyMerriweather-Light rt_fontSize14",captionText:"captionColor rt_fontFamilyMerriweather-Regular rt_fontSize14",quoteText:"quoteColor rt_fontFamilyMerriweather-Light rt_fontSize18",quoteSmallText:"quoteSmallColor rt_fontFamilyMerriweather-Light rt_fontSize16",responsiveText:"responsiveColor responsiveFontSize responsiveFontFamily",responsiveFontFamily:"responsiveFontFamilyHelvetica"},darkTheme:{subtitleFontFamily:"rt_fontFamilyMontserrat-Light",titleFontFamily:"rt_fontFamilyMontserrat-Bold",titleSmallFontFamily:"rt_fontFamilyMontserrat-Regular",bodyFontFamily:"rt_fontFamilyMontserrat-Regular",bodySmallFontFamily:"rt_fontFamilyMontserrat-Regular",captionFontFamily:"rt_fontFamilyMontserrat-Regular",quoteFontFamily:"rt_fontFamilyMontserrat-Light",quoteSmallFontFamily:"rt_fontFamilyMontserrat-Light",subtitleFontSize:"rt_fontSize18",titleFontSize:"rt_fontSize16",titleSmallFontSize:"rt_fontSize20",bodyFontSize:"rt_fontSize16",bodySmallFontSize:"rt_fontSize14",captionFontSize:"rt_fontSize14",quoteFontSize:"rt_fontSize18",quoteSmallFontSize:"rt_fontSize16",subtitleText:"subtitleColor rt_fontFamilyMontserrat-Light rt_fontSize18",titleText:"titleColor rt_fontFamilyMontserrat-Bold rt_fontSize20",titleSmallText:"titleSmallColor rt_fontFamilyMontserrat-Regular rt_fontSize20",bodyText:"bodyColor rt_fontFamilyMontserrat-Regular rt_fontSize16",bodySmallText:"bodySmallColor rt_fontFamilyMontserrat-Regular rt_fontSize14",captionText:"captionColor rt_fontFamilyMontserrat-Regular rt_fontSize14",quoteText:"quoteColor rt_fontFamilyMontserrat-Light rt_fontSize18",quoteSmallText:"quoteSmallColor rt_fontFamilyMontserrat-Light rt_fontSize16",responsiveText:"responsiveColor responsiveFontSize responsiveFontFamily",responsiveFontFamily:"responsiveFontFamilyHelvetica"}};return function(){function t(){_classCallCheck(this,t)}return t.prototype.upgrade=function(e){return e&&e.widgets&&this._upgradeWidgets(e),Promise.resolve(e)},t.prototype._upgradeWidgets=function(a){var t=this;e.each(a.widgets,(function(e){"text"===e.type&&t._upgradeTextWidget(e,a.theme)}))},t.prototype._upgradeTextWidget=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaultTheme";if(e.content){var t=e.content.translationTable;if(t)for(var s in t)t[s]=this._upgradeContent(a,t[s],e.isResponsive);else"string"==typeof e.content&&(e.content=this._upgradeContent(a,e.content,e.isResponsive))}},t.prototype._upgradeContent=function(t,s,r){return s=s.replace(/<[^>]*class="[^>]*"[^>]*>/g,(function(s){return s.replace(/class=".*"/,(function(s){var r=s;return e.each(a[t],(function(e,a){r=r.replace(a,e)})),r}))})),r&&(s=s.replace(/rt_fontSize[0-9]* ?/gi,"")),-1!==s.indexOf('contenteditable="true"')&&(s=s.replace(/ ?contenteditable="true"/gi,"")),s},t}()})),define("dashboard-core/js/dashboard/loader/upgrader/ConditionalPaletteUpgradeHelper",["underscore"],(function(e){return function(){function a(){_classCallCheck(this,a)}return a.prototype.upgrade=function(e,a){var t=this;return a.getGlassSvc(".DashboardTheme").then((function(s){return s.getThemeDefinition(e.theme).then((function(s){var r=s.getPalettes("ConditionalPalette");for(var o in e.widgets){var i=e.widgets[o];t._updateWidgetConditionalPalette(i,r,a)}return e}))}))},a.prototype._updateWidgetConditionalPalette=function(a,t,s){if(a&&a.conditions&&a.conditions.palette){var r=a.conditions.palette.colors;if(r&&!(r.length<1)&&r[0].bgcolor){var o=r.map((function(e){return e.bgcolor})).filter((function(e){return e&&e.length})).map((function(e){return e.toUpperCase()})),i=!!r[0].pattern,n=null,l=t,p=Array.isArray(l),u=0;for(l=p?l:l[Symbol.iterator]();;){var d;if(p){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var c=d;if(i){if(c.fills[0].pattern){n=c.id;break}}else{var h=!0,g=c.fills.filter((function(a){return e.isString(a)})).map((function(e){return e.toUpperCase()})),m=o,f=Array.isArray(m),v=0;for(m=f?m:m[Symbol.iterator]();;){var y;if(f){if(v>=m.length)break;y=m[v++]}else{if((v=m.next()).done)break;y=v.value}var b=y;if(-1===g.indexOf(b)){h=!1;break}}if(h){n=c.id;break}}}n||s.getGlassCoreSvc(".Logger").error("Could not find a match for the conditional palette",a),a.properties||(a.properties=[]),a.properties.push({id:"condColorPalette",value:n})}}},a}()})),define("dashboard-core/js/dashboard/loader/upgrader/ContainerPageIdUpgradeHelper",[],(function(){return function(){function e(){_classCallCheck(this,e)}return e.prototype.upgrade=function(e,a){this._init(a),e&&Object.keys(this._containerPageIdMap).length&&(this._upgradePageContext(e),this._upgradeEventGroups(e),this._upgradeWidgets(e))},e.prototype._init=function(e){this._containerPageIdMap=e||{}},e.prototype._upgradePageContext=function(e){if(e.pageContext){var a=e.pageContext,t=Array.isArray(a),s=0;for(a=t?a:a[Symbol.iterator]();;){var r;if(t){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var o=r;if(o.scope){var i=this._containerPageIdMap[o.scope];i&&(o.scope=i)}o.eventGroupId&&(o.eventGroupId=this._getUpdatedContainerId(o.eventGroupId))}}},e.prototype._upgradeEventGroups=function(e){if(e.eventGroups){var a=e.eventGroups,t=Array.isArray(a),s=0;for(a=t?a:a[Symbol.iterator]();;){var r;if(t){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var o=r;o.id&&(o.id=this._getUpdatedContainerId(o.id))}}},e.prototype._upgradeWidgets=function(e){if(e.widgets)for(var a in e.widgets){var t=e.widgets[a];if(t.containerPageId){var s=this._containerPageIdMap[t.containerPageId];s&&(t.containerPageId=s)}}},e.prototype._getUpdatedContainerId=function(e){var a=e.split(":"),t=this._containerPageIdMap[a[0]];return t?(a[0]=t,a.join(":")):e},e}()})),define("dashboard-core/js/dashboard/loader/upgrader/SinglePageDashboardsUpgradeHelper",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","../../../lib/@waca/dashboard-common/dist/core/Model","../../../app/nls/StringResources","./ContainerPageIdUpgradeHelper"],(function(e,a,t,s,r,o){return function(){function a(){_classCallCheck(this,a)}return a.prototype.upgrade=function(e){return this._containerPageIdUpgrader=new o,e&&this._isSinglePageDashboard(e)?(this.upgradeSinglePageDashboard(e),Promise.resolve(e)):Promise.resolve(e)},a.prototype._isSinglePageDashboard=function(e){if(!e||!e.layout)return!1;var a=e.layout.type;return("absolute"===a||"container"===a)&&!(0===e.layout.templateName.lastIndexOf("Infographics",0))},a.prototype.upgradeSinglePageDashboard=function(a){var t={id:(new s).id,type:"tab",items:[{title:r.get("defaultTabTitle",{index:1})}],style:{height:"100%"},hideTab:!0},o=a.layout,i=t.items[0];if(i.id=o.id,i.type=o.type,i.items=o.items,i.templateName=o.templateName,delete o.templateName,o.style&&(i.style=o.style),o.css&&-1!==o.css.indexOf("gridCapable")){var n=o.css.replace("gridCapable","");n?o.css=n:delete o.css}if(e.extend(o,t),this._isRelativeSinglePage(a)){var l=a.layout.items[0].items[0].id,p=a.layout.items[0].id;this._upgradeContainerPageIds(a,l,p)}},a.prototype._isRelativeSinglePage=function(e){return"container"===e.layout.items[0].type},a.prototype._upgradeContainerPageIds=function(e,a,t){var s={};s[a]=t,this._containerPageIdUpgrader.upgrade(e,s)},a}()})),define("dashboard-core/js/dashboard/loader/upgrader/HeliosToEndorUpgrade",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","./TextWidgetTypesUpgradeHelper","./ConditionalPaletteUpgradeHelper","./SinglePageDashboardsUpgradeHelper"],(function(e,a,t,s,r,o){return new(a.extend([t],{init:function(){this.VERSION=1010,this.textWidgetTypesUpgradeHelper=new s,this.conditionalPaletteUpgradeHelper=new r,this.singlePageDashboardsUpgradeHelper=new o},up:function(e){var a=this;return this.dashboardApi=this.data.dashboardApi,this.textWidgetTypesUpgradeHelper.upgrade(e).then((function(e){return a.conditionalPaletteUpgradeHelper.upgrade(e,a.dashboardApi)})).then((function(e){return a.singlePageDashboardsUpgradeHelper.upgrade(e)}))},down:function(e){return Promise.resolve(e)}}))})),define("dashboard-core/js/dashboard/loader/upgrader/LayoutPageSizeUpgrade",["../../../lib/@waca/upgrades/UpgradeBase","../../../lib/@waca/core-client/js/core-client/utils/UniqueId","./ContainerPageIdUpgradeHelper","underscore"],(function(e,a,t,s){return new(function(e){function r(){_classCallCheck(this,r);var a=_possibleConstructorReturn(this,e.call(this));return a.VERSION=1011,a._containerPageIdUpgrader=new t,a}return _inherits(r,e),r.prototype.up=function(e){var a=this;return Promise.resolve().then((function(){return a._init(),e&&e.layout&&(a._upgradeLayout(e.layout),a._upgradePageSize(e.layout),a._containerPageIdUpgrader.upgrade(e,a._containerPageIdMap)),e}))},r.prototype.down=function(e){return Promise.resolve(e)},r.prototype.setContainerIdUpgrader=function(e){e&&(this._containerPageIdUpgrader=e)},r.prototype._init=function(){this._hasRelativeLayouts=!1,this._hasAbsoluteLayouts=!1,this._relativeTemplateType=void 0,this._boundingPageSize={width:1280,height:720},this._containerPageIdMap={}},r.prototype._upgradeLayout=function(e){if(e.items){var a=e.items,t=Array.isArray(a),s=0;for(a=t?a:a[Symbol.iterator]();;){var r;if(t){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var o=r;this._upgradeLayout(o)}}this._determinePageSizeFromLayout(e),this._determineRelativeTemplateType(e),this._determineLayoutTypes(e),this._upgradeAbsoluteContainer(e)},r.prototype._determinePageSizeFromLayout=function(e){if("absolute"===e.type){var a=e.items,t=Array.isArray(a),s=0;for(a=t?a:a[Symbol.iterator]();;){var r;if(t){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var o=r;if("widget"===o.type||"group"===o.type){var i=this._getRawStyle(o.style,"px");if(i){var n=i.left+i.width;n>this._boundingPageSize.width&&(this._boundingPageSize.width=n);var l=i.top+i.height;l>this._boundingPageSize.height&&(this._boundingPageSize.height=l)}}}}},r.prototype._determineRelativeTemplateType=function(e){if("container"===e.type){var a=e.templateName;a&&(0===a.lastIndexOf("Infographics",0)?this._relativeTemplateType="Infographic":0===a.lastIndexOf("Template",0)&&(this._relativeTemplateType="Template"))}},r.prototype._determineLayoutTypes=function(e){"absolute"===e.type?this._hasAbsoluteLayouts=!0:"scalingAbsolute"===e.type&&(this._hasRelativeLayouts=!0)},r.prototype._upgradeAbsoluteContainer=function(e){if("absolute"===e.type){var t=s.deepClone(e);for(var r in e)delete e[r];e.id=a.get("model"),e.items=[t],e.title=t.title,e.type="container",e.templateName=t.templateName,delete t.title,delete t.templateName,this._containerPageIdMap[t.id]=e.id}},r.prototype._getRawStyle=function(e,a){if(-1!==e.left.indexOf(a)&&-1!==e.top.indexOf(a)&&-1!==e.width.indexOf(a)&&-1!==e.height.indexOf(a))return{left:parseInt(e.left,10),top:parseInt(e.top,10),width:parseInt(e.width,10),height:parseInt(e.height,10)}},r.prototype._upgradePageSize=function(e){if(this._hasAbsoluteLayouts&&!this._hasRelativeLayouts)e.pageSize=this._boundingPageSize;else if(this._hasRelativeLayouts&&!this._hasAbsoluteLayouts)e.pageSize=this._getDefaultPageSizeForTemplate();else if(this._hasRelativeLayouts&&this._hasAbsoluteLayouts){e.pageSize=this._boundingPageSize;var a=this._boundingPageSize.height/this._boundingPageSize.width,t=this._getDefaultPageSizeForTemplate(),s=t.height/t.width;e.pageSize=a<s?{width:this._boundingPageSize.width,height:Math.round(this._boundingPageSize.width*s)}:{width:Math.round(this._boundingPageSize.height/s),height:this._boundingPageSize.height}}},r.prototype._getDefaultPageSizeForTemplate=function(){return"Infographic"===this._relativeTemplateType?{width:512,height:1024}:{width:1280,height:704}},r}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/LayoutPositioningUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1012,t}return _inherits(a,e),a.prototype.up=function(e){var a=this;return Promise.resolve().then((function(){return a._init(),e&&e.layout&&(a._upgradeLayout(e.layout),a._setTopLayoutPositioning(e.layout)),e}))},a.prototype.down=function(e){return Promise.resolve(e)},a.prototype._init=function(){this._hasRelativeLayouts=!1,this._hasAbsoluteLayouts=!1},a.prototype._upgradeLayout=function(e,a){if(e.items){var t=e.items,s=Array.isArray(t),r=0;for(t=s?t:t[Symbol.iterator]();;){var o;if(s){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o;this._upgradeLayout(i,e)}}this._upgradeLayoutPositioning(e,a)},a.prototype._upgradeLayoutPositioning=function(e,a){"absolute"===e.type?(e.layoutPositioning="absolute",e.type="genericPage",this._hasAbsoluteLayouts=!0,this._upgradeAbsoluteTemplate(e,a)):"scalingAbsolute"===e.type&&(e.layoutPositioning="relative",e.type="genericPage",this._hasRelativeLayouts=!0)},a.prototype._upgradeAbsoluteTemplate=function(e,a){a.templateName="Template1",e.css="templateBox aspectRatio_default",e.items.unshift({type:"templateIndicator",style:{top:"0%",left:"0%",right:"0%",bottom:"0%"}})},a.prototype._setTopLayoutPositioning=function(e){this._hasAbsoluteLayouts&&!this._hasRelativeLayouts?e.layoutPositioning="absolute":this._hasRelativeLayouts&&!this._hasAbsoluteLayouts&&(e.layoutPositioning="relative")},a}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDAPropUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1013,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&s._isLive(e)&&(e.properties||(e.properties=[]),s._showAxisTitlesPropertyUpgrade(e),s._optimizeSizePropertyUpgrade(e),s._preserveItemAxisPositionForHeatmap(e),s._stackedPercentPropertyUpgrade(e),s._linesSmoothPropertyUpgrade(e),s._upgradePieChart(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._isLive=function(e){return e&&e.type&&"live"===e.type},s.prototype._showAxisTitlesPropertyUpgrade=function(a){var s=["titles.visible","itemAxis.labels.visible","valueAxis.labels.visible"],r=t.findProperty("titles.visible",a.properties),o=t.findProperty("itemAxis.labels.visible",a.properties),i=t.findProperty("valueAxis.labels.visible",a.properties),n=t.findProperty("itemAxis.title.visible",a.properties),l=t.findProperty("valueAxis.title.visible",a.properties);a.properties=e.filter(a.properties,(function(a){return!e.contains(s,a.id)})),r&&!1===r.value?(n||a.properties.push({id:"itemAxis.title.visible",value:!1}),l||a.properties.push({id:"valueAxis.title.visible",value:!1})):(!n&&o&&a.properties.push({id:"itemAxis.title.visible",value:o.value}),!l&&i&&a.properties.push({id:"valueAxis.title.visible",value:i.value}))},s.prototype._optimizeSizePropertyUpgrade=function(e){t.findProperty("optimizeSize",e.properties)||e.properties.push({id:"optimizeSize",value:"com.ibm.vis.rave2network"===e.visId})},s.prototype._preserveItemAxisPositionForHeatmap=function(e){if("com.ibm.vis.rave2heat"===e.visId){var a=t.findProperty("itemAxis.alignment",e.properties),s=t.findProperty("itemAxis.labels.layoutMode",e.properties);a&&-1!==["top","bottom"].indexOf(a.value)||e.properties.push({id:"itemAxis.alignment",value:"top"}),s&&-1!==["rotate90","automatic","horizontal","rotate45","stagger"].indexOf(s.value)||e.properties.push({id:"itemAxis.labels.layoutMode",value:"automatic"})}},s.prototype._stackedPercentPropertyUpgrade=function(e){if("com.ibm.vis.rave2bundlearea"===e.visId){this._upgradeBooleanProperty(e,"stacked.percent","data.handling","Stacked100")}},s.prototype._linesSmoothPropertyUpgrade=function(e){if("com.ibm.vis.rave2bundlearea"===e.visId||"com.ibm.vis.rave2line"===e.visId){var a="com.ibm.vis.rave2bundlearea"===e.visId?"area.interpolate":"line.interpolate";this._upgradeBooleanProperty(e,"lines.smooth",a,"cardinal")}},s.prototype._upgradePieChart=function(e){"com.ibm.vis.rave2bundlepie"===e.visId&&this._upgradePieChartLabelLocation(e)},s.prototype._upgradePieChartLabelLocation=function(a){var s=t.findProperty("labelLocation",a.properties);if(s&&s.value&&-1===["centerHorizontal","callout","center"].indexOf(s.value)&&(a.properties=e.filter(a.properties,(function(a){return!e.contains(s,a.id)})),"none"===s.value))return a.properties.push({id:"labels.visible",value:!1});t.findProperty("labels.visible",a.properties)||a.properties.push({id:"labels.visible",value:!0}),s||a.properties.push({id:"labelLocation",value:"centerHorizontal"})},s.prototype._upgradeBooleanProperty=function(a,s,r,o,i){var n=t.findProperty(s,a.properties);a.properties=e.filter(a.properties,(function(e){return e.id!==s})),n&&n.value?a.properties.push({id:r,value:o}):e.isUndefined(i)||a.properties.push({id:r,value:i})},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DataItemIdUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","../../../lib/@waca/dashboard-common/dist/core/UniqueHashIdBuilder"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1014,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;if(!a||!a.widgets||e.isEmpty(a.widgets))return Promise.resolve(a);for(var r in a.widgets){var o=a.widgets[r],i=o.data&&o.data.dataViews;i&&function(){var e={};i.forEach((function(a){a.dataItems.forEach((function(a){"_multiMeasuresSeries"!==a.id&&(e[a.id]=t.createUniqueHashId(a.itemId,e))}))})),a.widgets[r]=s._upgradeDataItemIds(o,e)}()}return Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeDataItemIds=function(e,a){var t=JSON.stringify(e);for(var s in a){var r=new RegExp('"'+s+'"',"g");t=t.replace(r,'"'+a[s]+'"')}return JSON.parse(t)},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DataItemUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a){return new(function(a){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1015,e}return _inherits(t,a),t.prototype.up=function(a){var t=this;if(!a||!a.widgets||e.isEmpty(a.widgets))return Promise.resolve(a);for(var s in a.widgets){var r=a.widgets[s],o=(r=this._mergeIncorrectDataItems(r)).data&&r.data.dataViews;o&&(o.forEach((function(e){e.dataItems.forEach((function(a,s){e.dataItems[s]=t._upgradeDataItemFormat(a)}))})),a.widgets[s].data.dataViews=o)}return Promise.resolve(a)},t.prototype.down=function(e){return Promise.resolve(e)},t.prototype._mergeIncorrectDataItems=function(e){if(!(e&&e.data&&e.data.dataViews&&e.slotmapping))return e;var a=e.data.dataViews;if(a.length<2||e.slotmapping.layers)return a;var t=void 0,s=[];e.slotmapping.slots.forEach((function(e){return s=s.concat(e.dataItems)}));return a.forEach((function(e,r){t||(t=e),t&&t.id===e.modelRef&&(t=function(e,a){return a.dataItems.forEach((function(a){-1!==s.indexOf(a.id)&&e.dataItems.push(a)})),e}(t,e),a.splice(r))})),a[0]=t,e.data.dataViews=a,e},t.prototype._upgradeDataItemFormat=function(e){if(e&&e.format&&e.format.formatSpec&&e.format.formatSpec.type){var a=e.format.formatSpec,t=a.type;"datetime"===t||"date"===t?("datetime"===t&&(a=this._upgradeDateTimeFormat(a)),a=this._syncDateStyle(a)):"number"===t&&(a=this._upgradeNumberFormat(a)),e.format.formatSpec=a}return e},t.prototype._syncDateStyle=function(e){return e.formatLength&&e.selectedFormat&&(e.dateStyle=e.selectedFormat),e},t.prototype._upgradeDateTimeFormat=function(e){return e.formatLength&&e.selectedFormat&&("medium"===e.formatLength&&"medium"===e.selectedFormat&&(e.formatLength="long",e.selectedFormat="long"),e.dateStyle=e.selectedFormat),e},t.prototype._upgradeNumberFormat=function(a){return null!==a.maximumFractionDigits&&void 0!==a.maximumFractionDigits&&e.isNumber(a.maximumFractionDigits)&&(a.maximumFractionDigits=a.maximumFractionDigits.toString()),null!==a.minimumFractionDigits&&void 0!==a.minimumFractionDigits&&e.isNumber(a.minimumFractionDigits)?a.minimumFractionDigits=a.minimumFractionDigits.toString():a.minimumFractionDigits=a.maximumFractionDigits,a},t}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/CompositeChartUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1016,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?(this._lineColorPropUpgrade(e),Promise.resolve(e)):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._lineColorPropUpgrade=function(a){var s=["com.ibm.vis.rave2bundlecomposite"];e.each(a.widgets,(function(a){if(a&&a.properties&&a.visId&&e.contains(s,a.visId)){var r=t.findProperty("lineColor",a.properties);a.properties=e.filter(a.properties,(function(e){return"lineColor"!==e.id})),r&&a.properties.push({id:"compositeLineColor",value:r.value})}}))},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/FredIsRedUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase"],(function(e,a){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1017,t}return _inherits(a,e),a.prototype.up=function(e){return e?(this._fredIsRedUpgrade(e),Promise.resolve(e)):Promise.resolve(e)},a.prototype.down=function(e){return Promise.resolve(e)},a.prototype._fredIsRedUpgrade=function(e){e.properties||(e.properties={}),e.properties.fredIsRed=!1},a}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DataItemAggregationTypeUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","dashboard-analytics/dataSources/services/DataSourcesService"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1018,e}return _inherits(s,a),s.prototype.up=function(a){if(!a||!a.widgets||e.isEmpty(a.widgets))return Promise.resolve(a);this.spec=a;var s=this._DataSourcesServices||t;return this.dataSourcesService=new s({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.dataSourcesService.initializeSourcesCollection(this.spec),this._upgradeAggregationType(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeAggregationType=function(a){var t=this,s=[];return e.each(a.widgets,(function(a){var r=a.data&&a.data.dataViews,o=a.slotmapping&&a.slotmapping.slots,i="live"===a.type,n=r&&r[0]?r[0].modelRef:null;if(n&&r&&o&&i){var l=[];if(e.each(o,(function(e){"color"===e.name&&"_multiMeasuresSeries"!==e.dataItems[0]&&(l=e.dataItems)})),l.length>0){var p=t._getModule(n).then((function(a){e.each(r,(function(t){var s=t.dataItems;s&&e.each(s,(function(t){var s=a.getMetadataColumn(t.itemId),r=s&&s.getType();e.contains(l,t.id)&&"attribute"===r&&(t.aggregate="none")}))}))}));s.push(p)}}})),Promise.all(s).then((function(){return a}))},s.prototype._getModule=function(e){return this.dataSourcesService.getModule(e)},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDA_ClippingUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1019,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),s._vidaClippingUpgrade(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype._isLive=function(e){return e&&e.type&&"live"===e.type},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._vidaClippingUpgrade=function(e){e.properties.push({id:"widget.data.truncate",value:!1})},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDA_OptimizeSizeUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1020,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),s._vidaOptimizeSizeUpgrade(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._vidaOptimizeSizeUpgrade=function(e){t.findProperty("optimizeSize",e.properties)||e.properties.push({id:"optimizeSize",value:"com.ibm.vis.rave2network"===e.visId})},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDA_LabelsColorPropUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1021,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),s._labelsColorUpgrade(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._labelsColorUpgrade=function(a){var s=this.data&&this.data.originalSpecVersion;if("com.ibm.vis.rave2bundletreemap"===a.visId||e.contains(["com.ibm.vis.rave2bundlepackedbubble","com.ibm.vis.rave2bundlepie"],a.visId)&&e.contains([1008,1009],s)){t.findProperty("labels.color",a.properties)||a.properties.push({id:"labels.color",value:"#000000"})}},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/TextWidgetResponsiveUpgradeHelper",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1022,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeWidgets=function(a){var t=this;return e.each(a.widgets,(function(e){"text"===e.type&&t._upgradeTextWidget(e)})),Promise.resolve(a)},s.prototype._upgradeTextWidget=function(e){if(e.content){var a=e.content.translationTable;if(a)for(var t in a)a[t]=this._upgradeContent(a[t],e.isResponsive);else"string"==typeof e.content&&(e.content=this._upgradeContent(e.content,e.isResponsive))}},s.prototype._upgradeContent=function(e,a){return a&&(e=(e=e.replace(/\s*rt_fontSize[0-9]*/gi,"")).replace(/\s*font-size\s*:[^;]*;*/gi,"")),-1!==e.indexOf('contenteditable="true"')&&(e=e.replace(/\s*contenteditable="true"/gi,"")),-1!==e.indexOf('style=""')&&(e=e.replace(/\s*style=""/gi,"")),e},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/LayoutTemplateIndicatorUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1023,t}return _inherits(a,e),a.prototype.up=function(e){var a=this;return e&&e.layout?((e.layout.items||[]).forEach((function(e){(e.items||[]).forEach((function(e){a._upgradePage(e)}))})),Promise.resolve(e)):Promise.resolve(e)},a.prototype._upgradePage=function(e){e&&"genericPage"===e.type&&(e.items=e.items||[],!!e.items.find((function(e){return"templateDropZone"===e.type||"templateIndicator"===e.type}))||e.items.unshift({style:{top:"0%",left:"0%",right:"0%",bottom:"0%"},type:"templateIndicator"}))},a}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/RecommendedDriversUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1024,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeWidgets=function(a){var t=this;return e.each(a.widgets,(function(e){t._upgradeWidget(e)})),Promise.resolve(a)},s.prototype._upgradeWidget=function(a){if(a.possibleKeyDrivers){var t=e.values(a.possibleKeyDrivers);e.each(t,(function(a){var t=a.recommendedDrivers?a.recommendedDrivers:null;t&&e.each(t,(function(e){e.label&&delete e.label}))}))}},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DataItemAggregationTypeUpgradeForScatterAndBubble",["underscore","../../../lib/@waca/upgrades/UpgradeBase","dashboard-analytics/dataSources/services/DataSourcesService"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1025,e.startVersionUsingDefault=1019,e}return _inherits(s,a),s.prototype.up=function(a){if(!a||!a.widgets||e.isEmpty(a.widgets))return Promise.resolve(a);this.spec=a;var s=this._DataSourcesServices||t;return this.dataSourcesService=new s({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.dataSourcesService.initializeSourcesCollection(this.spec),this._upgradeAggregationType(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeAggregationType=function(a){var t=this,s=[],r=this.data&&this.data.originalSpecVersion&&this.data.originalSpecVersion>=this.startVersionUsingDefault;return e.each(a.widgets,(function(a){var o=a.data&&a.data.dataViews,i=a.slotmapping&&a.slotmapping.slots,n="live"===a.type,l="com.ibm.vis.ravescatter"===a.visId||"com.ibm.vis.ravebubble"===a.visId,p=o&&o[0]?o[0].modelRef:null;if(p&&o&&i&&n&&l){var u=[];if(e.each(i,(function(e){"x"!==e.name&&"y"!==e.name||(u=u.concat(e.dataItems))})),u.length>0){var d=t._getModule(p).then((function(a){e.each(o,(function(t){var s=t.dataItems;s&&e.each(s,(function(t){if(e.contains(u,t.id)&&!t.aggregate){var s=a.getMetadataColumn(t.itemId);if(s)"attribute"===s.getType()&&(t.aggregate=r?s.getDefaultAggregation():"count")}}))}))}));s.push(d)}}})),Promise.all(s).then((function(){return a}))},s.prototype._getModule=function(e){return this.dataSourcesService.getModule(e)},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/TextWidgetParagraphUpgrade",["../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils","jquery"],(function(e,a,t){return new(function(e){function s(){_classCallCheck(this,s);var a=_possibleConstructorReturn(this,e.call(this));return a.VERSION=1026,a}return _inherits(s,e),s.prototype.up=function(e){return e&&a.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype._upgradeWidgets=function(e){for(var a in e.widgets){var t=e.widgets[a];"text"===t.type&&t.content&&this._upgradeTextWidget(t)}return Promise.resolve(e)},s.prototype._upgradeTextWidget=function(e){var a=e.content.translationTable;if(a)for(var t in a)a[t]=this._upgradeContent(a[t]);else"string"==typeof e.content&&(e.content=this._upgradeContent(e.content))},s.prototype._upgradeContent=function(e){var a=t(e),s=a.find("p"),r=a.find(".textFitted"),o=s.first().attr("class");if(s.removeAttr("class"),r.length)r.addClass(o);else{var i=t("<span class='textFitted "+o+"'></span>");s.wrapAll(i)}return a.wrap("<div></div>").parent().html()},s}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/RankSlotUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1027,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeWidgets=function(a){var t=this;return e.each(a.widgets,(function(e){t._upgradeWidget(e)})),Promise.resolve(a)},s.prototype._upgradeWidget=function(a){a.slotmapping&&a.slotmapping.slots&&a.slotmapping.slots.length&&(a.slotmapping.slots=e.filter(a.slotmapping.slots,(function(e){return"rank"!==e.name})))},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDAPaddingPropUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1300,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&s._isLive(e)&&(e.properties||(e.properties=[]),s._noPaddingPropertyUpgrade(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._isLive=function(e){return e&&e.type&&"live"===e.type},s.prototype._noPaddingPropertyUpgrade=function(a){var s=["bar.noPadding"],r=t.findProperty(s[0],a.properties),o=["bar.padding"],i=t.findProperty(o[0],a.properties);a.properties=e.filter(a.properties,(function(e){return s[0]!==e.id})),i||a.properties.push({id:o[0],value:!r||!r.value})},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DuplicateLayoutCssPropUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1301,t}return _inherits(a,e),a.prototype.up=function(e){var a=this;return Promise.resolve().then((function(){return e&&e.layout&&a._upgradeLayout(e.layout),e}))},a.prototype.down=function(e){return Promise.resolve(e)},a.prototype._upgradeLayout=function(e){if(e.items){var a=e.items,t=Array.isArray(a),s=0;for(a=t?a:a[Symbol.iterator]();;){var r;if(t){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var o=r;this._upgradeLayout(o)}}this._upgradeCssProp(e)},a.prototype._upgradeCssProp=function(e){e.css&&(e.css=e.css.split(" ").filter((function(e,a,t){return a===t.indexOf(e)})).join(" ").trim())},a}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/VIDALegendFontSizeMappingUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1400,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&e.properties&&s._legendFontSizeMappingUpgrade(e)})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._legendFontSizeMappingUpgrade=function(a){var s=t.findProperty("widget.legend.font",a.properties);if(s&&null!==s.value){var r={"12px":"11px","24px":"16px"}[s.value.trim()];r&&(a.properties=e.filter(a.properties,(function(e){return"widget.legend.font"!==e.id})),a.properties.push({id:"widget.legend.font",value:r}))}},s}(a))})),define("dashboard-core/js/features/dashboard/colors/api/ColorsAPI",[],(function(){return function(){function e(){_classCallCheck(this,e)}return e.prototype.initializeColorsFeature=function(){},e.prototype.initializeColorsFeatureForUpgrade=function(){},e.prototype.registerProvider=function(){},e.prototype.getTabColorHexValueFromModel=function(){},e.prototype.getColorSetId=function(){},e.prototype.getThemeDefinition=function(){},e.prototype.getDashboardColorSet=function(){},e.prototype.getCustomColorSet=function(){},e.prototype.getColorSet=function(){},e.prototype.getLayoutBackgroundColorHex=function(){},e.prototype.getDefaultPaletteName=function(){},e.prototype.getPropertyForUIElement=function(){},e.prototype.getValueForPropertyOfUIElement=function(){},e.prototype.getValueForVariable=function(){},e.prototype.getForegroundCSSColors=function(){},e.prototype.getForegroundColorPropertiesForUIElement=function(){},e.prototype.getForegroundPropertiesForUIElement=function(){},e.prototype.isColorIdValidForDashboadColorSet=function(){},e.prototype.getHexColorFromDashboardColorSet=function(){},e.prototype.getHexColorFromPalette=function(){},e.prototype.getPalette=function(){},e.prototype.getPalettes=function(){},e.prototype.getPaletteColors=function(){},e.prototype.createColorDefinition=function(){},e.prototype.clearLocalPaletteCache=function(){},e.prototype.destroy=function(){},e.prototype.enableTheme=function(){},e.prototype.disableTheme=function(){},e.prototype.getHexColorFromClassName=function(){},e.prototype.isCustomColor=function(){},e.prototype.addCustomColor=function(){},e.prototype.getColorClassName=function(){},e.prototype.makeSureColorIsValidInModel=function(){},e.prototype.prepareForColorModelChange=function(){},e.prototype.on=function(){},e.prototype.off=function(){},e}()})),define("dashboard-core/js/features/dashboard/colors/api/impl/Colors",["../../../../../lib/@waca/dashboard-common/dist/core/APIFactory","../ColorsAPI","underscore","jquery","../../../../../app/nls/StringResources","../../../../../dashboard/util/ColorUtils","../../../../../lib/@waca/core-client/js/core-client/ui/core/Events"],(function(e,a,t,s,r,o,i){var n={ColorPalette:"simple",HeatPalette:"continuous",ConditionalPalette:"simple"},l=[{id:"transparent",hexValue:"transparent"},{id:"white",hexValue:"#FFFFFF"},{id:"black",hexValue:"#000000"}],p=function(i){function p(e){_classCallCheck(this,p);var a=_possibleConstructorReturn(this,i.call(this));return a.dashboardApi=e.features.API,a.internalApi=e.features.internal,a._dashboardThemeFeature=e.features.DashboardTheme,a._paletteFeature=e.features.Palette,a._providers=[],a}return _inherits(p,i),p.prototype.initialize=function(){return this.initializeColorsFeature({boardModel:this.internalApi.getBoardModel()})},p.prototype.getAPI=function(){return this._colorsAPI||(this._colorsAPI=e.createAPI(this,[a])),this._colorsAPI},p.prototype.initializeColorsFeature=function(e){var a=this,t=e.boardModel,s=e.generateRuntimeStyles,r=void 0===s||s;return this._boardModel=t,this._dashboardPropertiesModel=this._boardModel.properties,this._customColorsModel=this._dashboardPropertiesModel.get("customColors"),this._generateRuntimeStyles=r,this._dashboardColorSetId=this._dashboardPropertiesModel.dashboardColorSet||"userPaletteColor",this._localPalettes=null,this._loadThemeDefinition(this._boardModel.theme).then((function(e){return a._themeDefinition=e,a._registerPaletteServiceEvents(),a.getPaletteColors({paletteId:a.getColorSetId(),addMissingBaseColors:!0}).then((function(e){return a._dashboardColorSet=e,a._registerModelEvents(),a._initCustomColors(!1).then((function(){return a.enableTheme()}))}))}))},p.prototype.initializeColorsFeatureForUpgrade=function(e){var a=this,t=e.themeName,s=e.generateRuntimeStyles,r=void 0===s||s;return this._generateRuntimeStyles=r,this._dashboardPropertiesModel={},this._loadThemeDefinition(t).then((function(e){a._themeDefinition=e}))},p.prototype.destroy=function(){this._unregisterModelEvents(),this._unregisterPaletteServiceEvents(),this.clearLocalPaletteCache()},p.prototype.registerProvider=function(e){this._providers.push(e)},p.prototype._registerPaletteServiceEvents=function(){this._paletteFeature.on("palette:updated",this._onPaletteUpdated,this),this._paletteFeature.on("palette:deleted",this._onPaletteDeleted,this)},p.prototype._unregisterPaletteServiceEvents=function(){this._paletteFeature.off("palette:updated",this._onPaletteUpdated,this),this._paletteFeature.off("palette:deleted",this._onPaletteDeleted,this)},p.prototype._registerModelEvents=function(){this._boardModel.on("change:theme",this._onChangeTheme,this),this._customColorsModel.on("changed:colors",this._initCustomColors,this),this._boardModel.layout&&this._boardModel.layout.on("change:tabTextColor",this._generateAllColorSetStyles,this)},p.prototype._unregisterModelEvents=function(){this._boardModel.off("change:theme",this._onChangeTheme,this),this._customColorsModel.off("changed:colors",this._initCustomColors,this),this._boardModel.layout&&this._boardModel.layout.off("change:tabTextColor",this._generateAllColorSetStyles,this)},p.prototype.getColorSetId=function(){return this._dashboardPropertiesModel.dashboardColorSet||"userPaletteColor"},p.prototype.getThemeDefinition=function(){return this._themeDefinition},p.prototype.getDashboardColorSet=function(){return this._dashboardColorSet},p.prototype.getCustomColorSet=function(){return this._customColorSet},p.prototype.getTabColorHexValueFromModel=function(e){return this._boardModel.layout.get(e)?this.getHexColorFromDashboardColorSet(this._boardModel.layout.get(e)):null},p.prototype.getColorSet=function(e){return e===this.getColorSetId()?this.getDashboardColorSet():this._customColorPalette&&this._customColorPalette.id===e?this.getCustomColorSet():[]},p.prototype.getLayoutBackgroundColorHex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return"transparent"===e?this.getValueForPropertyOfUIElement("board","backgroundColor"):this.getHexColorFromDashboardColorSet(e)},p.prototype.getDefaultPaletteName=function(e){return this._themeDefinition.getDefaultPaletteName(e)},p.prototype.getPropertyForUIElement=function(e,a){return this._themeDefinition.getPropertyForUIElement(e,a)},p.prototype.getValueForPropertyOfUIElement=function(e,a){return this._themeDefinition.getValueForPropertyOfUIElement(e,a)},p.prototype.getValueForVariable=function(e,a){return this._themeDefinition.getValueForVariable(e,a)},p.prototype._onPaletteUpdated=function(e){var a=e.paletteId,t=p.EXTERNAL_PALETTE_ID_PREFIX+a;t===this.getColorSetId()&&this._updateDynamicColorStyles(),this.trigger("palette:updated",{paletteId:t}),this.dashboardApi.triggerDashboardEvent("properties:refreshPane")},p.prototype._onPaletteDeleted=function(e){var a=e.paletteId,t=p.EXTERNAL_PALETTE_ID_PREFIX+a;t===this.getColorSetId()&&(this._dashboardPropertiesModel.set({dashboardColorSet:this.getDefaultPaletteName("ColorPalette")},{silent:!0,payloadData:{skipUndoRedo:!0}}),this._updateDynamicColorStyles()),this.trigger("palette:deleted",{paletteId:t}),this.dashboardApi.triggerDashboardEvent("properties:refreshPane")},p.prototype.getForegroundCSSColors=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getColorSetId();return"userPaletteColor"===a?Promise.resolve(this._themeDefinition.getCSSColors(e)):this.getPaletteColors({paletteId:a}).then((function(e){var a={};return e&&e.forEach((function(e){a[e.id]=o.invertColor(e.hexValue)})),a}))},p.prototype.getForegroundColorPropertiesForUIElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visualization";if("userPaletteColor"!==this.getColorSetId()||this.isCustomColor(e)){var t=this._themeDefinition.getForegroundPropertiesForUIElement(a),s=[],r=this.getHexColorFromDashboardColorSet(e);if("transparent"===r)return s;var i=o.invertColor(r);return t.forEach((function(e){s.push({id:e.id,value:i})})),s}return this._themeDefinition.getForegroundColorPropertiesForUIElement(e,a)},p.prototype.getForegroundPropertiesForUIElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visualization";return this._themeDefinition.getForegroundPropertiesForUIElement(e)},p.prototype.isColorIdValidForDashboadColorSet=function(e){return!!t.find(this.getDashboardColorSet(),(function(a){return a.id===e}))},p.prototype.getHexColorFromDashboardColorSet=function(e){if(0===(e=e||"transparent").indexOf("#"))return e;var a=this.isCustomColor(e)?this.getCustomColorSet():this.getDashboardColorSet(),s=t.find(a,(function(a){var t=a.id===e;return!t&&a.hexValue.toLowerCase&&(t=!!l.find((function(t){return t.id===e&&t.hexValue.toLowerCase()===a.hexValue.toLowerCase()}))),t}));return s?s.hexValue:e},p.prototype._getDefaultColorFromDashboardColorSet=function(){var e=this.getDashboardColorSet();return e[e.length-1]},p.prototype.getHexColorFromPalette=function(e){var a=e.paletteId,s=e.type,r=void 0===s?"ColorPalette":s,o=e.colorIndex,i=e.colorId,n=e.addMissingBaseColors,l=void 0===n||n,p=e.defaultIfNotFound,u=void 0===p||p,d=e.themeName;return this.getPaletteColors({paletteId:a,type:r,defaultIfNotFound:u,addMissingBaseColors:l,themeName:d}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=null;return i?!(a=t.find(e,(function(e){return e.id===i})))&&u&&(a=e[0]):a=o?o>=e.length?e[0]:e[o]:e[0],a?a.hexValue:a}))},p.prototype.getPalette=function(e){var a=this,t=e.paletteId,s=e.type,r=e.defaultPaletteId,o=e.defaultIfNotFound,i=void 0===o||o,n=e.forProperties,l=void 0!==n&&n;if(!t)return i?Promise.resolve(this._getDefaultPalette(s,r,l)):Promise.reject("Trying to get a palette without an ID");if(this._isExternalPalette(t)){var u=t.split(p.EXTERNAL_PALETTE_ID_PREFIX)[1];return this._paletteFeature.getPalette(u).then((function(e){return a._updateCMIDs([e]),l?e:e.content})).catch((function(e){if(e&&404===e.code&&i)return a._getDefaultPalette(s,r,l);throw e}))}return Promise.resolve(this._themeDefinition.getPalette(t,s,l))},p.prototype._getDefaultPalette=function(e,a,t){if(a)return this._themeDefinition.getPalette(a,e,t);var s=this._themeDefinition.getDefaultPaletteName(e);return this._themeDefinition.getPalette(s,e,t)},p.prototype.getPalettes=function(e){var a=this,t=e.type,s=e.includeUserColorPalette,r=void 0!==s&&s,o=e.forProperties,i=void 0!==o&&o,l=e.includePatternPalettes,p=void 0===l||l,u=n[t];return this._paletteFeature.getPalettes(u).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a._updateCMIDs(e.my),a._updateCMIDs(e.public),i||(e.my.map((function(e){return e.content})),e.public.map((function(e){return e.content})));var s=[];return r&&s.push(a._themeDefinition.getPalette("userPaletteColor","userPaletteColor",i)),e.system=s.concat(a._themeDefinition.getPalettes(t,i,p)),a._getLocalPalettes(e,t,i).then((function(a){return e.local=a,e}))}))},p.prototype.getPaletteColors=function(e){var a=this,t=e.paletteId,s=e.type,r=void 0===s?"ColorPalette":s,o=e.addMissingBaseColors,i=void 0===o||o,n=e.defaultIfNotFound,l=void 0===n||n;if(!t)return Promise.resolve([]);if(this._isExternalPalette(t)){var u=t.split(p.EXTERNAL_PALETTE_ID_PREFIX)[1];return this._paletteFeature.getPalette(u).then((function(e){return a._generateArrayOfColorsFromPalette(e.content,i)})).catch((function(e){if(l){var t=a._themeDefinition.getDefaultPaletteName(r),s=a._themeDefinition.getPalette(t,r,!1);return a._generateArrayOfColorsFromPalette(s,i)}throw e}))}if(this._customColorPalette&&this._customColorPalette.id===t)return Promise.resolve(this.getCustomColorSet());var d=this._themeDefinition.getPalette(t,r,!1);return Promise.resolve(this._generateArrayOfColorsFromPalette(d,i))},p.prototype.clearLocalPaletteCache=function(){this._localPalettes=null},p.prototype._isExternalPalette=function(e){return 0===e.indexOf(p.EXTERNAL_PALETTE_ID_PREFIX)},p.prototype._getLocalPalettes=function(e,a,t){var s=this,r=n[a];if(this._localPalettes)return Promise.resolve(this._localPalettes[r]);var o=[],i=e.my||[],l=e.public||[],u=this._boardModel.getContentReferences()||[],d=function(e,a){return e.id===a};u.forEach((function(e){if("palette"===e.type){var a=p.EXTERNAL_PALETTE_ID_PREFIX+e.value;i.some((function(e){return d(e,a)}))||l.some((function(e){return d(e,a)}))||o.push(a)}}));var c=[];return o.forEach((function(e){c.push(s.getPalette({paletteId:e,forProperties:t,defaultIfNotFound:!1}).catch((function(){return null})))})),Promise.all(c).then((function(e){return s._localPalettes={simple:[],continuous:[]},e.forEach((function(e){if(e){var a=e.fillType||e.content&&e.content.fillType;s._localPalettes[a]&&s._localPalettes[a].push(e)}})),s._localPalettes[r]}))},p.prototype._generateArrayOfColorsFromPalette=function(e,a){var t=this,s=[];return e.fills.forEach((function(a,o){var i=e.ids&&e.ids[o]?e.ids[o]:"color"+o,n=e.labels&&e.labels[o]?r.get(e.labels[o]):a;s.push(t.createColorDefinition(i,n,a))})),a&&(s=this._addMissingBaseColors(s)),s},p.prototype.createColorDefinition=function(e,a,t){return{id:e,name:e,type:"transparent"===e?"ColorCode":"Class",label:a,value:"transparent"===e?"transparent":"fill-"+e,hexValue:t}},p.prototype._addMissingBaseColors=function(e){var a=this,s=[];return l.forEach((function(o){t.find(e,(function(e){return e.hexValue.toLowerCase&&e.hexValue.toLowerCase()===o.hexValue.toLowerCase()}))||s.push(a.createColorDefinition(o.id,r.get(o.id),o.hexValue))})),s.concat(e)},p.prototype._updateCMIDs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){e.id=p.EXTERNAL_PALETTE_ID_PREFIX+e.id}))},p.prototype._getColorSetExtensions=function(){var e=this;return this._colorSetExtensions?(this.getColorSetExtensionsPromise=null,Promise.resolve(this._colorSetExtensions)):(this.getColorSetExtensionsPromise||(this.getColorSetExtensionsPromise=this.dashboardApi.getCollectionExtension("com.ibm.bi.dashboard.colorSetExtensions").then((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return a.forEach((function(e){var a=e.name,s=e.module;a&&s&&t.push(s)})),new Promise((function(a,s){require(t,function(){this._colorSetExtensions=[];for(var e=0;e<arguments.length;e++)this._colorSetExtensions.push(arguments[e]);a(this._colorSetExtensions)}.bind(e),(function(e){s(e)}))}))}))),this.getColorSetExtensionsPromise)},p.prototype._generateColorSetStyles=function(e,a){var t=this;if(!this._generateRuntimeStyles)return Promise.resolve();var s=this._providers.map((function(a){try{return a.getColorStyles(e)}catch(e){return Promise.reject(e)}}));return this._getColorSetExtensions().then((function(r){return r.forEach((function(a){a.getColorStyles&&s.push(a.getColorStyles(t,e))})),Promise.all(s).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t._createStyleNode(e.join(""),a),e}))}))},p.prototype._createStyleNode=function(e,a){this._removeDynamicStyles(a);var t=s('<style type="text/css" id="'+a+'"></style>');t.html(e),t.appendTo("head")},p.prototype._removeDynamicStyles=function(e){s("#"+e).remove()},p.prototype.enableTheme=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generateStyles:!0};return this._isThemeEnabled=!0,this._themeDefinition&&(s("body").addClass(this._themeDefinition.getId()),!0===e.generateStyles)?this._generateAllColorSetStyles():Promise.resolve()},p.prototype.disableTheme=function(){this._isThemeEnabled&&(this._isThemeEnabled=!1,this._themeDefinition&&(s("body").removeClass(this._themeDefinition.getId()),s("#dashboardDynamicStyles").remove()),s("#dashboardCustomColors").remove())},p.prototype._loadThemeDefinition=function(e){return this._dashboardThemeFeature.getThemeDefinition(e)},p.prototype.getHexColorFromClassName=function(e){return this._customColorsModel.getHexColorFromClassName(e)},p.prototype.isCustomColor=function(e){return this._customColorsModel.isCustomColor(e)},p.prototype.addCustomColor=function(e){return this._customColorsModel.addCustomColor(e),this._customColorsModel.getColorClassName(e)},p.prototype.getColorClassName=function(e){return 0!==e.indexOf("#")?e:this.addCustomColor(e)},p.prototype._initCustomColors=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._customColorSet=[],this._customColorPalette=this._customColorsModel.getCustomPaletteDefinition(),this._customColorPalette&&this._customColorPalette.fills&&this._customColorPalette.fills.length>0?(this._customColorSet=this._generateArrayOfColorsFromPalette(this._customColorPalette,!1),e?this._generateColorSetStyles(this._customColorPalette.id,"dashboardCustomColors"):Promise.resolve()):Promise.resolve()},p.prototype._generateAllColorSetStyles=function(){return Promise.all([this._generateColorSetStyles(this.getColorSetId(),"dashboardDynamicStyles"),this._generateColorSetStyles(this._customColorPalette.id,"dashboardCustomColors")])},p.prototype._updateDynamicColorStyles=function(e){var a=this;return this.getPaletteColors({paletteId:this.getColorSetId(),addMissingBaseColors:!0}).then((function(t){return a._dashboardColorSet=t,a._generateAllColorSetStyles().then((function(){a.trigger("colorSet:changed",e),a.dashboardApi.triggerDashboardEvent("properties:refreshPane")}))}))},p.prototype._onChangeTheme=function(e){var a=this;return this._loadThemeDefinition(this._boardModel.theme).then((function(t){return a.disableTheme(),a._themeDefinition=t,a.enableTheme({generateStyles:!1}),a._updateDynamicColorStyles(e.data).then((function(){a.trigger("theme:changed",{value:e.value,payloadData:e.data,prevValue:e.prevValue})}))}))},p.prototype.makeSureColorIsValidInModel=function(e){var a=e.model,t=e.propertyName,s=e.valuePrefix,r=e.offset,o=void 0===r?1:r,i=e.info;if(a&&t){var n=a.get(t);if(n&&!this.isCustomColor(n)){var l="original"+t,p=a.get(l),u=p||n,d=null,c=s?u.split(s)[1]:u;if(this.isColorIdValidForDashboadColorSet(c))u!==n&&((d={})[t]=u);else{var h=this.getDashboardColorSet(),g=o<h.length?h[h.length-o].id:h[h.length-1].id;(d={})[t]=s?s+g:g}if(d){p||(d[l]=n);var m=null;m=i&&i.transactionId?{undoRedoTransactionId:i.transactionId,transactionToken:i.transactionToken}:{skipUndoRedo:!0},a.set(d,{payloadData:m}),this.dashboardApi.triggerDashboardEvent("properties:refreshPane")}}}},p.prototype.prepareForColorModelChange=function(e,a){e["original"+a]=null},p}(i);return p.EXTERNAL_PALETTE_ID_PREFIX="__CM__",p})),define("dashboard-core/js/dashboard/loader/upgrader/SummaryKPIUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils","../../../features/dashboard/colors/api/impl/Colors"],(function(e,a,t,s){return new(function(a){function r(){_classCallCheck(this,r);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1401,e}return _inherits(r,a),r.prototype.up=function(a){var r=this,o=this.data.dashboardApi,i=o.getFeature("DashboardTheme"),n=o.getFeature("Palette");if(this._colorsService=new s({features:{API:this.data.dashboardApi,DashboardTheme:i,Palette:n}}),!t.specHasWidgets(a))return Promise.resolve(a);var l=a.theme||"defaultTheme";return this._colorsService.initializeColorsFeatureForUpgrade({themeName:l}).then((function(){var s=[];return e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&"summary"===e.visId&&s.push(r._summaryWidgetUpgrade(e,a))})),Promise.all(s).then((function(){return a}))}))},r.prototype.down=function(e){return Promise.resolve(e)},r.prototype._summaryWidgetUpgrade=function(e,a){var t=this;e.slotmapping&&Array.isArray(e.slotmapping.slots)&&e.slotmapping.slots.length&&(e.slotmapping.slots[0].name="actual"),e.enableSlotDefinitionFormat=!1;var s={};e.properties&&(e.properties=e.properties.filter((function(e){return s[e.id]=e.value,"summaryValueColor"!==e.id&&"summaryLabelColor"!==e.id})));var r=s.colorPalette||this._colorsService.getDefaultPaletteName("ColorPalette"),o=s.valueColor||0;return this._colorsService.getHexColorFromPalette({paletteId:r,colorIndex:o,defaultIfNotFound:!0,addMissingBaseColors:!1,themeName:a.theme}).then((function(s){e.properties||(e.properties=[]);var r=s.toUpperCase();t._addCustomColor(a,r),e.properties.push({id:"elementColor",value:"customColor"+r.substring(1)})}))},r.prototype._addCustomColor=function(e,a){if(e.properties||(e.properties={}),e.properties.customColors){var t=e.properties.customColors.colors;-1===t.indexOf(a)&&t.push(a)}else e.properties.customColors={colors:[a]}},r}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/WidgetTitleAriaLabelUpgrade",["../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils","jquery"],(function(e,a,t){return new(function(e){function s(){_classCallCheck(this,s);var a=_possibleConstructorReturn(this,e.call(this));return a.VERSION=1402,a}return _inherits(s,e),s.prototype.up=function(e){return e&&a.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype._upgradeWidgets=function(e){for(var a in e.widgets){var t=e.widgets[a];t.titleHtml&&"live"==t.type?(t.titleHtml=this._upgradeLiveVisualizations(t.titleHtml),t.name=this._updateTranslationTable(t.titleHtml)):"text"==t.type&&(t.name=this._updateTranslationTable(t.content))}return Promise.resolve(e)},s.prototype._generateTitle=function(e){var a=t(e),s="";return a.find("p, li").each((function(e,a){s=s+" "+a.textContent})),s.trim()},s.prototype._updateTranslationTable=function(e){var a=JSON.parse(JSON.stringify(e));if(e.translationTable)for(var t in e.translationTable)a.translationTable[t]=this._generateTitle(e.translationTable[t]);else a=this._generateTitle(e);return a},s.prototype._removeAriaLabelNode=function(e){var a=t(e);return a.find(".ariaLabelNode").remove(),a[0].outerHTML},s.prototype._upgradeLiveVisualizations=function(e){if(e.translationTable)for(var a in e.translationTable)e.translationTable[a]=this._removeAriaLabelNode(e.translationTable[a]);else e=this._removeAriaLabelNode(e);return e},s}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/MissingOriginalCustomGroupItemId",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1403,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeWidgets=function(a){var t=this;return e.each(a.widgets,(function(e){t._upgradeWidget(e,a)})),Promise.resolve(a)},s.prototype._upgradeWidget=function(a,t){var s=this;e.each(a.data&&a.data.dataViews,(function(e){var a=e.modelRef,r=e.dataItems,o=t.dataSources;s._setOriginalCustomGroupItemId(o&&o.sources,a,r)}))},s.prototype._setOriginalCustomGroupItemId=function(a,t,s){var r=e.findWhere(a,{id:t});if(r){var o=r.shaping&&r.shaping.moserJSON,i=o&&o.calculation;e.each(s,(function(a){var t=e.findWhere(i,{identifier:a.itemId});if(t){var s=e.where(t.property,{name:"ui_expr"});s&&e.find(s,(function(e){var t=JSON.parse(e.value);if("customGroup"===t.func)return a.originalCustomGroupItemId=t.basedOnMoserObject,!0}))}}))}},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DrillthroughDefinitionScopeUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1404,t}return _inherits(a,e),a.prototype.up=function(e){return e&&e.drillThrough&&e.drillThrough.length&&e.drillThrough.forEach((function(e){e.scope=e.reusable?"connection":"visualization",delete e.reusable})),Promise.resolve(e)},a}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/TabIconUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){var a={announcement_16_v4:"bullhorn",api_16_v4:"api",archive_16_v4:"archive",asset_16_v4:"microphone",attachment_16_v4:"attachment",audio_16_v4:"audio",bee_16_v4:"bee",blog_16_v4:"blog",bookmark_16_v4:"bookmark",calendar_16_v4:"calendar",camera_16_v4:"camera",capability_16_v4:"capability",catalog_16_v4:"catalog","chat-message_16_v4":"message","checkout-cart_16_v4":"checkout",client_16_v4:"client",clock_24_v4:"clock",cloud_16_v4:"cloud",code_16_v4:"code","data-quality_16_v4":"data-quality",folder_16_v5:"folder",forum_16_v4:"forum",glasses_16_v4:"glasses",group_16_v5:"group",hat_16_v4:"hat",headphones_16_v4:"headphones",hills_24_v4:"hills",home_16_v4:"home",idea_16_v4:"idea","image-file_32_v4":"image",inventory_24_v4:"inventory",like_16_v4:"like",link_16_v5:"link",location_16_v5:"location",manage_16_v4:"settings","markup-pen_16_v4":"pen","mobile-phone_16_v4":"mobile",music_16_v4:"music",notifications_16_v4:"notifications",paint_24_v4:"paint","payment-card_16_v4":"payment","password-key_32_v4":"password-key",people_16_v4:"people",person_16_v4:"person","phone-call_16_v4":"phone",pin_16_v4:"pin",print_16_v4:"print",recording_16_v4:"recording",repository_16_v5:"repository",role_16_v4:"role",search_16_v5:"search",settings_16_v4:"settings",speaker_16_v4:"speaker","star-rating_16_v4":"star",tag_16_v4:"tag","thumbs-up_16_v4":"thumbs-up","thumbs-down_16_v4":"thumbs-down",tools_16_v4:"tools",traffic_16_v4:"traffic",trash_16_v4:"trash",twitter_16_v4:"twitter",unknown_16_v4:"unknown",user_16_v4:"user","venn-diagram_16_v4":"venn-diagram",video_16_v4:"video",view_16_v4:"view",warn_16_v5:"warning",watch_24_v4:"watch",watson_24_v4:"watson",wikis_16_v4:"wikis",workspace_16_v4:"workspace",world_16_v4:"world"};return new(function(e){function t(){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,e.call(this));return a.VERSION=1600,a}return _inherits(t,e),t.prototype.up=function(e){return e?this._upgradeWidgets(e):Promise.resolve(e)},t.prototype._upgradeWidgets=function(e){var t=this;return"tab"===e.layout.type&&e.layout.items.forEach((function(e){if(e.tabIcon){var s=a[e.tabIcon.value];void 0!==s?e.tabIcon=s:(t.data&&t.data.logger&&t.data.logger.warn("Unable to upgrade tab icon "+e.tabIcon.value+" - replacing with default value"),delete e.tabIcon)}})),Promise.resolve(e)},t}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/CssAndFillColorConflictUpgrade",["../../../lib/@waca/upgrades/UpgradeBase"],(function(e){return new(function(e){function a(){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,e.call(this));return t.VERSION=1801,t}return _inherits(a,e),a.prototype.up=function(e){return this._needsUpgrade(e)?Promise.resolve(this._upgrade(e)):Promise.resolve(e)},a.prototype._needsUpgrade=function(e){var a=e.layout,t=a.fillColor,s=a.css;return!(!t||!s)&&-1!==s.split(" ").findIndex((function(e){return e.startsWith("fill-")}))},a.prototype._upgrade=function(e){var a=e.layout,t=_objectWithoutProperties(e,["layout"]),s=a.css,r=[],o=s.split(" "),i=[];o.forEach((function(e,a){e.startsWith("fill-")?i.push(a):r.push(e)}));var n=o[i[0]].substr("fill-".length);return _extends({},t,{layout:_extends({},a,{fillColor:n,css:r.join(" ")})})},a.prototype.down=function(e){return Promise.resolve(e)},a}(e))})),define("dashboard-core/js/dashboard/loader/upgrader/NewGenSpec",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1800,e}return _inherits(s,a),s.prototype.up=function(e){return e&&t.specHasWidgets(e)?this._upgradeWidgets(e):Promise.resolve(e)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeWidgets=function(a){var t=this;return e.each(a.widgets,(function(e){t._upgradeWidgetProperties(e,a)})),Promise.resolve(a)},s.prototype._getContentSpec=function(e,a){var s=t.findLayout([a.layout],e.id),r=null;return s&&(s.content||(s.content={}),r=s.content),r},s.prototype._getContentProps=function(e,a){var t=this._getContentSpec(e,a),s=void 0;return t&&(t.properties||(t.properties={}),s=t.properties),s},s.prototype._upgradeVisGridProps=function(e,a){if(e&&e.data&&e.data.dataViews&&e.data.dataViews.length>0){var t=e.data.dataViews[0].grid;t&&(a["datagrid.viewOption"]=t.viewOption),delete e.data.dataViews[0].grid}},s.prototype._upgradeInfoGraphicProps=function(e,a){if(e&&e.slotmapping&&e.slotmapping.slots&&e.slotmapping.slots.length>0){var t=e.slotmapping.slots[0].dataItemSettings;if(t&&t.length>0){var s=t[0].graphic;s&&(a["value.graphic.content"]=s.content,a["value.graphic.currentScaleOption"]=s.currentScaleOption,a["value.graphic.fillColor"]=s.fillColor,a["value.graphic.borderColor"]=s.borderColor)}delete e.slotmapping.slots[0].dataItemSettings}},s.prototype._upgradeWidgetProperties=function(e,a){var t=this._getContentProps(e,a);t&&(this._upgradeVisGridProps(e,t),this._upgradeInfoGraphicProps(e,t))},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/ColBarZeroOriginValueUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1801,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),s._colBarZeroOriginValueUpgrade(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._colBarZeroOriginValueUpgrade=function(a){if(e.contains(["com.ibm.vis.rave2bundlebar","com.ibm.vis.rave2bundlecolumn","com.ibm.vis.rave2bundlestackedbar","com.ibm.vis.rave2bundlestackedcolumn"],a.visId)){var s=t.findProperty("valueAxis.zeroOrigin",a.properties);s&&(s.value=!0)}},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/DatasetScopeMultiMeasure",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1802,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){t.isLiveWidgetModel(e)&&(s._removeSlotPointer(e),s._updateSlotmappingDataItem(e),s._updateDataViewDataItem(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._removeSlotPointer=function(e){e.slotmapping&&e.slotmapping.multiMeasureSlot&&delete e.slotmapping.multiMeasureSlot},s.prototype._updateSlotmappingDataItem=function(e){e.slotmapping&&e.slotmapping.slots&&e.slotmapping.slots.forEach((function(e){e.dataItems&&e.dataItems.forEach((function(a,t){"_multiMeasuresSeries"===a&&(e.dataItems[t]="_multiMeasuresSeries_data")}))}))},s.prototype._updateDataViewDataItem=function(a){a.data&&!e.isEmpty(a.data.dataViews)&&a.data.dataViews.forEach((function(e){e&&e.dataItems&&e.dataItems.forEach((function(e){"_multiMeasuresSeries"===e.id&&(e.id="_multiMeasuresSeries_data")}))}))},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/CompositeChartV2Upgrade",["underscore","../../../lib/@waca/core-client/js/core-client/utils/UniqueId","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t,s){var r={"lines.smooth":{newPropId:"lineWithPoints.interpolate",trueValue:"cardinal",falseValue:"linear",defaultValue:"linear"},"markers.visible":{newPropId:"lineWithPoints.display",trueValue:"line_points",falseValue:"line",defaultValue:"line_points"}},o={"gridLines.visible":["valueAxis.gridLines.visible","itemAxis.gridLines.visible"],"valueAxis.title.visible":["valueAxis.column.title.visible","valueAxis.line.title.visible"],"valueLabels.visible":["column.valueLabels.visible","lineWithPoints.valueLabels.visible"],"valueLabels.color":["column.valueLabels.color","lineWithPoints.valueLabels.color"],"valueLabels.font":["column.valueLabels.font","lineWithPoints.valueLabels.font"],"valueAxis.ticks.labels.visible":["valueAxis.column.ticks.labels.visible","valueAxis.line.ticks.labels.visible"],"valueAxis.ticks.labels.color":["valueAxis.column.ticks.labels.color","valueAxis.line.ticks.labels.color"],"valueAxis.ticks.labels.font":["valueAxis.column.ticks.labels.font","valueAxis.line.ticks.labels.font"],"valueAxis.ticks.visible":["valueAxis.column.ticks.visible","valueAxis.line.ticks.visible"],"valueAxis.ticks.color":["valueAxis.column.ticks.color","valueAxis.line.ticks.color"],colorPalette:["colorPalette_column","colorPalette_line"],defaultPaletteIndex:["colorPalette_column_defaultIndex"],compositeLineColor:["colorPalette_line_defaultIndex"]};return new(function(t){function i(){_classCallCheck(this,i);var e=_possibleConstructorReturn(this,t.call(this));return e.VERSION=1803,e}return _inherits(i,t),i.prototype.up=function(a){var t=this;return a&&s.specHasWidgets(a)?(e.each(a.widgets,(function(e){s.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),"com.ibm.vis.rave2bundlecomposite"===e.visId&&(Object.keys(r).forEach((function(a){return t._upgradeBooleanProperty(_extends({model:e,oldPropId:a},r[a]))})),Object.keys(o).forEach((function(a){return t._upgradePropertyName(e,a,o[a])})),t._splitDataView(e)))})),Promise.resolve(a)):Promise.resolve(a)},i.prototype.down=function(e){return Promise.resolve(e)},i.prototype._upgradeBooleanProperty=function(a){var t=a.model,r=a.oldPropId,o=a.newPropId,i=a.trueValue,n=a.falseValue,l=a.defaultValue,p=s.findProperty(r,t.properties);p&&(t.properties=e.filter(t.properties,(function(e){return e.id!==r})),p.value&&l!==i?t.properties.push({id:o,value:i}):p.value||l===n||t.properties.push({id:o,value:n}))},i.prototype._upgradePropertyName=function(a,t,r){var o=s.findProperty(t,a.properties);o&&!e.isUndefined(o.value)&&(a.properties=e.filter(a.properties,(function(e){return e.id!==t})),r.forEach((function(e){a.properties.push({id:e,value:o.value})})))},i.prototype._splitDataView=function(t){if(t.data&&!e.isEmpty(t.data.dataViews)){var s=t.data&&t.data.dataViews,r=s[0],o=t.slotmapping&&t.slotmapping.slots,i=o.find((function(e){return"lineValue"===e.name}));if(o.forEach((function(e){delete e.layerId})),i){var n=i.dataItems[0],l=r.dataItems.findIndex((function(e){return e.id===n})),p=r.dataItems.splice(l,1);s.push({modelRef:r.modelRef,dataItems:p,id:a.get("model")})}}},i}(t))})),define("dashboard-core/js/dashboard/loader/upgrader/WidgetTitleUpgradeHelper",["underscore","./TextWidgetTypesUpgradeHelper"],(function(e,a){return function(a){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,a.apply(this,arguments))}return _inherits(t,a),t.prototype._upgradeWidgets=function(a){var t=this;e.each(a.widgets,(function(e){"live"===e.type&&t._upgradeWidgetTitle(e,a.theme)}))},t.prototype._upgradeWidgetTitle=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defaultTheme";if(e.titleHtml){var t=e.titleHtml.translationTable;if(t)for(var s in t)t[s]=this._upgradeContent(a,t[s]);else"string"==typeof e.titleHtml&&(e.titleHtml=this._upgradeContent(a,e.titleHtml))}},t}(a)})),define("dashboard-core/js/dashboard/loader/upgrader/CarbonPlexUpgrade",["underscore","../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/upgrades/UpgradeBase","./TextWidgetTypesUpgradeHelper","./WidgetTitleUpgradeHelper"],(function(e,a,t,s,r){return new(a.extend([t],{init:function(){this.VERSION=1804,this.textWidgetTypesUpgradeHelper=new s,this.widgetTitleUpgradeHelper=new r},up:function(e){var a=this;return this.textWidgetTypesUpgradeHelper.upgrade(e).then((function(e){return a.widgetTitleUpgradeHelper.upgrade(e)}))},down:function(e){return Promise.resolve(e)}}))}));var VCF_RuleConstants={RangeOperators:{and:"&&",none:"none"},RULE_OPERATORS:{greaterThan:">",greaterThanOrEqualTo:">=",lessThan:"<",lessThanOrEqualTo:"<=",equalTo:"==",inTop:">=",inBottom:"<=",missing:""},CONDITION_TYPES:{GTE:"GTE",LTE:"LTE",GT:"GT",LT:"LT",ET:"ET",IT:"IT",IB:"IB",MI:"MI"},RULE_SCALES:{PERCENTAGE:"%",NUMERIC:"#"},RULE_TYPES:{THRESHOLD:"threshold",RANGE:"range"},RULE_STYLE_SHAPE:{upArrow:"upArrow",rightArrow:"rightArrow",downArrow:"downArrow",upCaret:"upCaret",dash:"dash",downCaret:"downCaret",checkmark:"checkmark",warning:"warning",xSymbol:"xSymbol",circle:"circle",triangle:"triangle",diamond:"diamond",satisfied:"satisfied",neutral:"neutral",dissatisfied:"dissatisfied",none:"none"}};define("dashboard-core/js/dashboard/loader/upgrader/utils/VCF_RuleConstants",[],(function(){return VCF_RuleConstants})),define("dashboard-core/js/dashboard/loader/upgrader/utils/VCFUpgradeUtils",["underscore"],(function(e){return new(function(){function a(){_classCallCheck(this,a)}return a.prototype.buildIndexMap=function(a,t){if(a<=t)return e.range(a);if(5===a){return[[4],[0,4],[0,2,4],[0,1,2,4],[0,1,2,3,4]][t-1]}if(1===t)return[Math.floor(a/2)];for(var s=(a-1)/t,r=[0],o=2;o<t;o++)r.push(Math.floor(s*o));return r.push(a-1),r},a}())})),define("dashboard-core/js/dashboard/loader/upgrader/KPI_VCF_Upgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils","./utils/VCF_RuleConstants","./utils/VCFUpgradeUtils","../../../app/util/DeepClone"],(function(e,a,t,s,r){var o={ruleType:s.RULE_TYPES.RANGE,startCondition:{type:s.RULE_OPERATORS.greaterThanOrEqualTo,value:void 0},endCondition:{type:s.RULE_OPERATORS.lessThan,value:void 0},ruleStyle:{textColor:void 0,shape:void 0},operator:s.RangeOperators.and},i={ruleType:s.RULE_TYPES.THRESHOLD,startCondition:{type:s.RULE_OPERATORS.lessThan,value:void 0},ruleStyle:{textColor:"color4",shape:void 0},operator:s.RangeOperators.none},n={ruleType:s.RULE_TYPES.THRESHOLD,startCondition:{type:s.RULE_OPERATORS.greaterThanOrEqualTo,value:void 0},ruleStyle:{textColor:"color0",shape:void 0},operator:s.RangeOperators.none},l={ruleType:s.RULE_TYPES.THRESHOLD,startCondition:{type:s.RULE_OPERATORS.equalTo,value:void 0},ruleStyle:{textColor:"color2",shape:void 0},operator:s.RangeOperators.none};return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1805,e}return _inherits(s,a),s.prototype.up=function(e){var a=this;if(!t.specHasWidgets(e))return Promise.resolve(e);var s=[];return Object.values(e.widgets).forEach((function(t){if(t&&t.visId){var r=t.visId,o=a._getObjects(e.layout,"id",t.id),i=o.length>0?o[0]:void 0;if("kpi"===r&&i){var n=i.content&&i.content.conditionalFormatting&&void 0!==i.content.conditionalFormatting.enabled?i.content.conditionalFormatting:void 0,l=a._getTargetConditionalFormat(t,n).then((function(e){e&&(n&&n.conditionalFormats?n.conditionalFormats.push(e):i.content={conditionalFormatting:{conditionalFormats:[e]}})}));s.push(l)}else"summary"===r&&i&&i.content.conditionalFormatting&&(i.content.conditionalFormatting=void 0)}})),Promise.all(s).then((function(){return e}))},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._getObjects=function(e,a,t){var s=[];for(var r in e)e.hasOwnProperty(r)&&("object"==_typeof(e[r])?s=s.concat(this._getObjects(e[r],a,t)):r==a&&e[r]==t&&s.push(e));return s},s.prototype._getSlotName=function(a,t){var s="",r=e.find(a,(function(e){return e.dataItems[0]===t}));return r&&(s=r.name),s},s.prototype._getTargetConditionalFormat=function(a,t){var s=this,p=Promise.resolve();if(t){var u={dataItemId:void 0,paletteId:void 0,backgroundOpacity:.5,scale:void 0,rules:[]},d=[];if(a.data&&a.data.dataViews&&a.data.dataViews.length>0&&a.data.dataViews.forEach((function(e){d.push.apply(d,e.dataItems)})),d.forEach((function(e){var t=s._getSlotName(a.slotmapping.slots,e.id);"actual"===t?u.dataItemId=e.itemId:"goal"===t&&(u.colorBy=e.itemId)})),u.paletteId=t.paletteId,u.scale=t.rangeScale,!t.enabled)return Promise.resolve(u);var c=!t.paletteReversed,h=t.ranges,g=h?h.length:0,m=null;p=(u.paletteId.startsWith("condColorPalette")?Promise.resolve(5):this.data.dashboardApi.getFeature("Palette").getPalette(u.paletteId).then((function(e){return e.content.fills.length}),(function(){return 5}))).then((function(a){var t=r.buildIndexMap(a,g);c&&t.reverse();for(var s=e.range(a).map((function(e){return"color"+e})),p=0;p<g;p++){var d=h[p];null===d.startValue?(m=e.deepClone(i)).startCondition.value=d.endValue:null===d.endValue?(m=e.deepClone(n)).startCondition.value=d.startValue:d.startValue===d.endValue?(m=e.deepClone(l)).startCondition.value=d.startValue:((m=e.deepClone(o)).startCondition.value=d.startValue,m.endCondition.value=d.endValue),d.shape&&(m.ruleStyle.shape=d.shape),d.userSetColorId?m.ruleStyle.textColor=d.userSetColorId:d.defaultColorId?m.ruleStyle.textColor=d.defaultColorId:m.ruleStyle.textColor=s[t[p]];/^color[0-9]+/.test(m.ruleStyle.textColor)&&-1===s.indexOf(m.ruleStyle.textColor)&&(m.ruleStyle.textColor=""),u.rules.push(m)}return u}))}return p},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/AggregateTypeVisibleUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils"],(function(e,a,t){return new(function(a){function s(){_classCallCheck(this,s);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1806,e}return _inherits(s,a),s.prototype.up=function(a){var s=this;return a&&t.specHasWidgets(a)?(e.each(a.widgets,(function(e){e&&t.isLiveWidgetModel(e)&&(e.properties||(e.properties=[]),s._upgradeAggregationType(e))})),Promise.resolve(a)):Promise.resolve(a)},s.prototype.down=function(e){return Promise.resolve(e)},s.prototype._upgradeAggregationType=function(e){e.properties.push({id:"widget.legend.aggregateTypeVisible",value:!0})},s}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/CrosstabTable_VCF_Upgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","./utils/WidgetUpgradeUtils","./utils/VCF_RuleConstants","./utils/VCFUpgradeUtils","dashboard-analytics/dataSources/services/DataSourcesService","../../../lib/@waca/dashboard-common/dist/core/UniqueHashIdBuilder","../../../app/nls/StringResources","../../../app/util/DeepClone"],(function(e,a,t,s,r,o,i,n){return new(function(a){function l(){_classCallCheck(this,l);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1807,e}return _inherits(l,a),l.prototype.up=function(a){var s=this;return Promise.resolve().then((function(){if(!t.specHasWidgets(a))return a;var r=s._DataSourcesServices||o;s.dataSourcesService=new r({features:{API:s.data.dashboardApi,Logger:s.data.logger}}),s.dataSourcesService.initializeSourcesCollection(a);var i=["crosstab","JQGrid"],l=["values","grid_cols"],p=[],u=[];return e.each(a.widgets,(function(e){if(e&&e.visId&&-1!==i.indexOf(e.visId)){var t=e.data&&e.data.dataViews&&e.data.dataViews.length?e.data.dataViews[0].dataItems:[],r=s._getSlot(e.slotmapping.slots,["heat"]),o=r&&r.dataItems[0],n=t.find((function(e){return e.id===o}));if(n){var d=s._getObjects(a.layout,"id",e.id),c=d.length>0?d[0]:void 0,h=[];c&&(c.content=c.content||{},c.content.conditionalFormatting={conditionalFormats:h});var g=!1,m=void 0,f=!1,v=[];m="JQGrid"===e.visId?s._getDataItemTypes(e):Promise.resolve(),p.push(m.then((function(a){var o=s._getSlot(e.slotmapping.slots,l);o&&o.dataItems.forEach((function(e){t.forEach((function(a){a.id==e&&(v.push(a),a.itemId===n.itemId&&(f=!0))}))}));var i=a&&v.findIndex((function(e){return"fact"===a[e.itemId]})),p=[];return v.forEach((function(o,l){g&&(n=s._cloneDataItemWithNewId(n),r.dataItems.push(n.id),t.push(n)),g=!0;var d=a&&a[o.itemId],c=Promise.resolve();if("crosstab"===e.visId||"fact"===d)c=s._createConditionFormat(e,h,o,n,f);else if(f)o.itemId===n.itemId&&u.push({widget:e.visId,dataItem:o});else{-1!==i&&i!==l+1||u.push({widget:e.id,dataItem:o})}p.push(c)})),Promise.all(p)})))}}})),Promise.all(p).then((function(){if(u.length){var e=n.get("unsupportedConditionalFormattingEncountered"),t=s.data.logger;t&&t.warn(e,u),s._showUnsupportedCFMessage(e)}return a}))}))},l.prototype._showUnsupportedCFMessage=function(e){this.data.dashboardApi.showToast(e,{type:"warning",preventDuplicates:!0})},l.prototype._createConditionFormat=function(e,a,t,r,o){var i={dataItemId:t.itemId,paletteId:"condColorPalette0",heatId:r.id,scale:s.RULE_SCALES.NUMERIC,rules:[],backgroundOpacity:100},n=e.conditions&&e.conditions.palette?e.conditions.palette.colors:[];return(o&&r.itemId!==t.itemId?Promise.resolve():this._updateTargetConditionalFormat(e,n,i)).then((function(){a.push(i),delete e.conditions}))},l.prototype._cloneDataItemWithNewId=function(a){var t=JSON.parse(JSON.stringify(a));return t.id=i.createUniqueHashId(t.id+e.uniqueId(),[]),t},l.prototype.down=function(e){return Promise.resolve(e)},l.prototype._getObjects=function(e,a,t){var s=[];for(var r in e)e.hasOwnProperty(r)&&("object"==_typeof(e[r])?s=s.concat(this._getObjects(e[r],a,t)):r==a&&e[r]==t&&s.push(e));return s},l.prototype._getSlot=function(a,t){return e.find(a,(function(e){return-1!==t.indexOf(e.name)}))},l.prototype._updateTargetConditionalFormat=function(a,t,o){if(e.isEmpty(t))return Promise.resolve();var i=this._getObjects(a.properties,"id","condColorPalette");i&&i.length&&(o.paletteId=i[0].value);var n=this._getObjects(a.properties,"id","condColorOrder"),l=!(!n||!n.length)&&"DarkerForLowerValue"===n[0].value,p=null,u={ruleType:s.RULE_TYPES.RANGE,startCondition:{type:s.RULE_OPERATORS.greaterThanOrEqualTo,value:void 0},ruleStyle:{fillColor:"",textColor:"",shape:""},operator:s.RangeOperators.and,endCondition:{type:s.RULE_OPERATORS.lessThan,value:void 0}};return(o.paletteId.startsWith("condColorPalette")?Promise.resolve(5):this.data.dashboardApi.getFeature("Palette").getPalette(o.paletteId).then((function(e){return e.content.fills.length}),(function(){return 5}))).then((function(a){var s=t.length-1,i=r.buildIndexMap(a,s);l&&i.reverse();for(var n=e.range(a).map((function(e){return"color"+e})),d=0;d<s;d++)(p=e.deepClone(u)).startCondition.value=t[d].value,p.endCondition.value=t[d+1].value,d<n.length?p.ruleStyle.fillColor=n[i[d]]:p.ruleStyle.fillColor=n[i[d%n.length]],o.rules.push(p)}))},l.prototype._getDataItemTypes=function(a){var t={},s=a.data&&a.data.dataViews,r=s&&s[0]?s[0].modelRef:null;return(r&&s?this._getModule(r):Promise.resolve(null)).then((function(a){return a&&e.each(s,(function(s){var r=s.dataItems;r&&e.each(r,(function(e){var s=a.getMetadataColumn(e.itemId);t[e.itemId]=s.getType()}))})),t}))},l.prototype._getModule=function(e){return this.dataSourcesService.getModule(e)},l}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/FredIsRedColorMapUpgrade",["underscore","../../../lib/@waca/upgrades/UpgradeBase","dashboard-analytics/dataSources/services/DataSourcesService","./utils/WidgetUpgradeUtils","../../../app/nls/StringResources"],(function(e,a,t,s,r){return new(function(a){function o(){_classCallCheck(this,o);var e=_possibleConstructorReturn(this,a.call(this));return e.VERSION=1808,e}return _inherits(o,a),o.prototype.up=function(a){var t=this;if(!a)return Promise.resolve(a);if(!s.specHasWidgets(a))return Promise.resolve(a);var r=[];return this._hasFredIsRedColorMap(a)&&(this._initializeSourcesCollection(a),e.each(a.widgets,(function(e){if(e&&s.isLiveWidgetModel(e)){var o=t._upgradeFredIsRedColorMap(e,a.fredIsRed.colorMap);r.push(o)}}))),Promise.all(r).then((function(){return a}))},o.prototype.down=function(e){return Promise.resolve(e)},o.prototype._initializeSourcesCollection=function(e){var a=this._DataSourcesServices||t;this.dataSourcesService=new a({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.dataSourcesService.initializeSourcesCollection(e)},o.prototype._upgradeAggregationType=function(e){e.properties.push({id:"widget.legend.aggregateTypeVisible",value:!0})},o.prototype._upgradeFredIsRedColorMap=function(a,t){var s=this,r=a.data&&a.data.dataViews,o=r&&r[0]?r[0].modelRef:null;return r&&o?this._getModule(o).then((function(a){e.each(r,(function(e){s._addUnformattedValues(a,e,t)}))})):Promise.resolve()},o.prototype._addUnformattedValues=function(a,t,s){var r=this,o=t.dataItems;o&&this._isMultiMeasuresSeries(o)&&e.each(o,(function(e){r._addUnformattedValue(a,e,s)}))},o.prototype._addUnformattedValue=function(e,a,t){var s=e.getMetadataColumn(a.itemId);if(s){var o=a.aggregate||s.getDefaultAggregation(),i=a.itemLabel+" ("+r.get(o)+")",n=a.itemLabel+o;t[i]&&(t[n]=t[i])}},o.prototype._isMultiMeasuresSeries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return"_multiMeasuresSeries"===e.itemId})).length>0},o.prototype._hasFredIsRedColorMap=function(a){return a.fredIsRed&&!e.isEmpty(a.fredIsRed.colorMap)},o.prototype._getModule=function(e){return this.dataSourcesService.getModule(e)},o}(a))})),define("dashboard-core/js/dashboard/loader/upgrader/all",["./6","./7","./8","./9","./wa_infographic","./ca_updateSheet1InUploadedFile","./waca_removeWidgetContentBoardSpec","./waca","./waca_shaping","./VIDA_breakingchanges","./multiLayersSupport","./R9toR10","./dateTimeLocalFilter","./HeliosToEndorUpgrade","./LayoutPageSizeUpgrade","./LayoutPositioningUpgrade","./VIDAPropUpgrade","./DataItemIdUpgrade","./DataItemUpgrade","./CompositeChartUpgrade","./FredIsRedUpgrade","./DataItemAggregationTypeUpgrade","./VIDA_ClippingUpgrade","./VIDA_OptimizeSizeUpgrade","./VIDA_LabelsColorPropUpgrade","./TextWidgetResponsiveUpgradeHelper","./LayoutTemplateIndicatorUpgrade","./RecommendedDriversUpgrade","./DataItemAggregationTypeUpgradeForScatterAndBubble","./TextWidgetParagraphUpgrade","./RankSlotUpgrade","./VIDAPaddingPropUpgrade","./DuplicateLayoutCssPropUpgrade","./VIDALegendFontSizeMappingUpgrade","./SummaryKPIUpgrade","./WidgetTitleAriaLabelUpgrade","./MissingOriginalCustomGroupItemId","./DrillthroughDefinitionScopeUpgrade","./TabIconUpgrade","./CssAndFillColorConflictUpgrade","./NewGenSpec","./ColBarZeroOriginValueUpgrade","./DatasetScopeMultiMeasure","./CompositeChartV2Upgrade","./CarbonPlexUpgrade","./KPI_VCF_Upgrade","./AggregateTypeVisibleUpgrade","./CrosstabTable_VCF_Upgrade","./FredIsRedColorMapUpgrade"],(function(){return{upgraders:arguments}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/utils/specSearchUtils",["require","exports","module"],(function(e,a,t){const s=(e,a,t)=>{let r=[];for(const o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?r=r.concat(s(e[o],a,t)):o===a&&e[o]===t&&r.push(e));return r},r=(e,a)=>{if(a)return a.find((function(a){return a.id===e}))};t.exports={findProperty:r,getObjects:s,isEmpty:e=>null==e||"object"==typeof e&&0===Object.keys(e).length||"array"==typeof e&&0===e.length||"string"==typeof e&&0===e.trim().length,replacePropertyByNewAndRemove:(e,a)=>{Object.keys(e).forEach(t=>{const s=a.findIndex(e=>e.id===t);if(s>-1){const o=r(t,a);e[t].forEach(e=>{a.push({id:e,value:o.value})}),a.splice(s,1)}})},specMissing:(e,a)=>!e&&(console.info(`No Spec was passed to the up function for version ${a} upgrade.`),!0)}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2000/MoveWidgetsToModel",["require","exports","module","../utils/specSearchUtils"],(function(e,a,t){const{isEmpty:s}=e("../utils/specSearchUtils"),r=(e,a,t,s)=>{if("widget"===a.type&&a.id===t)return((e,a,t,s)=>{a.features||(a.features={}),a.features.Models_internal=s,delete e.widgets[t]})(e,a,t,s),!0;if(a.items&&a.items.length>0)for(let o=0;o<a.items.length;o++){const i=a.items[o];if(r(e,i,t,s))break}return!1};t.exports={up:e=>{if(s(e.widgets))return Promise.resolve(e);const a=e.layout;for(const[t,s]of Object.entries(e.widgets))r(e,a,t,s);const t=Object.values(e.widgets);if(t&&t.length)for(const e of t)console.warn(`Widget with ID ${e.id} can not be upgraded for version 2000 upgrade.`);return delete e.widgets,Promise.resolve(e)},VERSION:2e3}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/utils/WidgetUpgradeUtils",["require","exports","module","../utils/specSearchUtils"],(function(e,a,t){const{isEmpty:s,findProperty:r}=e("../utils/specSearchUtils"),o=(e,a)=>{if(e&&"widget"===e.type&&e.features&&e.features.Models_internal&&a.push(e.features.Models_internal),e&&e.items&&e.items.length>0)for(let t=0;t<e.items.length;t++){const s=e.items[t];o(s,a)}return a.length?a:null};t.exports={checkBrowserLoader:e=>void 0!==e.requirejs?e.requirejs:void 0!==e.amdRequire?e.amdRequire:null,findWidgetInLayouts:o,findWidgetsInSpec:e=>s(e)?null:Object.values(e),isLiveWidgetModel:e=>e&&e.type&&"live"===e.type,setDefaultProperty:(e,a,t)=>{r(a,e.properties)||(e.properties||(e.properties=[]),e.properties.push({id:a,value:t}))},specHasWidgets:(e,a)=>!s(e.widgets)||(console.info(`No widgets are available in the spec for version ${a} upgrade.`,e),!1),isTextWidgetModel:e=>e&&e.type&&"text"===e.type}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2001/ContrastLabelUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i}=e("../utils/specSearchUtils"),n=e=>{var a;a=e.properties,i("contrast.label.color",a)||e.properties.push({id:"contrast.label.color",value:!1})};t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),n(e))}),Promise.resolve(e)),VERSION:2001}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2002/AddEventGroupIdToDrillthroughDefinitions",["require","exports","module","../utils/specSearchUtils"],(function(e,a,t){const{isEmpty:s}=e("../utils/specSearchUtils");t.exports={up:e=>s(e.drillThrough)?(console.info("No drillThrough available in the spec for version 2002 upgrade.",e),Promise.resolve(e)):(e.drillThrough.forEach(a=>{const t=((e,a)=>{const t=a.filter(a=>a.widgetIds.includes(e))[0];return t&&t.id?t.id:null})(a.ownerId,e.eventGroups);a.eventGroupId=t}),Promise.resolve(e)),VERSION:2002}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2003/VIDARelativePaddingPropUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i}=e("../utils/specSearchUtils");t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),(e=>{const a=i("bar.padding",e.properties);a&&(a.id="bar.relativePadding",a.value=!0===a.value?.1:0)})(e))}),Promise.resolve(e)),VERSION:2003}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2004/MoveOriginalCustomGroupItemId",["require","exports","module","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>((s(e.layout,[])||r(e.widgets)||[]).forEach(a=>{((e,a)=>{e.data&&e.data.dataViews&&e.data.dataViews.forEach(e=>{((e,a)=>{e&&e.shaping&&a&&a.forEach(a=>{a.originalCustomGroupItemId&&(e.shaping.references||(e.shaping.references={}),e.shaping.references[a.itemId]=a.originalCustomGroupItemId,delete a.originalCustomGroupItemId)})})(a.dataSources.sources.find(a=>Object.keys({id:e.modelRef}).every(t=>a[t]==={id:e.modelRef}[t])),e.dataItems)})})(a,e)}),Promise.resolve(e)),VERSION:2004}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2005/VIDADefaultNullValuesUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),(e=>{const a=["widget.legend.font","widget.legend.color","widget.legend.titleColor","valueLabels.color","valueLabels.font","valueAxis.title.font","valueAxis.title.color","valueAxis.ticks.labels.color","valueAxis.ticks.labels.font","itemAxis.ticks.labels.color","itemAxis.ticks.labels.font"];e.properties=e.properties.filter(e=>-1===a.indexOf(e.id)||null!==e.value)})(e))}),Promise.resolve(e)),VERSION:2005}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2006/AddShowFooterToProperties",["require","exports","module"],(function(e,a,t){t.exports={up:e=>(e.properties||(e.properties={}),e.properties.showFooter=!1,Promise.resolve(e)),VERSION:2006}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2101/VCFChangeLocationUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils","lodash"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils"),{getObjects:o}=e("../utils/specSearchUtils"),i=e("lodash");t.exports={up:e=>{const a=["crosstab","JQGrid","kpi"];return(s(e.layout,[])||r(e.widgets)||[]).forEach(t=>{if(t.visId&&a.includes(t.visId)){const a=o(e.layout,"id",t.id),s=a.length>0?a[0]:void 0;(e=>{e&&e.content&&e.content.conditionalFormatting&&(e.features||(e.features={}),e.features.ConditionalFormatting||(e.features.ConditionalFormatting={}),i.extend(e.features.ConditionalFormatting,e.content.conditionalFormatting),delete e.content.conditionalFormatting)})(s),(e=>{if(e&&e.content){let a;const t=Object.keys(e.content);for(const s of t)a=e.content[s],0===Object.keys(a).length&&delete e.content[s];0===Object.keys(e.content).length&&delete e.content}})(s)}}),Promise.resolve(e)},VERSION:2101}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2102/ResponsiveTitleUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>((s(e.layout,[])||r(e.widgets)||[]).forEach(e=>{e.titleHtml&&!e.responsiveTitle&&(e.responsiveTitle=!1)}),Promise.resolve(e)),VERSION:2102}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2103/VIDAPieRendererUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils"),{findProperty:o}=e("../utils/specSearchUtils");t.exports={up:e=>((s(e.layout,[])||r(e.widgets)||[]).forEach(e=>{"com.ibm.vis.rave2bundlepie"===e.visId&&((e=>{const a=o("donutRadius",e);a&&(a.id="donut.hole.radius",a.value=Math.round(100*(1-a.value))/100)})(e.properties),(e=>{const a=o("labelLocation",e);if(a)switch(a.value){case"center":case"centerHorizontal":a.value="inside"}})(e.properties))}),Promise.resolve(e)),VERSION:2103}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2104/ResponsiveWithRepeaterUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils","lodash"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils"),{findProperty:o}=e("../utils/specSearchUtils"),i=e("lodash");t.exports={up:e=>((s(e.layout,[])||r(e.widgets)||[]).forEach(e=>{const a=e&&e.slotmapping;(e=>{const a=i.filter(e,e=>"repeatHorizontal"===e.name||"repeatVertical"===e.name);return a&&a.length>0})(a&&a.slots||[])&&(e=>{const a=o("optimizeSize",e.properties);a&&(a.value=!0)})(e)}),Promise.resolve(e)),VERSION:2104}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2150/AutoGroupUpgrade",["require","exports","module","../utils/specSearchUtils","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{specMissing:s,isEmpty:r}=e("../utils/specSearchUtils"),{checkBrowserLoader:o,findWidgetInLayouts:i,findWidgetsInSpec:n,specHasWidgets:l}=e("../utils/WidgetUpgradeUtils");function p(e){for(const a of e.data.dataViews||[])for(const e of a.dataItems)if(e.binningDefinition&&e.binningDefinition.binning)return!0;return!1}const u=new class{constructor(){this.VERSION=2150}up(e){return new Promise((a,t)=>{try{if(s(e,2150)||!l(e,2150)&&r(e.layout))return void a(e);const u=(i(e.layout,[])||n(e.widgets,[])||[]).filter(e=>"live"===e.type);if(!(e=>{let a=!1;for(const t of e)if(t.data&&t.data.dataViews&&(a=p(t),a))break;return a})(u))return void a(e);const d=o(window);!d?t(new Error("[2150 cannot run on the server side; see CADBS-71 for details]")):d(["dashboard-analytics/dataSources/services/DataSourcesService","dashboard-core/js/lib/@waca/dashboard-common/dist/utils/AutoGroupConverter"],(s,r)=>{this.AutoGroupConverter=r,this.dataSourcesService=new s({features:{API:this.data.dashboardApi,Logger:this.data.logger}}),this.dataSourcesService.initializeSourcesCollection(e),this._checkModules(u).then(e=>this._upgradeAutoGroup(u).then(()=>{e.forEach(e=>e.updateEmbeddedModule())})).then(()=>a(e),t)},t)}catch(e){t(e)}})}_checkModules(e){const a=[],t={};for(const s of Object.entries(e)){const e=s[1],r=e.data&&e.data.dataViews,o=r&&r[0]&&r[0].modelRef;if(o&&r&&!t[o]){const e=this.dataSourcesService.getModule(o);a.push(e),t[o]=o}}return Promise.all(a)}_upgradeAutoGroup(e){return new this.AutoGroupConverter({dataSourcesService:this.dataSourcesService}).convert(e)}};t.exports=u})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2160/LocalizedShapeWidgetSubTypes",["require","exports","module"],(function(e,a,t){t.exports={"Čára":"shapesLine",Linje:"shapesLine",Linie:"shapesLine","Línea":"shapesLine",Viivakaavio:"shapesLine",Courbe:"shapesLine","קו":"shapesLine",Linija:"shapesLine",Vonal:"shapesLine",Riga:"shapesLine","線":"shapesLine","Жол":"shapesLine","꺾은선형":"shapesLine",Lijn:"shapesLine",Linia:"shapesLine",Linha:"shapesLine",Line:"shapesLine","Линия":"shapesLine","Črtni":"shapesLine","เส้น":"shapesLine","Çizgi":"shapesLine","直线":"shapesLine","折線圖":"shapesLine","Trojúhelník":"shapesTriangle",Trekant:"shapesTriangle",Dreieck:"shapesTriangle","Triángulo":"shapesTriangle",Kolmio:"shapesTriangle",Triangle:"shapesTriangle","משולש":"shapesTriangle",Trokut:"shapesTriangle","Háromszög":"shapesTriangle",Triangolo:"shapesTriangle","三角形":"shapesTriangle","Үшбұрыш":"shapesTriangle","삼각형":"shapesTriangle",Triangel:"shapesTriangle",Driehoek:"shapesTriangle","Trójkąt":"shapesTriangle","Triângulo":"shapesTriangle",Triunghi:"shapesTriangle","Треугольник":"shapesTriangle",Trikotnik:"shapesTriangle","สามเหลี่ยม":"shapesTriangle","Üçgen":"shapesTriangle","Hranaté":"shapesSquare",Kvadrat:"shapesSquare",Quadrat:"shapesSquare",Cuadrado:"shapesSquare","Neliö":"shapesSquare","Carré":"shapesSquare","ריבוע":"shapesSquare","Négyzet":"shapesSquare",Quadrato:"shapesSquare","四角形":"shapesSquare","Шаршы":"shapesSquare","정사각형":"shapesSquare",Vierkant:"shapesSquare",Kwadrat:"shapesSquare",Quadrado:"shapesSquare","Pătrat":"shapesSquare",Square:"shapesSquare","Квадрат":"shapesSquare","สี่เหลี่ยมจตุรัส":"shapesSquare",Kare:"shapesSquare","正方形":"shapesSquare","方形":"shapesSquare","Pětiúhelník":"shapesPentagon",Femkant:"shapesPentagon","Fünfeck":"shapesPentagon","Pentágono":"shapesPentagon",Viisikulmio:"shapesPentagon",Pentagone:"shapesPentagon","מחומש":"shapesPentagon",Peterokut:"shapesPentagon","Ötszög":"shapesPentagon",Pentagono:"shapesPentagon","五角形":"shapesPentagon","Бесбұрыш":"shapesPentagon","오각형":"shapesPentagon",Vijfhoek:"shapesPentagon","Pięciokąt":"shapesPentagon",Pentagon:"shapesPentagon","Пятиугольник":"shapesPentagon",Petkotnik:"shapesPentagon","รูปห้าเหลี่ยม":"shapesPentagon","Beşgen":"shapesPentagon","Šestiúhelník":"shapesHexagon",Sekskant:"shapesHexagon",Sechseck:"shapesHexagon","Hexágono":"shapesHexagon",Kuusikulmio:"shapesHexagon",Hexagone:"shapesHexagon","משושה":"shapesHexagon","Šesterokut":"shapesHexagon","Hatszög":"shapesHexagon",Esagono:"shapesHexagon","六角形":"shapesHexagon","Алтыбұрыш":"shapesHexagon","육각형":"shapesHexagon",Zeshoek:"shapesHexagon","Sześciokąt":"shapesHexagon",Hexagon:"shapesHexagon","Шестиугольник":"shapesHexagon","Šestkotnik":"shapesHexagon","รูปหกเหลี่ยม":"shapesHexagon","Altıgen":"shapesHexagon","Osmiúhelník":"shapesOctagon",Ottekant:"shapesOctagon",Achteck:"shapesOctagon","Octágono":"shapesOctagon",Kahdeksankulmio:"shapesOctagon",Octogone:"shapesOctagon","מתומן":"shapesOctagon",Oktagon:"shapesOctagon","Nyolcszög":"shapesOctagon",Ottagono:"shapesOctagon","八角形":"shapesOctagon","Сегізбұрыш":"shapesOctagon","팔각형":"shapesOctagon","Åttekant":"shapesOctagon",Achthoek:"shapesOctagon","Ośmiokąt":"shapesOctagon","Octógono":"shapesOctagon",Octogon:"shapesOctagon",Octagon:"shapesOctagon","Восьмиугольник":"shapesOctagon",Osmerokotnik:"shapesOctagon","รูปแปดเหลี่ยม":"shapesOctagon",Sekizgen:"shapesOctagon",Kruh:"shapesCircle",Cirkel:"shapesCircle",Kreis:"shapesCircle","Círculo":"shapesCircle","Ympyrä":"shapesCircle",Cercle:"shapesCircle","מעגל":"shapesCircle",Krug:"shapesCircle","Kör":"shapesCircle",Cerchio:"shapesCircle","円":"shapesCircle","Шеңбер":"shapesCircle","원":"shapesCircle",Sirkel:"shapesCircle","Okrąg":"shapesCircle",Cerc:"shapesCircle",Circle:"shapesCircle","Круг":"shapesCircle",Krog:"shapesCircle","วงกลม":"shapesCircle",Daire:"shapesCircle","圆圈":"shapesCircle","圓形":"shapesCircle","Kosočtverec":"shapesDiamond",Rombe:"shapesDiamond",Raute:"shapesDiamond",Rombo:"shapesDiamond","Vinoneliö":"shapesDiamond",Losange:"shapesDiamond","מעוין":"shapesDiamond",Romb:"shapesDiamond",Rombusz:"shapesDiamond","ひし形":"shapesDiamond","Гауһар тас":"shapesDiamond","다이아몬드":"shapesDiamond",Ruit:"shapesDiamond",Losango:"shapesDiamond",Diamond:"shapesDiamond","Ромб":"shapesDiamond",Diamant:"shapesDiamond","ไดมอนด์":"shapesDiamond",Baklava:"shapesDiamond","菱形":"shapesDiamond","Zaoblený čtverec":"shapesSquareRounded","Afrundet kvadrat":"shapesSquareRounded","Abgerundetes Quadrat":"shapesSquareRounded","Cuadrado redondeado":"shapesSquareRounded","Pyöristetty neliö":"shapesSquareRounded","Carré arrondi":"shapesSquareRounded","ריבוע מעוגל":"shapesSquareRounded","Zaobljeni kvadrat":"shapesSquareRounded","Lekerekített négyzet":"shapesSquareRounded","Quadrato arrotondato":"shapesSquareRounded","角丸正方形":"shapesSquareRounded","Шеңбердегі шаршы":"shapesSquareRounded","모서리가 둥근 사각형":"shapesSquareRounded","Avrundet kvadrat":"shapesSquareRounded","Afgerond vierkant":"shapesSquareRounded","Zaokrąglony kwadrat":"shapesSquareRounded","Quadrado arredondado":"shapesSquareRounded","Pătrat rotunjit":"shapesSquareRounded","Rounded square":"shapesSquareRounded","Квадрат с закругленными углами":"shapesSquareRounded","Zaobljeni kvadrate":"shapesSquareRounded","Rundad kvadrat":"shapesSquareRounded","สี่เหลี่ยมจตุรัสมุมมน":"shapesSquareRounded","Yuvarlatılmış kare":"shapesSquareRounded","圆角正方形":"shapesSquareRounded","圓角方形":"shapesSquareRounded","Hvězda":"shapesStar",Stjerne:"shapesStar",Stern:"shapesStar",Estrella:"shapesStar","Tähti":"shapesStar",Etoile:"shapesStar","כוכב":"shapesStar",Zvjezdica:"shapesStar",Csillag:"shapesStar",Stella:"shapesStar","星形":"shapesStar","Жұлдыз":"shapesStar","별 모양":"shapesStar",Ster:"shapesStar",Gwiazda:"shapesStar",Estrela:"shapesStar",Stea:"shapesStar",Star:"shapesStar","Звезда":"shapesStar",Zvezdica:"shapesStar","Stjärna":"shapesStar","ดาว":"shapesStar","Yıldız":"shapesStar",Srdce:"shapesHeart",Hjerte:"shapesHeart",Herz:"shapesHeart","Corazón":"shapesHeart","Sydän":"shapesHeart",Coeur:"shapesHeart","לב":"shapesHeart",Srce:"shapesHeart","Szív":"shapesHeart",Cuore:"shapesHeart","ハート":"shapesHeart","Жүрек":"shapesHeart","하트":"shapesHeart",Hart:"shapesHeart",Serce:"shapesHeart","Coração":"shapesHeart","Inimă":"shapesHeart",Heart:"shapesHeart","Сердце":"shapesHeart","Hjärta":"shapesHeart","รูปหัวใจ":"shapesHeart",Kalp:"shapesHeart","心形":"shapesHeart",Odznak:"shapesBadge",Badge:"shapesBadge",Kokarde:"shapesBadge_ribbon",Identificador:"shapesBadge",Merkki:"shapesBadge","סמל":"shapesBadge","Značka":"shapesBadge","Jelvény":"shapesBadge","バッジ":"shapesBadge","Таңба":"shapesBadge","뱃지":"shapesBadge",Merkelapp:"shapesBadge","Wstążka":"shapesBadge",Distintivo:"shapesBadge",Ecuson:"shapesBadge","Бейдж":"shapesBadge",Bricka:"shapesBadge","ป้าย":"shapesBadge",Rozet:"shapesBadge","角标":"shapesBadge","識別證":"shapesBadge","Šipka vlevo":"shapesLeftArrow","Venstre pil":"shapesLeftArrow",Linkspfeil:"shapesLeftArrow","Flecha izquierda":"shapesLeftArrow","Vasen nuoli":"shapesLeftArrow","Flèche vers la gauche":"shapesLeftArrow","חץ שמאלה":"shapesLeftArrow","Strelica lijevo":"shapesLeftArrow","Balra nyíl":"shapesLeftArrow","Freccia a sinistra":"shapesLeftArrow","左矢印":"shapesLeftArrow","Сол жақ көрсеткі":"shapesLeftArrow","왼쪽 화살표":"shapesLeftArrow","Pil venstre":"shapesLeftArrow","Pijl naar links":"shapesLeftArrow","Strzałka w lewo":"shapesLeftArrow","Left arrow":"shapesLeftArrow","Săgeată la stânga":"shapesLeftArrow","Стрелка влево":"shapesLeftArrow","Puščica v levo":"shapesLeftArrow","Vänsterpil":"shapesLeftArrow","ลูกศรทางซ้าย":"shapesLeftArrow","Sol ok":"shapesLeftArrow","向左箭头":"shapesLeftArrow","向左箭頭":"shapesLeftArrow","Šipka vpravo":"shapesRightArrow","Højre pil":"shapesRightArrow",Rechtspfeil:"shapesRightArrow","Flecha derecha":"shapesRightArrow","Oikea nuoli":"shapesRightArrow","Flèche vers la droite":"shapesRightArrow","חץ ימינה":"shapesRightArrow","Strelica desno":"shapesRightArrow","Jobbra nyíl":"shapesRightArrow","Freccia a destra":"shapesRightArrow","右矢印":"shapesRightArrow","Оң жақ көрсеткі":"shapesRightArrow","오른쪽 화살표":"shapesRightArrow","Pil høyre":"shapesRightArrow","Pijl naar rechts":"shapesRightArrow","Strzałka w prawo":"shapesRightArrow","Seta para direita":"shapesRightArrow","Săgeată la dreapta":"shapesRightArrow","Right arrow":"shapesRightArrow","Стрелка вправо":"shapesRightArrow","Puščica v desno":"shapesRightArrow","Högerpil":"shapesRightArrow","ลูกศรทางขวา":"shapesRightArrow","Sağ ok":"shapesRightArrow","向右箭头":"shapesRightArrow","向右箭頭":"shapesRightArrow","Obousměrná šipka":"shapesDoubleArrow",Dobbeltpil:"shapesDoubleArrow",Doppelpfeil:"shapesDoubleArrow","Flecha doble":"shapesDoubleArrow","Kaksipäinen nuoli":"shapesDoubleArrow","Double flèche":"shapesDoubleArrow","חץ כפול":"shapesDoubleArrow","Dvostruka strelica":"shapesDoubleArrow","Dupla nyíl":"shapesDoubleArrow","Doppia freccia":"shapesDoubleChevron","二重矢印":"shapesDoubleArrow","Қосарлы көрсеткі":"shapesDoubleArrow","이중 화살표":"shapesDoubleArrow","Dubbele pijl":"shapesDoubleArrow","Podwójna strzałka":"shapesDoubleArrow","Seta dupla":"shapesDoubleArrow","Săgeata dublă":"shapesDoubleArrow","Double arrow":"shapesDoubleArrow","Двойная стрелка":"shapesDoubleArrow","Dvojna puščica":"shapesDoubleArrow",Dubbelpil:"shapesDoubleArrow","ลูกศรคู่":"shapesDoubleArrow","Çift ok":"shapesDoubleArrow","双箭头":"shapesDoubleArrow","雙向箭頭":"shapesDoubleArrow","Zahnutá šipka":"shapesCurvedArrow","Buet pil":"shapesCurvedArrow","Gebogener Pfeil":"shapesCurvedArrow","Flecha curva":"shapesCurvedArrow","Kaareva nuoli":"shapesCurvedArrow","Flèche courbe":"shapesCurvedArrow","חץ מעוקל":"shapesCurvedArrow","Zakrivljena strelica":"shapesCurvedArrow","Görbe nyíl":"shapesCurvedArrow","Freccia curva":"shapesCurvedArrow","曲線矢印":"shapesCurvedArrow","Қисық көрсеткі":"shapesCurvedArrow","구부러진 화살표":"shapesCurvedArrow","Kromme pijl":"shapesCurvedArrow","Zakrzywiona strzałka":"shapesCurvedArrow","Seta curvada":"shapesCurvedArrow","Săgeată curbată":"shapesCurvedArrow","Curved arrow":"shapesCurvedArrow","Искривленная стрелка":"shapesCurvedArrow","Puščica s krivuljo":"shapesCurvedArrow","Böjd pil":"shapesCurvedArrow","ลูกศรโค้ง":"shapesCurvedArrow","Kavisli ok":"shapesCurvedArrow","弯箭头":"shapesCurvedArrow","彎曲箭頭":"shapesCurvedArrow","Mřížkování":"shapesChevron",Vinkel:"shapesChevron",Winkel:"shapesChevron","Comillas angulares":"shapesChevron",Nuolikuviointi:"shapesChevron",Chevron:"shapesChevron","שברון":"shapesChevron","Ševron":"shapesChevron","Ék":"shapesChevron","Parentesi angolare":"shapesChevron","山形":"shapesChevron","Бұрыштық тырнақша":"shapesChevron","V형 무늬":"shapesChevron",Szewron:"shapesChevron",Divisa:"shapesChevron","În zigzag":"shapesChevron","Двойная угловая скобка":"shapesChevron","Škarnice":"shapesChevron","เชฟรอน":"shapesChevron","Köşeli çift ayraç":"shapesDoubleChevron","V 形":"shapesChevron","人字紋":"shapesChevron","Dvojité mřížkování":"shapesDoubleChevron","Dobbelt vinkel":"shapesDoubleChevron","Doppelter Winkel":"shapesDoubleChevron","Doble uve invertida":"shapesDoubleChevron",Kaksoisnuoli:"shapesDoubleChevron","Double chevron":"shapesDoubleChevron","שברון כפלו":"shapesDoubleChevron","Dvostruki ševron":"shapesDoubleChevron","Dupla fűrészfog":"shapesDoubleChevron","ダブル・シェブロン":"shapesDoubleChevron","Қос бұрышты тырнақша":"shapesDoubleChevron","이중 V형 무늬":"shapesDoubleChevron","Dubbele chevron":"shapesDoubleChevron","Podwójny szewron":"shapesDoubleChevron","Chevron duplo":"shapesDoubleChevron","Chevron dublu":"shapesDoubleChevron","Двойной угол":"shapesDoubleChevron","Dvojne škarnice":"shapesDoubleChevron","Dubbelt fiskben":"shapesDoubleChevron","chevron คู่":"shapesDoubleChevron","双脱字符号":"shapesDoubleChevron","雙人字紋":"shapesDoubleChevron","Stoupající trend":"shapesTrendingup","På vej op":"shapesTrendingup","Aufwärtstrend":"shapesTrendingup","Tendencia al alza":"shapesTrendingup","Nouseva suuntaus":"shapesTrendingup","Tendance à la hausse":"shapesTrendingup","מגמה עולה":"shapesTrendingup",Porast:"shapesTrendingup","Népszerű előre":"shapesTrendingup","Andamento positivo":"shapesTrendingup","上昇傾向":"shapesTrendingup","Тренд өрлеуі":"shapesTrendingup","상향 추세":"shapesTrendingup","Trend opp":"shapesTrendingup","Trend omhoog":"shapesTrendingup","Trend w górę":"shapesTrendingup","Tendência crescente":"shapesTrendingup","Tendinţă în sus":"shapesTrendingup","Trending up":"shapesTrendingup","Тенденция к повышению":"shapesTrendingup","Naraščajoči trend":"shapesTrendingup","Uppåtgående trend":"shapesTrendingup","แนวโน้มขึ้น":"shapesTrendingup","Yukarı ilerleme":"shapesTrendingup","上升趋势":"shapesTrendingup","往上":"shapesTrendingup","Klesající trend":"shapesTrendingdown","På vej ned":"shapesTrendingdown","Abwärtstrend":"shapesTrendingdown","Tendencia a la baja":"shapesTrendingdown","Laskeva suuntaus":"shapesTrendingdown","Tendance à la baisse":"shapesTrendingdown","מגמה יורדת":"shapesTrendingdown",Pad:"shapesTrendingdown","Népszerű hátra":"shapesTrendingdown","Andamento negativo":"shapesTrendingdown","下降傾向":"shapesTrendingdown","Тренд төмендеуі":"shapesTrendingdown","하향 추세":"shapesTrendingdown","Trend ned":"shapesTrendingdown","Trend omlaag":"shapesTrendingdown","Trend w dół":"shapesTrendingdown","Tendência decrescente":"shapesTrendingdown","Tendinţă în jos":"shapesTrendingdown","Trending down":"shapesTrendingdown","Тенденция к снижению":"shapesTrendingdown","Padajoči trend":"shapesTrendingdown","Nedåtgående trend":"shapesTrendingdown","แนวโน้มลง":"shapesTrendingdown","Aşağı iniş":"shapesTrendingdown","下降趋势":"shapesTrendingdown","往下":"shapesTrendingdown","Déšť":"shapesRain",Regn:"shapesRain",Regen:"shapesRain",Lluvia:"shapesRain",Sade:"shapesRain",Pluie:"shapesRain","גשם":"shapesRain","Kiša":"shapesRain","Eső":"shapesRain",Piovoso:"shapesRain","雨":"shapesRain","Жаңбыр":"shapesRain","비":"shapesRain",Deszcz:"shapesRain",Chuva:"shapesRain",Ploaie:"shapesRain",Rain:"shapesRain","Дождь":"shapesRain","Dež":"shapesRain","ฝน":"shapesRain","Yağmur":"shapesRain","雨点":"shapesRain","有雨":"shapesRain","Poloviční mrak":"shapesHalfcloud","Halv sky":"shapesHalfcloud","Halbe Wolke":"shapesHalfcloud","Media nube":"shapesHalfcloud",Puolipilvinen:"shapesHalfcloud","Demi-nuage":"shapesHalfcloud","חצי ענן":"shapesHalfcloud","Pola oblaka":"shapesHalfcloud","Fél felhő":"shapesHalfcloud","Mezza nuvola":"shapesHalfcloud","薄曇り":"shapesHalfcloud","Жарты бұлт":"shapesHalfcloud","흐림":"shapesHalfcloud","Halve wolk":"shapesHalfcloud","Pół chmury":"shapesHalfcloud","Meia nuvem":"shapesHalfcloud","Jumătate de Cloud":"shapesHalfcloud","Half cloud":"shapesHalfcloud","Половина облака":"shapesHalfcloud","Pol oblaka":"shapesHalfcloud","Halvt moln":"shapesHalfcloud","เมฆครึ่งเดียว":"shapesHalfcloud","Yarım bulut":"shapesHalfcloud","半云形":"shapesHalfcloud","半雲":"shapesHalfcloud",Mrak:"shapesCloud",Sky:"shapesCloud",Wolke:"shapesCloud",Nube:"shapesCloud",Pilvinen:"shapesCloud",Nuage:"shapesCloud","ענן":"shapesCloud",Oblak:"shapesCloud","Felhő":"shapesCloud",Nuvola:"shapesCloud","曇り":"shapesCloud","Бұлт":"shapesCloud","구름":"shapesCloud",Wolk:"shapesCloud",Chmury:"shapesCloud",Nuvem:"shapesCloud",Cloud:"shapesCloud","Облако":"shapesCloud",Moln:"shapesCloud","เมฆ":"shapesCloud",Bulut:"shapesCloud","云":"shapesCloud","雲":"shapesCloud",Slunce:"shapesSunny",Solskin:"shapesSunny",Sonne:"shapesSunny",Soleado:"shapesSunny",Aurinkoinen:"shapesSunny",Soleil:"shapesSunny","שמשי":"shapesSunny","Sunčano":"shapesSunny","Napsütés":"shapesSunny",Soleggiato:"shapesSunny","晴れ":"shapesSunny","Күнді":"shapesSunny","맑음":"shapesSunny",Solskinn:"shapesSunny",Zonnig:"shapesSunny","Słońce":"shapesSunny",Ensolarado:"shapesSunny","Însorit":"shapesSunny",Sunny:"shapesSunny","Солнечно":"shapesSunny","Sončno":"shapesSunny",Soligt:"shapesSunny","พระอาทิตย์":"shapesSunny","Güneşli":"shapesSunny","阳光":"shapesSunny","晴":"shapesSunny","Měsíc":"shapesMoon","Måne":"shapesMoon",Mond:"shapesMoon",Luna:"shapesMoon",Kuu:"shapesMoon",Lune:"shapesMoon","ירח":"shapesMoon",Mjesec:"shapesMoon",Hold:"shapesMoon","月":"shapesMoon","Ай":"shapesMoon","달":"shapesMoon",Maan:"shapesMoon","Księżyc":"shapesMoon",Lua:"shapesMoon","Lună":"shapesMoon",Moon:"shapesMoon","Луна":"shapesMoon","พระจันทร์":"shapesMoon",Ay:"shapesMoon","新月形":"shapesMoon","月亮":"shapesMoon","Nákladní vůz":"shapesTruck",Lastbil:"shapesTruck",LKW:"shapesTruck","Camión":"shapesTruck","Kuorma-auto":"shapesTruck",Camion:"shapesTruck","משאית":"shapesTruck",Kamion:"shapesTruck","トラック":"shapesTruck","Жүк көлігі":"shapesTruck","트럭":"shapesTruck",Lastebil:"shapesTruck",Vrachtauto:"shapesTruck","Ciężarówka":"shapesTruck","Caminhão":"shapesTruck",Truck:"shapesTruck","Грузовой автомобиль":"shapesTruck",Tovornjak:"shapesTruck","รถบรรทุก":"shapesTruck",Kamyon:"shapesTruck","卡车":"shapesTruck","卡車":"shapesTruck",Vlak:"shapesTrain",Tog:"shapesTrain",Eisenbahn:"shapesTrain",Tren:"shapesTrain",Juna:"shapesTrain",Train:"shapesTrain","רכבת":"shapesTrain",Vonat:"shapesTrain",Treno:"shapesTrain","列車":"shapesTrain","Поезд":"shapesTrain","기차":"shapesTrain",Trein:"shapesTrain","Pociąg":"shapesTrain",Treinar:"shapesTrain","Tåg":"shapesTrain","รถไฟ":"shapesTrain","火车":"shapesTrain","火車":"shapesTrain","Loď":"shapesShip",Skib:"shapesShip",Schiff:"shapesShip",Barco:"shapesShip",Laiva:"shapesShip",Bateau:"shapesShip","ספינה":"shapesShip",Brod:"shapesShip","Hajó":"shapesShip",Nave:"shapesShip","船":"shapesShip","Кеме":"shapesShip","배":"shapesShip",Skip:"shapesShip",Schip:"shapesShip",Statek:"shapesShip",Enviar:"shapesShip",Vapor:"shapesShip",Ship:"shapesShip","Корабль":"shapesShip",Ladja:"shapesShip",Fartyg:"shapesShip","เรือ":"shapesShip",Gemi:"shapesShip","Nákupní vozík":"shapesShoppingcart","Indkøbsvogn":"shapesShoppingcart",Einkaufswagen:"shapesShoppingcart","Carrito de la compra":"shapesShoppingcart","Ostoskärry":"shapesShoppingcart",Chariot:"shapesShoppingcart","עגלת קניות":"shapesShoppingcart","Kolica za kupovinu":"shapesShoppingcart","Bevásárlókocsi":"shapesShoppingcart","Carrello degli acquisti":"shapesShoppingcart","ショッピング・カート":"shapesShoppingcart","Дүкен арбашасы":"shapesShoppingcart","장바구니":"shapesShoppingcart",Handlekurv:"shapesShoppingcart",Winkelwagentje:"shapesShoppingcart","Wózek na zakupy":"shapesShoppingcart","Carrinho de compras":"shapesShoppingcart","Coş de cumpărături":"shapesShoppingcart","Shopping cart":"shapesShoppingcart","Корзина для покупок":"shapesShoppingcart","Nakupovalni voziček":"shapesShoppingcart",Varukorg:"shapesShoppingcart","รถเข็น":"shapesShoppingcart","Alışveriş sepeti":"shapesShoppingcart","购物车":"shapesShoppingcart","購物車":"shapesShoppingcart",Automobil:"shapesCar",Bil:"shapesCar",Auto:"shapesCar","Automóvil":"shapesCar",Voiture:"shapesCar","מכונית":"shapesCar","Autó":"shapesCar","乗用車":"shapesCar","Жеңіл көлік":"shapesCar","자동차":"shapesCar","Samochód":"shapesCar",Carro:"shapesCar","Maşină":"shapesCar",Car:"shapesCar","Автомобиль":"shapesCar",Avtomobil:"shapesCar","รถยนต์":"shapesCar",Otomobil:"shapesCar","汽车":"shapesCar","汽車":"shapesCar",Letadlo:"shapesAirplane",Fly:"shapesAirplane",Flugzeug:"shapesAirplane","Avión":"shapesAirplane",Lentokone:"shapesAirplane",Avion:"shapesAirplane","מטוס":"shapesAirplane",Zrakoplov:"shapesAirplane","Repülő":"shapesAirplane",Aeroplano:"shapesAirplane","飛行機":"shapesAirplane","Ұшақұ":"shapesAirplane","비행기":"shapesAirplane",Vliegtuig:"shapesAirplane",Samolot:"shapesAirplane","Avião":"shapesAirplane",Airplane:"shapesAirplane","Самолет":"shapesAirplane",Letalo:"shapesAirplane",Flygplan:"shapesAirplane","เครื่องบิน":"shapesAirplane","Uçak":"shapesAirplane","飞机":"shapesAirplane","飛機":"shapesAirplane","Palec dolů":"shapesThumbsdown","Tommel ned":"shapesThumbsdown","Daumen nach unten":"shapesThumbsdown","Pulgar abajo":"shapesThumbsdown","Peukalot alaspäin":"shapesThumbsdown","Pouces vers le bas":"shapesThumbsdown","שלילי":"shapesThumbsdown","Palac dolje":"shapesThumbsdown","Nem tetszik":"shapesThumbsdown","Pollice verso":"shapesThumbsdown","反対":"shapesThumbsdown","Жарамайды":"shapesThumbsdown","엄지 아래로":"shapesThumbsdown","Duim omlaag":"shapesThumbsdown","Kciuk w dół":"shapesThumbsdown",Desanimado:"shapesThumbsdown","Degete mari în jos":"shapesThumbsdown","Thumbs down":"shapesThumbsdown","Большие пальцы вниз":"shapesThumbsdown","Dol obrnjen palec":"shapesThumbsdown","Tumme ned":"shapesThumbsdown","หัวแม่โป้งชี้ลง":"shapesThumbsup","Başparmak aşağı":"shapesThumbsdown","不赞成":"shapesThumbsdown","很遜":"shapesThumbsdown","Palec nahoru":"shapesThumbsup","Tommel op":"shapesThumbsup","Daumen nach oben":"shapesThumbsup","Pulgar arriba":"shapesThumbsup","Peukalot ylöspäin":"shapesThumbsup","Pouces vers le haut":"shapesThumbsup","חיובי":"shapesThumbsup","Palac gore":"shapesThumbsup",Tetszik:"shapesThumbsup","Pollice in alto":"shapesThumbsup","賛成":"shapesThumbsup","Жарайсың":"shapesThumbsup","엄지 위로":"shapesThumbsup","Tommel opp":"shapesThumbsup","Duim omhoog":"shapesThumbsup","Kciuk w górę":"shapesThumbsup",Animado:"shapesThumbsup","Degete mari în sus":"shapesThumbsup","Thumbs up":"shapesThumbsup","Большие пальцы вверх":"shapesThumbsup","Gor obrnjen palec":"shapesThumbsup","Tumme upp":"shapesThumbsup","Başparmak yukarı":"shapesThumbsup","赞成":"shapesThumbsup","很讚":"shapesThumbsup","Podání rukou":"shapesShakehands","Giv hånd":"shapesShakehands",Handschlag:"shapesShakehands","Estrechar la mano":"shapesShakehands","Kädenpuristus":"shapesShakehands","Poignée de mains":"shapesShakehands","לחיצת ידיים":"shapesShakehands",Rukovanje:"shapesShakehands","Kézfogás":"shapesShakehands","Stretta di mano":"shapesShakehands","握手":"shapesShakehands","Қол алысу":"shapesShakehands","악수":"shapesShakehands","Håndtrykk":"shapesShakehands","Handen schudden":"shapesShakehands","Uścisk dłoni":"shapesShakehands","Apertar mãos":"shapesShakehands","Strângere de mâini":"shapesShakehands","Shake hands":"shapesShakehands","Рукопожатие":"shapesShakehands",Rokovanje:"shapesShakehands",Handskakning:"shapesShakehands","จับมือ":"shapesShakehands","Tokalaşma":"shapesShakehands","Smutný výraz":"shapesSadface","Trist ansigt":"shapesSadface","Trauriges Gesicht":"shapesSadface","Cara triste":"shapesSadface","Surulliset kasvot":"shapesSadface","Visage triste":"shapesSadface","פנים עצובים":"shapesSadface","Tužno lice":"shapesSadface","Szomorú arc":"shapesSadface","Faccia triste":"shapesSadface","悲しい顔":"shapesSadface","Мұңды түр":"shapesSadface","슬픈 얼굴":"shapesSadface",Trist:"shapesSadface","Droevig gezicht":"shapesSadface","Smutna twarz":"shapesSadface","Face triste":"shapesSadface","Faţă tristă":"shapesSadface","Sad face":"shapesSadface","Печальное лицо":"shapesSadface","Žalosten obraz":"shapesSadface",Ledsen:"shapesSadface","หน้าร้องไห้":"shapesSadface","Mutsuz yüz":"shapesSadface","悲伤脸":"shapesSadface","悲傷的臉":"shapesSadface","Neutrální výraz":"shapesNeutralface","Neutralt ansigt":"shapesNeutralface","Neutrales Gesicht":"shapesNeutralface","Cara neutra":"shapesNeutralface","Neutraalit kasvot":"shapesNeutralface","Visage neutre":"shapesNeutralface","פנים נייטרליים":"shapesNeutralface","Neutralno lice":"shapesNeutralface","Semleges arc":"shapesNeutralface","Senza espressione":"shapesNeutralface","普通の顔":"shapesNeutralface","Бейтарап түр":"shapesNeutralface","보통 얼굴":"shapesNeutralface","Nøytralt ansikt":"shapesNeutralface","Neutraal gezicht":"shapesNeutralface","Twarz o neutralnym wyrazie":"shapesNeutralface","Face neutra":"shapesNeutralface","Faţă neutră":"shapesNeutralface","Neutral face":"shapesNeutralface","Нейтральное лицо":"shapesNeutralface","Nevtralen obraz":"shapesNeutralface",Neutral:"shapesNeutralface","หน้าปกติ":"shapesNeutralface","İfadesiz yüz":"shapesNeutralface","平静脸":"shapesNeutralface","沒有表情的臉":"shapesNeutralface","Spokojený výraz":"shapesHappyface","Glad ansigt":"shapesHappyface","Fröhliches Gesicht":"shapesHappyface","Cara sonriente":"shapesHappyface","Iloiset kasvot":"shapesHappyface","Visage joyeux":"shapesHappyface","פנים שמחים":"shapesHappyface","Sretno lice":"shapesHappyface","Mosolygós arc":"shapesHappyface","Faccia felice":"shapesHappyface","笑顔":"shapesHappyface","Қуаныщшты түр":"shapesHappyface","기쁜 얼굴":"shapesHappyface",Glad:"shapesHappyface","Blij gezicht":"shapesHappyface","Zadowolona twarz":"shapesHappyface","Face feliz":"shapesHappyface","Față veselă":"shapesHappyface","Happy face":"shapesHappyface","Счастливое лицо":"shapesHappyface","Vesel obraz":"shapesHappyface","หน้ายิ้ม":"shapesHappyface","Mutlu surat":"shapesHappyface","笑脸":"shapesHappyface","快樂的臉":"shapesHappyface","Žena":"shapesFemale",Kvinde:"shapesFemale",Frau:"shapesWoman",Mujer:"shapesWoman",Nainen:"shapesFemale",Femme:"shapesWoman","אישה":"shapesWoman","Nő":"shapesFemale",Donna:"shapesWoman","女":"shapesWoman","Әйел":"shapesFemale","여자":"shapesWoman",Kvinne:"shapesWoman",Vrouw:"shapesWoman",Kobieta:"shapesFemale",Mulher:"shapesWoman",Femeie:"shapesWoman",Woman:"shapesWoman","Женщина":"shapesWoman","Ženska":"shapesFemale",Kvinna:"shapesWoman","ผู้หญิง":"shapesFemale","Kadın":"shapesFemale","女人":"shapesWoman","Člověk":"shapesMan",Mand:"shapesMale",Mann:"shapesMan",Hombre:"shapesMan",Mies:"shapesMale",Homme:"shapesMan","גבר":"shapesMan","Muškarac":"shapesMan","Férfi":"shapesMale",Uomo:"shapesMan","男":"shapesMan","Ер":"shapesMan","남자":"shapesMan",Man:"shapesMan","Człowiek":"shapesMan","Bărbat":"shapesMan","Мужчина":"shapesMan","Moški":"shapesMale","ผู้ชาย":"shapesMale",Adam:"shapesMan","男人":"shapesMan","Muž":"shapesMale","Männlich":"shapesMale",Masculino:"shapesMale",Masculin:"shapesMale","זכר":"shapesMale","Muška osoba":"shapesMale",Maschio:"shapesMale","男性":"shapesMale","еркек":"shapesMale","남성":"shapesMale","Hankjønn":"shapesMale",Mannelijk:"shapesMale","Mężczyzna":"shapesMale","De sex masculin":"shapesMale",Male:"shapesMale","Мужской":"shapesMale",Manlig:"shapesMale",Erkek:"shapesMale",Weiblich:"shapesFemale",Femenino:"shapesFemale","Féminin":"shapesFemale","נקבה":"shapesFemale","Ženska osoba":"shapesFemale",Femmina:"shapesFemale","女性":"shapesFemale","여성":"shapesFemale","Hunkjønn":"shapesFemale",Vrouwelijk:"shapesFemale",TXCDCLASS_ID:"shapesFemale","De sex feminin":"shapesFemale",Female:"shapesFemale","Женский":"shapesFemale",Kvinnlig:"shapesFemale","Domeček":"shapesHouse",Hus:"shapesHouse",Haus:"shapesHouse",Casa:"shapesHouse",Talo:"shapesHouse",Maison:"shapesHouse","בית":"shapesHouse","Kuća":"shapesHouse","Ház":"shapesHouse","家":"shapesHouse","Үй":"shapesHouse","집":"shapesHouse",Huis:"shapesHouse",Dom:"shapesHouse","Residência":"shapesHouse","Casă":"shapesHouse",House:"shapesHouse","Дом":"shapesHouse","Hiša":"shapesHouse","บ้าน":"shapesHouse",Ev:"shapesHouse","房屋形":"shapesHouse","房形":"shapesHouse","Vláda":"shapesGovernment",Myndighed:"shapesGovernment",Regierung:"shapesGovernment","Administraciones públicas":"shapesGovernment",Hallinto:"shapesGovernment","Administrations publiques":"shapesGovernment","ממשלה":"shapesGovernment","Državna uprava":"shapesGovernment","Kormány":"shapesGovernment",Governo:"shapesGovernment","政府":"shapesGovernment","Үкімет":"shapesGovernment","정부":"shapesGovernment",Offentlig:"shapesGovernment",Overheid:"shapesGovernment",Administracja:"shapesGovernment",Guvern:"shapesGovernment",Government:"shapesGovernment","Правительство":"shapesGovernment",Vlada:"shapesGovernment",Regering:"shapesGovernment","ราชการ":"shapesGovernment",Devlet:"shapesGovernment","Město":"shapesCity",By:"shapesCity",Stadt:"shapesCity","Población":"shapesCity",Paikkakunta:"shapesCity",Ville:"shapesCity","עיר":"shapesCity",Grad:"shapesCity","Város":"shapesCity","Città":"shapesCity","市":"shapesCity","Қала":"shapesCity","구/군/시":"shapesCity",Sted:"shapesCity",Plaats:"shapesCity",Miasto:"shapesCity",Localidade:"shapesCity",Localitate:"shapesCity",City:"shapesCity","Город":"shapesCity",Mesto:"shapesCity",Stad:"shapesCity","เมือง":"shapesCity","Şehir":"shapesCity","城市":"shapesCity","Šek":"shapesCheck","Check-":"shapesCheck",Scheck:"shapesCheck",Cheque:"shapesCheck",Sekki:"shapesCheck",Coche:"shapesCheck","סימן וי":"shapesCheck","Kvačica":"shapesCheck",Pipa:"shapesCheck",Assegno:"shapesCheck","小切手":"shapesCheck","Тексеру":"shapesCheck","수표":"shapesCheck",Sjekk:"shapesCheck",Vinkje:"shapesCheck",Zaznaczenie:"shapesCheck","Verifique.":"shapesCheck",Verificare:"shapesCheck",Check:"shapesCheck","Проверьте":"shapesCheck","Ček":"shapesCheck",Bock:"shapesCheck","เช็ค":"shapesCheck","Çek":"shapesCheck","支票":"shapesCheck","Vykřičník":"shapesExclamation","Udråb":"shapesExclamation",Ausrufezeichen:"shapesExclamation","Signo de exclamación":"shapesExclamation",Huutomerkki:"shapesExclamation",Exclamation:"shapesExclamation","סימן קריאה":"shapesExclamation","Uskličnik":"shapesExclamation","Felkiáltójel":"shapesExclamation",Esclamazione:"shapesExclamation","感嘆符":"shapesExclamation","Лептеу":"shapesExclamation","느낌표":"shapesExclamation",Utropstegn:"shapesExclamation",Uitroepteken:"shapesExclamation",Wykrzyknik:"shapesExclamation","Exclamação":"shapesExclamation",Exclamare:"shapesExclamation","Восклицательный знак":"shapesExclamation",Klicaj:"shapesExclamation",Utropstecken:"shapesExclamation","เครื่องหมายตกใจ":"shapesExclamation","Ünlem":"shapesExclamation","惊叹号":"shapesExclamation","驚嘆號":"shapesExclamation",X:"shapesX",i:"shapesX",Kniha:"shapesBook",Bog:"shapesBook",Buch:"shapesBook",Libro:"shapesBook",Kirja:"shapesBook",Classeur:"shapesBook","ספר":"shapesBook",Knjiga:"shapesBook","Könyv":"shapesBook","ブック":"shapesBook","Кітап":"shapesBook","책":"shapesBook",Bok:"shapesBook",Boek:"shapesBook",Podsumowanie:"shapesBook","Manual de instruções":"shapesBook","Agendă":"shapesBook",Book:"shapesBook","Книга":"shapesBook","หนังสือ":"shapesBook",Kitap:"shapesBook","书籍":"shapesBook","書籍":"shapesBook","Kufřík":"shapesBriefcase",Mappe:"shapesBriefcase",Aktenkoffer:"shapesBriefcase","Maletín":"shapesBriefcase",Salkku:"shapesBriefcase","Porte-documents":"shapesBriefcase","תיק מסמכים":"shapesBriefcase",Aktovka:"shapesBriefcase","Aktatáska":"shapesBriefcase",Valigetta:"shapesBriefcase","ブリーフケース":"shapesBriefcase","Портфель":"shapesBriefcase","서류 가방":"shapesBriefcase",Koffert:"shapesBriefcase",Tas:"shapesBriefcase",Teczka:"shapesBriefcase","Porta-arquivos":"shapesBriefcase","Servietă":"shapesBriefcase",Briefcase:"shapesBriefcase","Kovček":"shapesBriefcase","Portfölj":"shapesBriefcase","กระเป๋าเอกสาร":"shapesBriefcase","Evrak Çantası":"shapesBriefcase","公文包":"shapesBriefcase","公事包":"shapesBriefcase","Kalendář":"shapesCalendar",Kalender:"shapesCalendar",Calendario:"shapesCalendar",Kalenteri:"shapesCalendar",Calendrier:"shapesCalendar","לוח שנה":"shapesCalendar",Kalendar:"shapesCalendar","Naptár":"shapesCalendar","カレンダー":"shapesCalendar","Күнтізбе":"shapesCalendar","달력":"shapesCalendar",Kalendarz:"shapesCalendar","Calendário":"shapesCalendar",Calendar:"shapesCalendar","Календарь":"shapesCalendar",Koledar:"shapesCalendar","ปฏิทิน":"shapesCalendar",Takvim:"shapesCalendar","日历":"shapesCalendar","行事曆":"shapesCalendar",Hodiny:"shapesClock",Ur:"shapesClock",Uhr:"shapesClock",Reloj:"shapesClock",Kello:"shapesClock",Horloge:"shapesClock","שעון":"shapesClock",Sat:"shapesClock","Óra":"shapesClock",Orologio:"shapesClock","時計":"shapesClock","Сағат":"shapesClock","시계":"shapesClock",Klokke:"shapesClock",Klok:"shapesClock",Zegar:"shapesClock","Relógio":"shapesClock",Ceas:"shapesClock",Clock:"shapesClock","Часы":"shapesClock",Ura:"shapesClock",Klocka:"shapesClock","นาฬิกา":"shapesClock",Saat:"shapesClock","时钟":"shapesClock","時鐘":"shapesClock","Stůl":"shapesDesktop",Computer:"shapesDesktop",Desktop:"shapesDesktop",Escritorio:"shapesDesktop",Tietokone:"shapesDesktop",Bureau:"shapesDesktop","שולחן עבודה":"shapesDesktop","Számítógép":"shapesDesktop","デスクトップ":"shapesDesktop","Жұмыс үстелі":"shapesDesktop","데스크탑":"shapesDesktop",Skrivebord:"shapesDesktop",Bureaublad:"shapesDesktop",Biurko:"shapesDesktop","Computador de mesa":"shapesDesktop","Рабочий стол":"shapesDesktop",Namizje:"shapesDesktop",Skrivbord:"shapesDesktop","เดสก์ท็อป":"shapesDesktop","Masaüstü":"shapesDesktop","台式机":"shapesDesktop","桌上型電腦":"shapesDesktop",Dokument:"shapesDocument",Documento:"shapesDocument",Asiakirja:"shapesDocument",Document:"shapesDocument","מסמך":"shapesDocument",Dokumentum:"shapesDocument","文書":"shapesDocument","Құжат":"shapesDocument","문서":"shapesDocument","Документ":"shapesDocument","เอกสาร":"shapesDocument",Belge:"shapesDocument","文档":"shapesDocument","文件":"shapesDocument","Jídlo":"shapesFood",Mad:"shapesFood",Nahrungsmittel:"shapesFood",Comida:"shapesFood",Ruoka:"shapesFood",Aliment:"shapesFood","מזון":"shapesFood",Hrana:"shapesFood","Étel":"shapesFood",Cibo:"shapesFood","食べ物":"shapesFood","Тамақ":"shapesFood","식음료":"shapesFood",Mat:"shapesFood",Etenswaren:"shapesFood",Jedzenie:"shapesFood",Alimentos:"shapesFood",Alimente:"shapesFood",Food:"shapesFood","Еда":"shapesFood","อาหาร":"shapesFood",Yiyecek:"shapesFood","食品":"shapesFood","食物 ":"shapesFood","Výbava":"shapesGear",Tandhjul:"shapesGear",Zahnrad:"shapesGear",Engranaje:"shapesGear","Hammaspyörä":"shapesGear",Engrenage:"shapesGear","גלגל שינויים":"shapesGear",Oprema:"shapesGear","Fogaskerék":"shapesGear",Ingranaggio:"shapesGear","ギア":"shapesGear","Механизм":"shapesGear","기어":"shapesGear",Tannhjul:"shapesGear",Versnelling:"shapesGear","Koło zębate":"shapesGear",Marcha:"shapesGear",Echipamente:"shapesGear",Gear:"shapesGear","Оборудование":"shapesGear",Kugghjul:"shapesGear","เฟือง":"shapesGear","Dişli":"shapesGear","齿轮":"shapesGear","齒輪":"shapesGear","Zdraví":"shapesHealth",Sundhed:"shapesHealth",Gesundheit:"shapesHealth",Salud:"shapesHealth",Terveys:"shapesHealth","Santé":"shapesHealth","בריאות":"shapesHealth",Zdravlje:"shapesHealth","Egészség":"shapesHealth","Sanità":"shapesHealth","健康":"shapesHealth","Денсаулық":"shapesHealth","건강":"shapesHealth",Helse:"shapesHealth",Gezondheid:"shapesHealth",Zdrowie:"shapesHealth","Condição":"shapesHealth","Sănătate":"shapesHealth",Health:"shapesHealth","Здоровье":"shapesHealth",Zdravje:"shapesHealth","Hälsa":"shapesHealth","สุขภาพ":"shapesHealth","Sağlık":"shapesHealth","Nápad":"shapesIdea",Ide:"shapesIdea",Idee:"shapesIdea",Idea:"shapesIdea","Idée":"shapesIdea","רעיון":"shapesIdea",Ideja:"shapesIdea","Ötlet":"shapesIdea","アイデア":"shapesIdea","Идея":"shapesIdea","아이디어":"shapesIdea","Idé":"shapesIdea","Pomysł":"shapesIdea",Ideia:"shapesIdea","ความคิด":"shapesIdea",Fikir:"shapesIdea","观点":"shapesIdea","構想":"shapesIdea",Mobil:"shapesMobile","Mobilgerät":"shapesMobile",Mobile:"shapesMobile",Matkapuhelin:"shapesMobile","נייד":"shapesMobile",Mobilno:"shapesMobile","モバイル":"shapesMobile","Ұялы":"shapesMobile","모바일":"shapesMobile",Mobiel:"shapesMobile","Urządzenie mobilne":"shapesMobile","Мобильный":"shapesMobile","เคลื่อนย้ายได้":"shapesMobile","行動裝置":"shapesMobile",Bankovka:"shapesMoney_bill",Pengeseddel:"shapesMoney_bill",Geldschein:"shapesMoney_bill",Billete:"shapesMoney_bill",Seteli:"shapesMoney_bill",Billet:"shapesMoney_bill","שטר כסף":"shapesMoney_bill","Novčanica":"shapesMoney_bill","Papírpénz":"shapesMoney_bill",Banconota:"shapesMoney_bill","お金 (紙幣)":"shapesMoney_bill","Ақша шоты":"shapesMoney_bill","지폐":"shapesMoney_bill",Geldbiljet:"shapesMoney_bill",Banknot:"shapesMoney_bill","Cédula de dinheiro":"shapesMoney_bill","Bancnotă":"shapesMoney_bill","Money bill":"shapesMoney_bill","Деньги - Счет":"shapesMoney_bill",Bankovec:"shapesMoney_bill",Sedel:"shapesMoney_bill","เงินธนบัตร":"shapesMoney_bill","Kağıt para":"shapesMoney_bill","帐单":"shapesMoney_bill","紙幣":"shapesMoney_bill",Mince:"shapesMoney_coin","Mønt":"shapesMoney_coin","Geldmünze":"shapesMoney_coin",Moneda:"shapesMoney_coin",Kolikko:"shapesMoney_coin","Pièces":"shapesMoney_coin","מטבע כסף":"shapesMoney_coin","Novčić":"shapesMoney_coin","Fémpénz":"shapesMoney_coin",Moneta:"shapesMoney_coin","お金 (硬貨)":"shapesMoney_coin","Ақша тиыны":"shapesMoney_coin","동전":"shapesMoney_coin",Mynt:"shapesMoney_coin",Muntgeld:"shapesMoney_coin","Moeda de dinheiro":"shapesMoney_coin","Monedă":"shapesMoney_coin","Money coin":"shapesMoney_coin","Деньги - Монета":"shapesMoney_coin",Kovanec:"shapesMoney_coin","เงินเหรียญ":"shapesMoney_coin","Bozuk para":"shapesMoney_coin","硬币":"shapesMoney_coin","硬幣":"shapesMoney_coin","Pokladnička":"shapesPiggybank",Sparegris:"shapesPiggybank",Sparschwein:"shapesPiggybank",Hucha:"shapesPiggybank","Säästöpossu":"shapesPiggybank",Tirelire:"shapesPiggybank","קופת חסכון":"shapesPiggybank","Kasica prasica":"shapesPiggybank",Malacpersely:"shapesPiggybank",Salvadanaio:"shapesPiggybank","貯金箱":"shapesPiggybank","Жинақтауыш":"shapesPiggybank","돼지저금통":"shapesPiggybank","Sparebøsse":"shapesPiggybank",Spaarvarken:"shapesPiggybank",Skarbonka:"shapesPiggybank","Cofre de porquinho":"shapesPiggybank","Pușculiță":"shapesPiggybank","Piggy bank":"shapesPiggybank","Свинья-копилка":"shapesPiggybank",Hranilnik:"shapesPiggybank",Spargris:"shapesPiggybank","กระปุกออมสิน":"shapesPiggybank",Kumbara:"shapesPiggybank","存钱罐":"shapesPiggybank","撲滿":"shapesPiggybank","Stoh papírů":"shapesStackofpaper",Papirstak:"shapesStackofpaper",Papierstapel:"shapesStackofpaper","Pila de papeles":"shapesStackofpaper",Paperipino:"shapesStackofpaper","Pile de papier":"shapesStackofpaper","ערימת ניירות":"shapesStackofpaper","Svežanj papira":"shapesStackofpaper","Papírköteg":"shapesStackofpaper","Pila di carta":"shapesStackofpaper","紙束":"shapesStackofpaper","Қағаз бумасы":"shapesStackofpaper","용지":"shapesStackofpaper",Papirstabel:"shapesStackofpaper","Stapel papier":"shapesStackofpaper","Stos kartek":"shapesStackofpaper","Pilha de papel":"shapesStackofpaper","Stivă de hârtie":"shapesStackofpaper","Stack of paper":"shapesStackofpaper","Куча бумаг":"shapesStackofpaper","Kupček denarja":"shapesStackofpaper","Pappershög":"shapesStackofpaper","กองกระดาษ":"shapesStackofpaper","Kağıt yığını":"shapesStackofpaper","纸堆":"shapesStackofpaper","一疊紙":"shapesStackofpaper","Nálepka 1":"shapesStickynote1","Huskeseddel 1":"shapesStickynote1","Kurznotiz 1":"shapesStickynote1","Nota adhesiva 1":"shapesStickynote1","Tarralappu 1":"shapesStickynote1","Pense-bête 1":"shapesStickynote1","פתקית 1":"shapesStickynote1","Samoljepiva napomena 1":"shapesStickynote2","1. öntapadó jegyzet":"shapesStickynote1","Post-it 1":"shapesStickynote1","付箋 1":"shapesStickynote1","Жазба 1":"shapesStickynote1","스티커 메모 1":"shapesStickynote1","Klistrelapp 1":"shapesStickynote1","Notitievel 1":"shapesStickynote1","Karteczka 1":"shapesStickynote1","Nota de Tolerância 1":"shapesStickynote1","Notă adezivă 1":"shapesStickynote1","Sticky note 1":"shapesStickynote1","Наклейка 1":"shapesStickynote1","Samolepilni listek 1":"shapesStickynote1","โน๊ตติดกาว 1":"shapesStickynote1","Yapışkan not 1":"shapesStickynote1","即时贴 1":"shapesStickynote1","自黏便箋 1":"shapesStickynote1","Nálepka 2":"shapesStickynote2","Huskeseddel 2":"shapesStickynote2","Kurznotiz 2":"shapesStickynote2","Nota adhesiva 2":"shapesStickynote2","Tarralappu 2":"shapesStickynote2","Pense-bête 2":"shapesStickynote2","פתקית 2":"shapesStickynote2","2. öntapadó jegyzet":"shapesStickynote2","Post-it 2":"shapesStickynote2","付箋 2":"shapesStickynote2","Жазба 2":"shapesStickynote2","스티커 메모 2":"shapesStickynote2","Klistrelapp 2":"shapesStickynote2","Notitievel 2":"shapesStickynote2","Karteczka 2":"shapesStickynote2","Nota de Tolerância 2":"shapesStickynote2","Notă adezivă 2":"shapesStickynote2","Sticky note 2":"shapesStickynote2","Наклейка 2":"shapesStickynote2","Samolepilni listek 2":"shapesStickynote2","โน๊ตติดกาว 2":"shapesStickynote2","Yapışkan not 2":"shapesStickynote2","即时贴 2":"shapesStickynote2","自黏便箋 2":"shapesStickynote2","Cíl":"shapesTarget","Mål":"shapesTarget",Ziel:"shapesTarget",Diana:"shapesTarget",Tavoite:"shapesTarget",Cible:"shapesTarget","מטרה":"shapesTarget",Cilj:"shapesTarget","Cél":"shapesTarget",Destinazione:"shapesTarget","目標値":"shapesTarget","Мақсаты":"shapesTarget","대상":"shapesTarget",Doel:"shapesTarget",Cel:"shapesTarget",Destino:"shapesTarget","Ţintă":"shapesTarget",Target:"shapesTarget","Целевой объект":"shapesTarget","เป้าหมาย":"shapesTarget",Hedef:"shapesTarget","目标":"shapesTarget","目標":"shapesTarget","Nástroj":"shapesTool","Værktøj":"shapesTool",Werkzeug:"shapesTool",Herramienta:"shapesTool","Työkalu":"shapesTool",Outil:"shapesTool","כלי":"shapesTool",Alat:"shapesTool","Szerszám":"shapesTool",Strumento:"shapesTool","ツール":"shapesTool","Құрал":"shapesTool","도구":"shapesTool","Verktøy":"shapesTool",Gereedschap:"shapesTool","Narzędzie":"shapesTool",Ferramenta:"shapesTool","Unealtă":"shapesTool",Tool:"shapesTool","Инструмент":"shapesTool",Orodje:"shapesTool",Verktyg:"shapesTool","เครื่องมือ":"shapesTool","Araç":"shapesTool","工具":"shapesTool","Deštník":"shapesUmbrella",Paraply:"shapesUmbrella",Schirm:"shapesUmbrella",Paraguas:"shapesUmbrella",Sateenvarjo:"shapesUmbrella",Parapluie:"shapesUmbrella","מטריה":"shapesUmbrella","Kišobran":"shapesUmbrella","Esernyő":"shapesUmbrella",Ombrello:"shapesUmbrella","傘":"shapesUmbrella","Қолшатыр":"shapesUmbrella","우산":"shapesUmbrella",Paraplu:"shapesUmbrella",Parasol:"shapesUmbrella",Umbrella:"shapesUmbrella","Umbrelă":"shapesUmbrella","Зонтик":"shapesUmbrella","Dežnik":"shapesUmbrella","ร่ม":"shapesUmbrella","Şemsiye":"shapesUmbrella","雨伞":"shapesUmbrella","雨傘":"shapesUmbrella","Označení":"shapesRectCallout",Forklaring:"shapesRectCallout",Beschriftung:"shapesRectCallout","Comentario emergente":"shapesRectCallout",Kuvateksti:"shapesRectCallout","Légende":"shapesRectCallout","בועת הסבר":"shapesRectCallout","Oblačić":"shapesRectCallout","Szövegbuborék":"shapesRectCallout",Callout:"shapesRectCallout","コールアウト":"shapesRectCallout","Тілше дерек":"shapesRectCallout","말풍선":"shapesRectCallout",Bildeforklaring:"shapesRectCallout",Toelichting:"shapesRectCallout",Dymek:"shapesRectCallout","Explicaţie":"shapesRectCallout","Выноска":"shapesRectCallout","Oblaček":"shapesRectCallout","Förklaring":"shapesRectCallout","กรอบคำพูด":"shapesRectCallout","Açıklama Kutusu":"shapesRectCallout","标注":"shapesRectCallout","圖說文字":"shapesRectCallout","Pruh odznaků":"shapesBadge_ribbon","Badgebånd":"shapesBadge_ribbon","Cinta de identificador":"shapesBadge_ribbon","Merkin nauha":"shapesBadge_ribbon","Ruban du badge":"shapesBadge_ribbon","סרט סמל":"shapesBadge_ribbon","Značka s vrpcom":"shapesBadge_ribbon","Jelvényszalag":"shapesBadge_ribbon","Icona badge":"shapesBadge_ribbon","バッジ・リボン":"shapesBadge_ribbon","Таңба таспасы":"shapesBadge_ribbon","뱃지 리본":"shapesBadge_ribbon","Merkelappbånd":"shapesBadge_ribbon",Badgelint:"shapesBadge_ribbon","Wstążka z odznaką":"shapesBadge_ribbon","Faixa de opções de badge":"shapesBadge_ribbon","Panglică ecuson":"shapesBadge_ribbon","Badge ribbon":"shapesBadge_ribbon","Лента бейджа":"shapesBadge_ribbon","Trak značke":"shapesBadge_ribbon",Band:"shapesBadge_ribbon","ป้ายริบบิ้น":"shapesBadge_ribbon","Rozet şeridi":"shapesBadge_ribbon","角标功能区":"shapesBadge_ribbon","識別證緞帶":"shapesBadge_ribbon","Vzdělání":"shapesEducation",Uddannelse:"shapesEducation",Ausbildung:"shapesEducation","Formación":"shapesEducation",Koulutus:"shapesEducation",Formation:"shapesEducation","חינוך":"shapesEducation","Školovanje":"shapesEducation","Oktatás":"shapesEducation",Formazione:"shapesEducation","教育":"shapesEducation","Білім беру":"shapesEducation","교육":"shapesEducation",Utdanning:"shapesEducation",Onderwijs:"shapesEducation",Edukacja:"shapesEducation",Aprendizado:"shapesEducation","Învăţământ":"shapesEducation",Education:"shapesEducation","Образование":"shapesEducation","Izobraževanje":"shapesEducation",Utbildning:"shapesEducation","การศึกษา":"shapesEducation","Eğitim":"shapesEducation",Oko:"shapesEye","Øje":"shapesEye",Auge:"shapesEye",Ojo:"shapesEye","Silmä":"shapesEye",Oeil:"shapesEye","עין":"shapesEye",Szem:"shapesEye",Occhio:"shapesEye","目":"shapesEye","Көз":"shapesEye","눈":"shapesEye","Øye":"shapesEye",Oog:"shapesEye",Olhal:"shapesEye",Ochi:"shapesEye",Eye:"shapesEye","Глаз":"shapesEye","Öga":"shapesEye","ตา":"shapesEye","Göz":"shapesEye","眼睛":"shapesEye",Lebka:"shapesSkull",Kranie:"shapesSkull","Schädel":"shapesSkull",Calavera:"shapesSkull","Pääkallo":"shapesSkull","Crâne":"shapesSkull","גולגולת":"shapesSkull",Lubanja:"shapesSkull",Koponya:"shapesSkull",Teschio:"shapesSkull","頭蓋骨":"shapesSkull","Бас сүйегі":"shapesSkull","두개골":"shapesSkull",Skalle:"shapesSkull",Schedel:"shapesSkull",Czaszka:"shapesSkull",Caveira:"shapesSkull",Craniu:"shapesSkull",Skull:"shapesSkull","Череп":"shapesSkull",Lobanja:"shapesSkull","กะโหลกศีรษะ":"shapesSkull","Kafatası":"shapesSkull","头骨":"shapesSkull","頭顱":"shapesSkull",Mozek:"shapesBrain",Hjerne:"shapesBrain",Gehirn:"shapesBrain",Cerebro:"shapesBrain",Aivot:"shapesBrain",Cerveau:"shapesBrain","מוח":"shapesBrain",Mozak:"shapesBrain",Agy:"shapesBrain",Cervello:"shapesBrain","脳":"shapesBrain","Ми":"shapesBrain","두뇌":"shapesBrain",Hersenen:"shapesBrain","Mózg":"shapesBrain","Cérebro":"shapesBrain",Creier:"shapesBrain",Brain:"shapesBrain","Мозг":"shapesBrain","Možgani":"shapesBrain","Hjärna":"shapesBrain","สมอง":"shapesBrain",Beyin:"shapesBrain","大脑":"shapesBrain","大腦":"shapesBrain"}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2160/ShapeWidgetUpgrade",["require","exports","module","../utils/specSearchUtils","./LocalizedShapeWidgetSubTypes"],(function(e,a,t){const{isEmpty:s}=e("../utils/specSearchUtils"),r=e("./LocalizedShapeWidgetSubTypes"),o=e=>{Array.isArray(e)&&e.forEach(e=>{var a;e.features&&e.features.Models_internal&&"widget"===e.type&&"shape"===e.features.Models_internal.type&&((a=e.features.Models_internal).subType||r[a.name]&&(a.subType=r[a.name])),o(e.items)})};t.exports={up:e=>{const a=e.layout;return o(a.items),Promise.resolve(e)},VERSION:2160}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2161/GroupedPropertyLocationUpgrade",["require","exports","module"],(function(e,a,t){const s=["widget.legend.titleColor","widget.legend.titleFont","valueAxis.ticks.labels.color","valueAxis.ticks.labels.font","valueLabels.color","valueLabels.font","valueAxis.column.ticks.labels.color","valueAxis.line.ticks.labels.color","valueAxis.column.ticks.labels.font","valueAxis.line.ticks.labels.font","column.valueLabels.color","lineWithPoints.valueLabels.color","column.valueLabels.font","lineWithPoints.valueLabels.font","barLabels.color","barLabels.font","labels.color","labels.font"],r=(e,a)=>{if(e&&"widget"===e.type&&a.push(e),e&&e.items&&e.items.length>0)for(let t=0;t<e.items.length;t++){const s=e.items[t];r(s,a)}return a.length?a:null};t.exports={up:e=>((r(e.layout,[])||[]).forEach(e=>{e.properties&&s.forEach(a=>e.properties[a]&&delete e.properties[a])}),Promise.resolve(e)),VERSION:2161}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2162/AutoGroupColumnIdUpgrade",["require","exports","module","../utils/specSearchUtils","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{specMissing:s,isEmpty:r}=e("../utils/specSearchUtils"),{findWidgetInLayouts:o,findWidgetsInSpec:i,specHasWidgets:n}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>{if(!s(e,2162)&&(n(e,2162)||!r(e.layout))){const a=(e=>{const a={};return(o(e.layout,[])||i(e.widgets,[])||[]).filter(e=>"live"===e.type).forEach(e=>{const t=(e=>{const a=[];if(e.data){(e.data.dataViews||[]).forEach(e=>{(e.dataItems||[]).forEach(e=>{e.binningDefinition&&a.push(e)})})}return a})(e);t&&t.length&&(a[e.id]={widget:e,dataItems:t})}),a})(e);(e.pageContext||[]).forEach(e=>{((e,a)=>{if("visualization"===e.origin){const t=a[e.eventSourceId],s=t&&t.dataItems||[];e.hierarchyUniqueNames.forEach((a,t)=>{const r=s.find(e=>e.itemId===a);if(r){const a=r.binningDefinition.columnId;e.hierarchyUniqueNames[t]=a,e.hierarchies[t].hierarchyUniqueName=a}})}})(e,a)}),Object.keys(a).forEach(e=>{((e,a)=>{const t=a[e];if(t){(t.widget.localFilters||[]).forEach(e=>{if(e.filterBins){const a=t.dataItems.find(a=>a.itemId===e.columnId);e.columnId=a.binningDefinition.columnId}})}})(e,a)})}return Promise.resolve(e)},VERSION:2162}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2300/TreemapProperties",["require","exports","module","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{findWidgetInLayouts:s,setDefaultProperty:r}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>((s(e.layout,[])||[]).forEach(e=>{e.visId&&"com.ibm.vis.rave2bundletreemap"===e.visId&&r(e,"intermediate.labels.visible",!1)}),Promise.resolve(e)),VERSION:2300}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2301/ValuesAsRowsProperties",["require","exports","module"],(function(e,a,t){const s=(e,a)=>{if(e&&"widget"===e.type&&a.push(e),e&&e.items&&e.items.length>0)for(let t=0;t<e.items.length;t++){const r=e.items[t];s(r,a)}return a.length?a:null};t.exports={up:e=>((s(e.layout,[])||[]).forEach(e=>{e.properties&&void 0!==e.properties.valuesAsRows&&(e.properties.valuesAsRows=e.properties.valuesAsRows?"rowsAuto":"columnsAuto")}),Promise.resolve(e)),VERSION:2301}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2302/DropdownListExtension",["require","exports","module","../utils/WidgetUpgradeUtils"],(function(e,a,t){const{findWidgetInLayouts:s,findWidgetsInSpec:r}=e("../utils/WidgetUpgradeUtils");t.exports={up:e=>((s(e.layout,[])||r(e.widgets,[])||[]).forEach(e=>{if(["FilterDropDown","filterDropdownWidget.FilterDropDown"].includes(e.visId)){e.visId="dropdownList";const a=e.properties&&e.properties.find(e=>"label"===e.id);a&&(a.id="placeholder");const t=e.slotmapping&&e.slotmapping.slots,s=t&&t.find(e=>"Column"===e.name);s&&(s.name="selections")}}),Promise.resolve(e)),VERSION:2302}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2303/BarBundleUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i}=e("../utils/specSearchUtils"),n={"gridLines.color":"valueAxis.gridLines.color","gridLines.visible":"valueAxis.gridLines.visible"},l=e=>{["com.ibm.vis.rave2bundlebar","com.ibm.vis.rave2bundlecolumn","com.ibm.vis.rave2bundlestackedbar","com.ibm.vis.rave2bundlestackedcolumn"].includes(e.visId)&&((e=>{Object.keys(n).forEach(a=>{const t=i(a,e.properties);t&&(t.id=n[a])})})(e),(e=>{[{id:"itemAxis.ticks.labels.color",value:"rgb(106,115,115)"},{id:"valueAxis.ticks.labels.color",value:"rgb(106,115,115)"}].forEach(a=>{void 0===i(a.id,e.properties)&&e.properties.push(a)})})(e))};t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),l(e))}),Promise.resolve(e)),upgradeProperties:l,VERSION:2303}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2304/LineAreaBundleUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i}=e("../utils/specSearchUtils"),n={"area.interpolate":"interpolate","gridLines.color":"valueAxis.gridLines.color","gridLines.visible":"valueAxis.gridLines.visible","line.interpolate":"interpolate"},l=e=>{Object.keys(n).forEach(a=>{const t=i(a,e.properties);t&&(t.id=n[a],"gridLines.visible"!==a||i("itemAxis.gridLines.visible",e.properties)||e.properties.push({id:"itemAxis.gridLines.visible",value:t.value}))})},p=e=>{new Set(["com.ibm.vis.rave2line","com.ibm.vis.rave2point","com.ibm.vis.rave2bundlearea"]).has(e.visId)&&(l(e),(e=>{[{id:"itemAxis.ticks.labels.color",value:"rgb(106,115,115)"},{id:"valueAxis.ticks.labels.color",value:"rgb(106,115,115)"}].forEach(a=>{void 0===i(a.id,e.properties)&&e.properties.push(a)})})(e))};t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),p(e))}),Promise.resolve(e)),upgradeDeprecated:l,upgradeProperties:p,VERSION:2304}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2400/TextEditorConstants",["require","exports","module"],(function(e,a,t){const s=Object.freeze([{value:"anton",cssClass:"rt_fontFamilyAnton"},{value:"cherrycreamsoda",cssClass:"rt_fontFamilyCherryCreamSoda"},{value:"condiment",cssClass:"rt_fontFamilyCondiment-Regular"},{value:"didactgothic",cssClass:"rt_fontFamilyDidactGothic"},{value:"euphoriascript",cssClass:"rt_fontFamilyEuphoriaScript-Regular"},{value:"helvneueforibm",cssClass:"rt_fontFamilyHelvNeueforIBM-Regular",subCssClasses:[{value:"light",cssClass:"rt_fontFamilyHelvNeueforIBM-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyHelvNeueforIBM-LightItalic"},{value:"regular",cssClass:"rt_fontFamilyHelvNeueforIBM-Regular"},{value:"italic",cssClass:"rt_fontFamilyHelvNeueforIBM-Italic"},{value:"medium",cssClass:"rt_fontFamilyHelvNeueforIBM-Medium"},{value:"mediumitalic",cssClass:"rt_fontFamilyHelvNeueforIBM-MediumItalic"},{value:"bold",cssClass:"rt_fontFamilyHelvNeueforIBM-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyHelvNeueforIBM-BoldItalic"}]},{value:"kaushanscript",cssClass:"rt_fontFamilyKaushanScript-Regular"},{value:"lobster",cssClass:"rt_fontFamilyLobster"},{value:"merriweather",cssClass:"rt_fontFamilyMerriweather-Regular",subCssClasses:[{value:"italic",cssClass:"rt_fontFamilyMerriweather-Italic"},{value:"light",cssClass:"rt_fontFamilyMerriweather-Light"},{value:"regular",cssClass:"rt_fontFamilyMerriweather-Regular"},{value:"bold",cssClass:"rt_fontFamilyMerriweather-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyMerriweather-BoldItalic"},{value:"black",cssClass:"rt_fontFamilyMerriweather-Black"},{value:"lightitalic",cssClass:"rt_fontFamilyMerriweather-LightItalic"},{value:"heavyitalic",cssClass:"rt_fontFamilyMerriweather-HeavyItalic"}]},{value:"merriweathersans",cssClass:"rt_fontFamilyMerriweatherSans-Regular",subCssClasses:[{value:"italic",cssClass:"rt_fontFamilyMerriweatherSans-Italic"},{value:"light",cssClass:"rt_fontFamilyMerriweatherSans-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyMerriweatherSans-LightItalic"},{value:"regular",cssClass:"rt_fontFamilyMerriweatherSans-Regular"},{value:"bold",cssClass:"rt_fontFamilyMerriweatherSans-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyMerriweatherSans-BoldItalic"},{value:"extrabold",cssClass:"rt_fontFamilyMerriweatherSans-ExtraBold"},{value:"extrabolditalic",cssClass:"rt_fontFamilyMerriweatherSans-ExtraBoldItalic"}]},{value:"monoton",cssClass:"rt_fontFamilyMonoton-Regular"},{value:"montserrat",cssClass:"rt_fontFamilyMontserrat-Regular",subCssClasses:[{value:"hairline",cssClass:"rt_fontFamilyMontserrat-Hairline"},{value:"light",cssClass:"rt_fontFamilyMontserrat-Light"},{value:"regular",cssClass:"rt_fontFamilyMontserrat-Regular"},{value:"bold",cssClass:"rt_fontFamilyMontserrat-Bold"},{value:"black",cssClass:"rt_fontFamilyMontserrat-Black"}]},{value:"opensanscondensed",cssClass:"rt_fontFamilyOpenSansCondensed-Light",subCssClasses:[{value:"light",cssClass:"rt_fontFamilyOpenSansCondensed-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyOpenSansCondensed-LightItalic"},{value:"bold",cssClass:"rt_fontFamilyOpenSansCondensed-Bold"}]},{value:"oswald",cssClass:"rt_fontFamilyOswald-Regular",subCssClasses:[{value:"extralight",cssClass:"rt_fontFamilyOswald-ExtraLight"},{value:"extralightitalic",cssClass:"rt_fontFamilyOswald-ExtraLightItalic"},{value:"light",cssClass:"rt_fontFamilyOswald-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyOswald-LightItalic"},{value:"regular",cssClass:"rt_fontFamilyOswald-Regular"},{value:"regularitalic",cssClass:"rt_fontFamilyOswald-RegularItalic"},{value:"medium",cssClass:"rt_fontFamilyOswald-Medium"},{value:"mediumitalic",cssClass:"rt_fontFamilyOswald-MediumItalic"},{value:"demibold",cssClass:"rt_fontFamilyOswald-DemiBold"},{value:"demibolditalic",cssClass:"rt_fontFamilyOswald-DemiBoldItalic"},{value:"bold",cssClass:"rt_fontFamilyOswald-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyOswald-BoldItalic"},{value:"heavy",cssClass:"rt_fontFamilyOswald-Heavy"},{value:"heavyitalic",cssClass:"rt_fontFamilyOswald-HeavyItalic"},{value:"stencil",cssClass:"rt_fontFamilyOswald-Stencil"}]},{value:"playball",cssClass:"rt_fontFamilyPlayball"},{value:"ibmplexsans",default:!0,cssClass:"rt_fontFamilyIBMPlexSans-Regular",subCssClasses:[{value:"light",cssClass:"rt_fontFamilyIBMPlexSans-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyIBMPlexSans-LightItalic"},{value:"regular",cssClass:"rt_fontFamilyIBMPlexSans-Regular"},{value:"italic",cssClass:"rt_fontFamilyIBMPlexSans-Italic"},{value:"medium",cssClass:"rt_fontFamilyIBMPlexSans-Medium"},{value:"mediumitalic",cssClass:"rt_fontFamilyIBMPlexSans-MediumItalic"},{value:"bold",cssClass:"rt_fontFamilyIBMPlexSans-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyIBMPlexSans-BoldItalic"}]},{value:"roboto",label:"Roboto",cssClass:"rt_fontFamilyRoboto-Regular",subCssClasses:[{value:"thin",cssClass:"rt_fontFamilyRoboto-Thin"},{value:"thinitalic",cssClass:"rt_fontFamilyRoboto-ThinItalic"},{value:"light",cssClass:"rt_fontFamilyRoboto-Light"},{value:"lightitalic",cssClass:"rt_fontFamilyRoboto-LightItalic"},{value:"regular",cssClass:"rt_fontFamilyRoboto-Regular"},{value:"italic",cssClass:"rt_fontFamilyRoboto-Italic"},{value:"medium",cssClass:"rt_fontFamilyRoboto-Medium"},{value:"mediumitalic",cssClass:"rt_fontFamilyRoboto-MediumItalic"},{value:"bold",cssClass:"rt_fontFamilyRoboto-Bold"},{value:"bolditalic",cssClass:"rt_fontFamilyRoboto-BoldItalic"},{value:"black",cssClass:"rt_fontFamilyRoboto-Black"},{value:"blackitalic",cssClass:"rt_fontFamilyRoboto-BlackItalic"}]},{value:"sortsmillgoudy",cssClass:"rt_fontFamilySortsMillGoudy-Regular",subCssClasses:[{value:"regular",cssClass:"rt_fontFamilySortsMillGoudy-Regular"},{value:"italic",cssClass:"rt_fontFamilySortsMillGoudy-Italic"}]},{value:"specialelite",cssClass:"rt_fontFamilySpecialElite"}]);t.exports={getFontFamilyOptions:()=>s}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2400/TextFontStyleUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","./TextEditorConstants"],(function(e,a,t){const{isTextWidgetModel:s,findWidgetInLayouts:r,isLiveWidgetModel:o,findWidgetsInSpec:i}=e("../utils/WidgetUpgradeUtils"),{getFontFamilyOptions:n}=e("./TextEditorConstants"),l=e=>{const a=e.titleHtml.translationTable;if(a)for(const e in a)a[e]=u(a[e])},p=e=>{const a=e.content.translationTable;if(a)for(const e in a)a[e]=u(a[e]);else"string"==typeof e.content&&(e.content=u(e.content))},u=e=>{const a=d(e),t=a.querySelectorAll("p, li");let s=!1;return t.forEach(e=>{c(e).forEach(a=>{const t=h(a,e);if(t.format&&t.regularFontStyleElement){const e=m(t.regularFontStyleElement),a=v(t.format,e.subCssClasses);a&&(s=!0,t.regularFontStyleElement.classList.replace(e.cssClass,a))}})}),s?a.outerHTML:e},d=e=>{var a=document.createElement("div");return a.innerHTML=e.trim(),a.firstChild},c=e=>{const a=document.createNodeIterator(e,NodeFilter.SHOW_TEXT),t=[];let s;for(;s=a.nextNode();)t.push(s);return t},h=(e,a)=>{const t={hasBoldFormat:!1,hasItalicFormat:!1,regularFontStyleElement:null,format:null};return g(e.parentElement,a,t),t.hasItalicFormat&&t.hasBoldFormat?t.format="bolditalic":t.hasBoldFormat?t.format="bold":t.hasItalicFormat&&(t.format="italic"),t},g=(e,a,t)=>{for(;e&&e!==a;)"I"===e.nodeName?t.hasItalicFormat=!0:"B"===e.nodeName&&(t.hasBoldFormat=!0),e.className.match(/rt_fontFamily[\w]+-Regular/)&&(t.regularFontStyleElement||(t.regularFontStyleElement=e)),e=e.parentElement;return t},m=e=>{let a=null;return e&&e.classList.forEach(e=>{e&&e.startsWith("rt_fontFamily")&&(a=e)}),a?f(a):null},f=e=>{const a=e.substring(13).toLowerCase(),t=a.length?a.split("-"):null;"plex"===t[0]&&(t[0]="ibmplexsans");const s=n().find(e=>e.value===t[0]);return{fontId:t[0],fontStyle:t.length>1?t[1]:null,cssClass:e,subCssClasses:s&&s.subCssClasses}},v=(e,a)=>{const t=a&&a.find(a=>a.value===e);return t?t.cssClass:null};t.exports={up:e=>((r(e.layout,[])||i(e.widgets)||[]).forEach(e=>{e&&s(e)&&e.content?p(e):e&&o(e)&&e.titleHtml&&l(e)}),Promise.resolve(e)),VERSION:2400}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2401/BubbleCompositeUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i,replacePropertyByNewAndRemove:n}=e("../utils/specSearchUtils"),l="com.ibm.vis.rave2bundlecomposite",p={gridLineColor:["itemAxis.gridLines.color","valueAxis.gridLines.color"],"gridLines.visible":["itemAxis.gridLines.visible","valueAxis.gridLines.visible"]},u={gridLineColor:["itemAxis.gridLines.color","valueAxis.column.gridLines.color"],"column.borderColor":["column.border.color"],"column.borderWidth":["column.border.width"]},d=e=>{e.visId===l?n(u,e.properties):n(p,e.properties)},c=e=>{new Set(["com.ibm.vis.ravebubble","com.ibm.vis.ravescatter",l]).has(e.visId)&&(d(e),e.visId!==l&&(e=>{[{id:"itemAxis.ticks.labels.color",value:"rgb(106,115,115)"},{id:"valueAxis.ticks.labels.color",value:"rgb(106,115,115)"}].forEach(a=>{void 0===i(a.id,e.properties)&&e.properties.push(a)})})(e))};t.exports={up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),c(e))}),Promise.resolve(e)),upgradeDeprecated:d,upgradeProperties:c,VERSION:2401}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/2402/TiledmapStylesUpgrade",["require","exports","module","../utils/WidgetUpgradeUtils","../utils/specSearchUtils"],(function(e,a,t){const{isLiveWidgetModel:s,findWidgetInLayouts:r,findWidgetsInSpec:o}=e("../utils/WidgetUpgradeUtils"),{findProperty:i}=e("../utils/specSearchUtils"),n=new Map([["basic","mapbox://styles/ibmrave/cke8fzite50d519ny0y5h1l4u"],["bright","mapbox://styles/ibmrave/cke8fq5tw50eo19l44pdkgyoo"],["light","mapbox://styles/mapbox/light-v10"],["dark","mapbox://styles/mapbox/dark-v10"],["outdoors","mapbox://styles/mapbox/outdoors-v11"],["satellite","mapbox://styles/mapbox/satellite-v9"],["satellite-streets","mapbox://styles/mapbox/satellite-streets-v11"],["streets","mapbox://styles/ibmrave/ckeb6ov6l0oe119o0lv10d0tk"],["lapis","mapbox://styles/ibmrave/cjv3nj5k90ecu1frxp80t14jt"],["alabaster","mapbox://styles/ibmrave/cjv3o229x1fv91fofr7phnxbn"],["obsidian","mapbox://styles/ibmrave/cjv2g9d7v0d1f1fnunphasgr5"],["turquoise","mapbox://styles/ibmrave/cjv3olr3b06pg1fo01wcb2m8l"],["jade","mapbox://styles/ibmrave/cjv3lbxh51dp01fqrxlu47k74"],["chalcedony","mapbox://styles/ibmrave/cjv3mh3au0mxf1ftfq81e61x9"],["blue","mapbox://styles/ibmrave/cjv2f3dse0wez1fo5fc8ttb31"],["default-dark","mapbox://styles/ibmrave/ckcc0tohe6nnl1iqmppd60vsh"],["default","mapbox://styles/ibmrave/ckbur9hrd0f561ipd38ja1lu2"]]),l=e=>{const a=i("mapStyle",e.properties),t=i("map.style.url",e.properties);if(a){let s;switch(a.value){case"streets":s=a.value;break;case"default-dark":s="dark";break;case"default":s="light";break;case"basic":case"bright":case"satellite":case"satellite-streets":case"light":case"dark":case"outdoors":case"lapis":case"alabaster":case"obsidian":case"turquoise":case"jade":case"chalcedony":case"blue":s="custom",t?t.value=n.get(a.value):e.properties.push({id:"map.style.url",value:n.get(a.value)})}s&&(a.id="map.style.2",a.value=s)}},p=e=>{"com.ibm.vis.rave2bundletiledmap"===e.visId&&l(e)};t.exports={MAP_STYLES:n,up:e=>((r(e.layout,[])||o(e.widgets)||[]).forEach(e=>{e&&s(e)&&(e.properties||(e.properties=[]),p(e))}),Promise.resolve(e)),upgradeMapStyle:l,upgradeProperties:p,VERSION:2402}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/3000/EdgeCacheUpgrade",["require","exports","module"],(function(e,a,t){t.exports={up:e=>(e.features=e.features||{},e.features.LocalDataStore={autogenerateOnSave:!1,dataStoreDefinitions:[]},Promise.resolve(e)),VERSION:3e3}})),define("dashboard-core/js/lib/@waca/dashboard-version-upgrades/upgrades/all",["./2000/MoveWidgetsToModel","./2001/ContrastLabelUpgrade","./2002/AddEventGroupIdToDrillthroughDefinitions","./2003/VIDARelativePaddingPropUpgrade","./2004/MoveOriginalCustomGroupItemId","./2005/VIDADefaultNullValuesUpgrade","./2006/AddShowFooterToProperties","./2101/VCFChangeLocationUpgrade","./2102/ResponsiveTitleUpgrade","./2103/VIDAPieRendererUpgrade","./2104/ResponsiveWithRepeaterUpgrade","./2150/AutoGroupUpgrade","./2160/ShapeWidgetUpgrade","./2161/GroupedPropertyLocationUpgrade","./2162/AutoGroupColumnIdUpgrade","./2300/TreemapProperties","./2301/ValuesAsRowsProperties","./2302/DropdownListExtension","./2303/BarBundleUpgrade","./2304/LineAreaBundleUpgrade","./2400/TextFontStyleUpgrade","./2401/BubbleCompositeUpgrade","./2402/TiledmapStylesUpgrade","./3000/EdgeCacheUpgrade"],(function(){})),define("dashboard-core/js/upgradeBundle",(function(){}));