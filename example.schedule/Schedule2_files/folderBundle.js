/**
 * IBM Confidential OCO Source Materials IBM Business Platform: Content Apps
 * (C) Copyright IBM Corp. 2016, 2018
 *
 * The source code for this program is not published or otherwise divested of
 * its trade secrets, irrespective of what has been deposited with the U.S.
 * Copyright Office
 */

define("bacontentnav/common/ui/list_actions/ListAction",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../utils/ContentStoreObject","lodash"],function(e,i,t){"use strict";var n=e.extend({init:function(e){n.inherited("init",this,arguments),t.extend(this,e)},isItemVisible:function(e){var t=e.target.itemId.split(".").pop(),i=this.getListControl(e);return i&&i.contentView.isEnabledAction?i.contentView.isEnabledAction(t):!e.target.activeObject||!e.target.activeObject.contentView.isEnabledAction||e.target.activeObject.contentView.isEnabledAction(t)},onSelectItem:function(e){return this.getMissingData(e).then(function(e){this.execute(e)}.bind(this))},getRequiredPropertiesList:function(e){},getMissingData:function(n){var e=this.getRequiredPropertiesList(n);if(!e||!e.length)return Promise.resolve(n);var t=[];return e.forEach(function(e){n.target.activeObject.aSelectedContext[0][e]||t.push(e)}),t.length?n.glassContext.getCoreSvc(".Ajax").ajax({url:i.getSelfLink(n.target.activeObject.aSelectedContext[0]),dataType:"json",data:{fields:t.join(",")},type:"GET"}).then(function(i){return t.forEach(function(e){var t=i.data&&i.data.data[0]||{};-1!==e.indexOf("base")?n.target.activeObject.aSelectedContext[0].base=t.base:n.target.activeObject.aSelectedContext[0][e]=t[e]}.bind(this)),n}.bind(this)):Promise.resolve(n)},getListControl:function(e){return!this.oListControl&&e&&e.target&&e.target.activeObject&&(this.oListControl=e.target.activeObject.oListControl),this.oListControl},getSelectedContext:function(e){if(e&&e.target&&e.target.activeObject)return e.target.activeObject.aSelectedContext},getParentSlideout:function(e){return!this.parentSlideout&&e&&e.target&&e.target.activeObject&&(this.parentSlideout=e.target.activeObject.slideout),this.parentSlideout},hasStateID:function(e,t){var i=this.getListControl(e);return!(!i||!i.stateId||i.stateId!==t)}});return n}),define("bacontentnav/common/ui/list_actions/AddInlineAction",["./ListAction","../../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../../lib/@waca/core-client/js/core-client/utils/BrowserUtils","lodash"],function(e,o,s,t){"use strict";var i=e.extend({getDefaultName:function(){return""},getType:function(){return"text"},getClass:function(){return"inlineAdded"},destroy:function(){i.inherited("destroy",this,arguments),this._clearBlurTimeout()},_clearBlurTimeout:function(){window.clearTimeout(this._blurTimeout),this._blurTimeout=null},execute:function(){this._isCancelled=!1,this._handledSave=!1,this._clearBlurTimeout();var e=this.getListControl();return e.setInStandbyMode(!0),e.addRowData([{defaultName:this.getDefaultName(),type:this.getType(),uid:t.uniqueId("new_"+this.getType()+"_")}],!0).then(function(e){this._inlineTR=e[0],this._updateRowForInlineEdit(this._inlineTR)}.bind(this))},cancel:function(){if(!this._isCancelled&&this._inlineTR){this._isCancelled=!0;var e=this.getListControl();e.removeRow(this._inlineTR),e.setInStandbyMode(!1)}},_updateRowForInlineEdit:function(e){var t=this.getListControl();t.setInStandbyMode(!0),t.setRenderRowsOnScroll(!1);var i=$(e).height()*e.rowIndex-t._scrollNode.height()/2;t.getScrollingNode().scrollTop(i),this._scrollStartTime=new Date,this._createInput($(e))},_createInput:function(e){var t=this.getListControl(),i=e.find(".nameColumnDiv:first");e.addClass(this.getClass());var n=i.parent();n.empty();var a=$(document.createElement("input"));a.attr("type","text"),s.isIE11&&s.isIE11()?(a.attr("value",this.getDefaultName()),a.attr("onfocus","this.select()")):a.attr("placeholder",this.getDefaultName()),n.append(a),o.initElementForBidi(a[0]),a.on("keydown",function(e){switch(e.keyCode){case 13:this._handleBlur(e),e.stopPropagation();break;case 27:e.stopPropagation(),this.cancel()}}.bind(this)),a.on("blur",function(e){this._handleBlur(e)}.bind(this)),s.isIPad()?(a.on("clicktap",function(e){e.stopPropagation()}),$(window).on("clicktap.addInlineAction",function(){this._handleBlur({currentTarget:a}),$(window).off(".addInlineAction")}.bind(this))):(t.$el.find(".dataTables_scrollBody").on("scroll",null,{input:a,this:this},this._onScroll),a.focus())},_onScroll:function(e){var t=e.data.input,i=e.data.this;if(250<new Date-i._scrollStartTime)return t.blur(),!0;i._scrollStartTime=new Date},_handleBlur:function(e){this._blurTimeout||(this._blurTimeout=window.setTimeout(function(){this._onBlurTimeout(e)}.bind(this),300))},_onBlurTimeout:function(e){if(this._clearBlurTimeout(),this.getListControl().$el.find(".dataTables_scrollBody").off("scroll",null,this._onScroll),this._isCancelled)this.cancel();else if(!this._handledSave){var t=$(e.currentTarget).val(),i={defaultName:this._validateInput(t),type:this.getType()};this._handledSave=!0,this.sendAddRequest(i,this.getListControl())}},_validateInput:function(e){var t=e?e.trim():"";return(t=t.replace(/\s/g," "))||this.getDefaultName()},sendAddRequest:function(){return Promise.resolve(!0)}});return i}),define("bacontentnav/ui/dialogs/NameCollisionDialog",["../../lib/@waca/core-client/js/core-client/ui/core/View","../../nls/StringResource","ca-ui-carbon-toolkit","ca-ui-carbon","react","react-dom"],function(e,l,t,i,n,a){var c=null;return c=e.extend({_buttons:[],_replaceCallback:null,_keepBothCallback:null,_skipCallback:null,init:function(e,t,i){this._props={type:e,title:t,msg:i},c.inherited("init",this)},create:function(e,t,i,n,a){var o,s,r;this._replaceCallback=e,this._keepBothCallback=t,this._skipCallback=i,this._name=a,o=l.get("overwrite"),s=l.get("rename"),r=l.get("cancel"),this._buttons=[],this._buttons.push({text:r,handler:this.cancel,type:"secondary",defaultId:"cancelButton"}),this._keepBothCallback&&this._buttons.push({text:s,handler:this.keepBoth,type:"primary",defaultId:"keepBothButton"}),this._replaceCallback&&this._buttons.push({text:o,handler:this.replace,type:"primary",defaultId:"replaceButton"}),void 0===c.stack&&(c.stack=[]),void 0===c._repeatActionCallBack&&(c._repeatActionCallBack=null),void 0===c._doRepeatAction&&(c._doRepeatAction=!1),this.isLastInstance=!0,0!==c.stack.length&&(c.stack[c.stack.length-1].isLastInstance=!1),c.stack.push(this),1<c.stack.length&&(this._props.title=l.get("bulkNameCollision",{noOfItems:c.stack.length}))},replace:function(){this.checkRepeat("replace"),this._replaceCallback&&this._replaceCallback(),this.hide()},keepBoth:function(){this.checkRepeat("keepBoth"),this._keepBothCallback&&this._keepBothCallback(),this.hide()},skip:function(){this.checkRepeat("skip"),this._skipCallback&&this._skipCallback(),this.hide()},cancel:function(){this.checkRepeat("cancel"),this.hide()},hide:function(){c.stack=$.grep(c.stack,function(e){return e!==this}.bind(this)),0<c.stack.length?c.stack[0].doRepeat():(c._doRepeatAction=!1,c._repeatActionCallBack=null),this.removeDialog()},open:function(){1===c.stack.length&&(this._props.title+=" "+this._name),this.$el.addClass("nameCollisionDialog"),this.renderDialog()},checkRepeat:function(e){c._repeatActionCallBack=e},doRepeat:function(){switch(c._repeatActionCallBack){case"replace":this.replace();break;case"keepBoth":this.keepBoth();break;case"skip":this.skip();break;case"cancel":this.cancel()}},isLast:function(){return this.isLastInstance},removeDialog:function(){a.unmountComponentAtNode(this.el),this.$el.remove()},createButtons:function(){var t=[];return this._buttons.forEach(function(e){t.push(n.createElement(i.Button,{kind:e.type,onClick:e.handler.bind(this)},e.text))}.bind(this)),t},onKeyDown:function(e){27===e.keyCode&&this.cancel()},renderDialog:function(){document.body.appendChild(this.el),a.render(n.createElement(i.ComposedModal,{className:this._props.type,open:!0,size:"xs",onClose:function(){return!1},selectorPrimaryFocus:".bx--btn--primary:last-child",onKeyDown:this.onKeyDown.bind(this)},[n.createElement(i.ModalHeader,{title:this._props.title,buttonOnClick:this.cancel.bind(this)}),n.createElement(i.ModalBody,{},[n.createElement(t.Label,{className:this._props.type+"-textMsg",type:"caption",label:this._props.msg})]),n.createElement(i.ModalFooter,{},this.createButtons())]),this.el)}})}),define("bacontentnav/utils/ContentManagement",["lodash","../lib/@waca/core-client/js/core-client/utils/BidiUtil","./ContentServiceUrls","./ContentStoreObject","./GlassContextHelper","../nls/StringResource","../ui/dialogs/NameCollisionDialog"],function(o,r,n,l,c,d,s){"use strict";var e=null,t=function(){if(t.prototype._singletonInstance)return t.prototype._singletonInstance};return t.prototype._init=function(e){this._glassContext=e.glassContext,this._ajaxService=this._glassContext.getCoreSvc(".Ajax"),this._contentServicePromise=this._glassContext.getSvc(".Content"),this._options=e},t.prototype._onAllSettled=function(e,t){var i=o.filter(t,function(e){return e.isFulfilled()}).length;i&&(this._displayToast(e,i,t.length),this._refreshContent()),s.stack&&s.stack.length&&s.stack[s.stack.length-1].open()},t.prototype._allSettled=function(e){return Promise.all(e.map(function(e){return e.reflect()}))},t.prototype._displayToast=function(e,t,i){var n,a=1===i&&1===t;switch(e){case"copy":n=a?d.get("toastDoneCopyingSingular",{nameOfItem:r.enforceTextDirection(this._options.inputObjects[0].defaultName)}):d.get("toastDoneCopying",{noOfItems:t});break;case"shortcut":n=a?d.get("toastDoneShortcuttingSingular",{nameOfItem:r.enforceTextDirection(this._getShortCutName(this._options.inputObjects[0].defaultName))}):d.get("toastDoneShortcutting",{noOfItems:t});break;default:n=a?d.get("toastDoneMovingSingular",{nameOfItem:r.enforceTextDirection(this._options.inputObjects[0].defaultName)}):d.get("toastDoneMoving",{noOfItems:t})}c.displayToast(this._glassContext,n)},t.prototype.isNameConflict=function(e){var t=e&&e.jqXHR&&e.jqXHR.responseJSON&&e.jqXHR.responseJSON.errorCode||"";return!(!e||400!==e.code)&&(-1===t.indexOf("cmUpdateFailed1")?-1!==["cmDuplicateName","cmNameConflict","cmDuplicateObject"].indexOf(t):(e.jqXHR.responseJSON.messages||[]).some(function(e){return-1!==e.indexOf("CM-REQ-4036")}))},t.prototype.isUnknownUpdateError=function(e){return!!(e&&400===e.code&&e.jqXHR&&e.jqXHR.responseJSON)&&(e.jqXHR.responseJSON.messages||[]).some(function(e){return-1!==e.indexOf("CM-REQ-4335")})},t.prototype._getActionPromises=function(o,s){var e=[];return this._options.inputObjects.forEach(function(t){e.push(new Promise(function(i,n){var a={obj:t,data:s,action:o},e=this.ancestors&&"move"===o?{id:t.id,ancestors:this.ancestors,selfUrl:l.getSelfLink(t)}:null;this._ajaxService.ajax(this._getRequestOptions(a)).then(function(t){this._contentServicePromise.then(function(e){e.updateMRUEntry(t)}),i()}.bind(this,e)).catch(function(e,t){this.isNameConflict(t)?"shortcut"===a.action?(this._renameCopy(a,0,e),i()):(this.createConflictDialogSingle(a,e),n(t)):(this._handleError(t,a,0),n(t))}.bind(this,e))}.bind(this)))}.bind(this)),e},t.prototype._createURL=function(e,t){return e+"?"+$.param(t)},t.prototype._getRequestOptions=function(e,t){if(e){var i,n;if("copy"===e.action){n={recursive:"true",source:o.map(this._options.inputObjects,function(e){return l.getObjectId(e)}).join(",")},1<this._options.inputObjects.length&&(n.updateAction="fail"),!0===t?n.updateAction="replace":!1===t&&(n.updateAction="update");var a=e.rename?{defaultName:e.obj.defaultName}:{};i={contentType:"application/json",type:"POST",url:this._createURL(e.data,n),data:JSON.stringify(a)}}else if("shortcut"===e.action)i={contentType:"application/json",type:"POST",url:this._createURL(e.data,{}),data:JSON.stringify({type:"shortcut",target:[{type:"baseClass",searchPath:e.obj.searchPath||'storeID("'+e.obj.id+'")'}],defaultName:this._getShortCutName(e.obj.defaultName)})};else{e.rename&&(e.data.defaultName=e.obj.defaultName),i={dataType:"json",contentType:"application/json",type:"PUT",url:1==t?this._createURL(l.getSelfLink(e.obj),{updateAction:"replace"}):0==t?this._createURL(l.getSelfLink(e.obj),{updateAction:"update"}):l.getSelfLink(e.obj),data:JSON.stringify(e.data)}}return i}},t.prototype._getShortCutName=function(e){return d.get("shortcutToItem",{itemName:e})},t.prototype._refreshContent=function(){return this._options.listControl&&this._options.listControl.contentView&&this._options.listControl.contentView.onCopyMove?this._options.listControl.contentView.onCopyMove():this._options.listControl&&this._options.listControl.contentView&&this._options.listControl.contentView.refresh?this._options.listControl.contentView.refresh():void 0},t.prototype._getDestinationInfo=function(){var i=this._options.destinationUrl;return this._ajaxService.ajax({dataType:"json",contentType:"application/json",type:"GET",data:{fields:"id,defaultName,ancestors"},url:i}).then(function(e){var t=e.data&&e.data.data[0];return this.ancestors=l.getAncestors(t),this.ancestors&&i!==n.getMyFoldersURL()&&i!==n.getPublicFoldersURL()&&this.ancestors.push(l.buildAncestorEntry(t)),Promise.resolve(t)}.bind(this))},t.prototype._handleError=function(e,t,i){if(400===e.code){var n=t.obj&&t.obj.ancestors&&t.obj.ancestors[t.obj.ancestors.length-1],a="copy"===t.action&&n&&-1!==t.data.indexOf(n.id);if((a&&!t.isCopiedInsideParent||this.isNameConflict(e))&&i<20)return t.isCopiedInsideParent=a,i+=1,this._renameCopy(t,i)}c.showAjaxServiceError(this._glassContext,e)},t.prototype.moveObjects=function(e){return this._init(e),this._getDestinationInfo().then(function(e){var t={parent:[{id:l.getObjectId(e)}]};return this._allSettled(this._getActionPromises("move",t)).then(this._onAllSettled.bind(this,"move"))}.bind(this))},t.prototype.shortcutObjects=function(e){return this._init(e),this._allSettled(this._getActionPromises("shortcut",e.destinationItemsUrl)).then(this._onAllSettled.bind(this,"shortcut"))},t.prototype.copyMultipleObjects=function(e){var t={action:"copy",data:this._options.destinationItemsUrl};return this._ajaxService.ajax(this._getRequestOptions(t,e)).then(function(){c.displayToast(this._glassContext,d.get("toastDoneCopying",{noOfItems:this._options.inputObjects.length})),this._refreshContent()}.bind(this)).catch(function(e){e&&e.jqXHR&&this.isNameConflict(e)?this.createConflictDialogMulti(t).open():c.showAjaxServiceError(this._glassContext,e)}.bind(this))},t.prototype.copyObjects=function(e){return this._init(e),1<this._options.inputObjects.length?this.copyMultipleObjects():this._allSettled(this._getActionPromises("copy",e.destinationItemsUrl)).then(this._onAllSettled.bind(this,"copy"))},t.prototype.createConflictDialogSingle=function(e,t){this._destinationChildrenPromise=null;var i=new s("nameCollision",d.get("nameCollision",{nameOfItem:e.obj.defaultName}),d.get("nameCollisionMessage")),n=function(){return this._replaceExisting(e,t)}.bind(this),a=function(){return this._renameCopy(e,0,t)}.bind(this);return i.create(n,a,function(){return Promise.resolve()},e.action,e.obj.defaultName),i},t.prototype.createConflictDialogMulti=function(e){this._destinationChildrenPromise=null;var t=new s("nameCollisionGeneric",d.get("nameCollisionGeneric"),d.get("nameCollisionMessage")),i=function(){return this._glassContext.services.config.getConfigValue("ContentApps/updateTargetObjectWhenOverwrite").then(function(e){var t=!0;return"true"===e&&(t=!1),this.copyMultipleObjects(t)}.bind(this))}.bind(this);return t.create(i,null,function(){return Promise.resolve()},e.action,""),t},t.prototype._renameCopy=function(t,i,n){if(!i){var e=this._extractNameAndCount(t);t.obj.defaultName=e.name,i=e.count+1}var a=t.obj.defaultName;0<i&&(t.obj.defaultName+=" ("+i+")",t.rename=!0,n&&(n.defaultName=t.obj.defaultName));var o=this._getRequestOptions(t),s=t.obj.defaultName;return t.obj.defaultName=a,this._ajaxService.ajax(o).then(function(){this._contentServicePromise.then(function(e){e.updateMRUEntry(n)}),"copy"===t.action?c.displayToast(this._glassContext,d.get("toastDoneCopyingSingular",{nameOfItem:r.enforceTextDirection(t.obj.defaultName)})):"shortcut"!==t.action&&c.displayToast(this._glassContext,d.get("RenameFileSuccessfully",{originalNameOfObject:r.enforceTextDirection(t.obj.defaultName),newNameOfObject:r.enforceTextDirection(s)})),this._refreshContent()}.bind(this)).catch(function(e){this._handleError(e,t,i)}.bind(this))},t.prototype._extractNameAndCount=function(e){var t=e.obj.defaultName,i=t.match("\\s\\([1-9]\\d*\\)"),n={name:t,count:0};if(null!==i){i=i[i.length-1];var a=parseInt(i.substring(2,i.length-1),10);"number"==typeof a&&(n.name=t.replace(i,""),n.count=a)}return n},t.prototype._replaceExisting=function(n,a){return this._getDestinationChildrenInfo(n.action).then(function(e){e.data.forEach(function(i){if(i.defaultName===n.obj.defaultName)return this._glassContext.getCoreSvc(".Config").getConfigValue("ContentApps/updateTargetObjectWhenOverwrite").then(function(e){this._contentServicePromise.then(function(e){e.removeFromMRU(i)});var t=!0;return"true"===e&&i.type===n.obj.type&&(t=!1),this._ajaxService.ajax(this._getRequestOptions(n,t)).then(function(){this._contentServicePromise.then(function(e){e.updateMRUEntry(a)}),c.displayToast(this._glassContext,d.get("OverwriteFileSuccessfully",{nameOfObject:r.enforceTextDirection(n.obj.defaultName)})),this._refreshContent()}.bind(this)).catch(function(e){this._handleError(e,n,0)}.bind(this))}.bind(this))}.bind(this))}.bind(this))},t.prototype._getDestinationChildrenInfo=function(e){var t;this._destinationChildrenPromise||(t="copy"===e||"shortcut"===e?this._options.destinationItemsUrl+"?fields=ancestors,defaultName":this._options.destinationUrl+"/items",this._destinationChildrenPromise=this._ajaxService.ajax({dataType:"json",contentType:"application/json",type:"GET",url:t,cache:!1}).then(function(e){return e&&e.data}));return this._destinationChildrenPromise},function(){return e||(e=new t),e}()}),define("bacontentnav/utils/ActionHelper",["jquery","./ContentManagement"],function(o,s){"use strict";return{handleAddItemError:function(e,t,i,n){if(400!==i.code)return 500===i.code&&255<t.defaultName.length&&(i=this._applyErrorMessage(i,n.nameLengthError)),Promise.reject(i);if(s.isNameConflict(i)){var a=this._getNewNameString(e,t);return this.count<20?(t.defaultName=a,Promise.resolve(t)):(i=this._applyErrorMessage(i,n.itemsOverLimit),Promise.reject(i))}return Promise.reject(i)},_getNewNameString:function(e,i){var t,n=[];e._dTable.fnGetData().forEach(function(e){var t=e.defaultName.toLowerCase();0===t.indexOf(i.defaultName.toLowerCase())&&n.push(t)});for(var a=1;a<=n.length&&(t=i.defaultName+" ("+a+")",-1!==o.inArray(t.toLowerCase(),n));a++);return this.count=a,t},_applyErrorMessage:function(e,t){var i=e.jqXHR&&e.jqXHR.responseJSON||{};return i.messages.splice(1,1),i.messages[0]=t,e}}}),define("bacontentnav/common/ui/list_actions/AddFolderAction",["jquery","./AddInlineAction","../../../utils/ActionHelper","../../../nls/StringResource","../../../utils/ContentManagement","../../../utils/GlassContextHelper","../../../lib/@waca/core-client/js/core-client/utils/BidiUtil"],function(e,t,a,o,i,s,r){"use strict";return t.extend({getDefaultName:function(){return o.get("newFolderDefaultName")},getType:function(){return"folder"},getClass:function(){return"newFolderRow"},_addFolder:function(i,n){var e=i.defaultName,t={headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",url:n.url,data:JSON.stringify(i)};return n.addFolderNameForFocus=e,n.glassContext.getCoreSvc(".Ajax").ajax(t).then(function(){s.displayToast(n.glassContext,o.get("toastCreateNewFolder",{nameOfFolder:r.enforceTextDirection(e)}))}).catch(function(e){var t={itemsOverLimit:o.get("itemsOverLimit",{itemName:i.defaultName}),nameLengthError:o.get("errorMessageLengthFolderName")};return a.handleAddItemError(n,i,e,t).then(function(){return this._addFolder(i,n)}.bind(this)).catch(function(e){return n.updateDatatable(),s.showAjaxServiceError(n.glassContext,e),Promise.reject(e)})}.bind(this))},sendAddRequest:function(e,t){return-1<e.defaultName.indexOf("'")&&-1<e.defaultName.indexOf('"')?(t.cancelActions(),s.displayToast(t.glassContext,o.get("errorMessageApostropheError"),{type:"error"})):this._addFolder(e,t).then(function(){t.updateDatatable()})}})}),define("bacontentnav/utils/MRUHelper",["../nls/StringResource","./ContentServiceUrls"],function(e,t){return{requiresAssetVerification:function(e){return e&&!0===e.requiresAssetVerification},showNoAccessDialog:function(t,i){if(t&&i){t.appController.Glass.showMessage(e.get("noAccessRecentMsg"),e.get("noAccessRecent"),"info",["cancel","ok"],void 0,function(e){"ok"===e.btn&&t.getSvc(".Content").then(function(e){e.removeFromMRU({id:i})}).catch(function(e){t.getCoreSvc(".Logger").error(e)})})}},verifyAccess:function(i,n){if(i&&n){var e={url:t.getBaseObjectsURL()+"/"+n,dataType:"json",data:{fields:"permissions"}};return i.getCoreSvc(".Ajax").ajax(e).then(function(e){var t=e.data.data[0];return!(!t||0===t.permissions.length)||(this.showNoAccessDialog(i,n),!1)}.bind(this)).catch(function(e){return i.getCoreSvc(".Logger").error(e),this.showNoAccessDialog(i,n),!1}.bind(this))}return Promise.resolve(!1)}}}),define("bacontentnav/common/ui/list_actions/DefaultAction",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../utils/ContentServiceUrls","../../../utils/ContentStoreObject","../../../utils/GlassContextHelper","../../../utils/MRUHelper","../../../utils/UIHelper","../../../nls/StringResource","lodash"],function(e,i,n,a,o,t,s,r){"use strict";var l=e.extend({init:function(e){l.inherited("init",this,arguments),r.extend(this,e)},canExecute:function(){var e=this.listControl&&this.listControl.contentView||this.contentView;return o.requiresAssetVerification(e)?Promise.resolve(!0):this._canExecute()},execute:function(){var t=this.listControl&&this.listControl.contentView||this.contentView;return this._getData(t).then(function(e){if(this.oData=e,!o.requiresAssetVerification(t))return this.oData?this._executeAction():Promise.reject(new Error("No data for default action"));this._canExecute().then(function(e){return e?this._executeAction():(o.showNoAccessDialog(this.glassContext,this.oData&&this.oData.id||this.storeId),this.oData?this.glassContext.getSvc(".Content").then(function(e){e.addToMRU(this.oData)}.bind(this)):Promise.resolve())}.bind(this))}.bind(this))},_updateMRU:function(){return this.glassContext.getSvc(".Content").then(function(e){n.setGlassContext(this.glassContext),e.addToMRU(this.oData)}.bind(this))},_canExecute:function(){return this.oData?Promise.resolve(this.glassContext.appController.canExecuteAction(this._getActionId(),this._buildPayload())):Promise.resolve(!1)},_executeAction:function(){return n.getPermissions(this.oData,!0).then(function(e){this.oData[n.PERMISSIONS]=e;var t=this._buildPayload(),i=this._getActionId();return this.glassContext.appController.performAction(i,t).then(function(){this.glassContext.appController.currentAppView?this.glassContext.appController.currentAppView.onViewRendered().then(function(){this._updateMRU()}.bind(this)):this._updateMRU()}.bind(this)).catch(function(e){return this.glassContext.getCoreSvc(".Logger").error(e),this._showToastOnLaunchError(this.oData),Promise.reject(e)}.bind(this))}.bind(this))},_getActionId:function(){var e=n.getType(this.oData);return null===e?null:"com.ibm.bi.contentApps.defaultAction."+e},_getData:function(t){if(this.storeId=this.storeId||this.oData&&this.oData.id,this.oData&&!o.requiresAssetVerification(t))return Promise.resolve(this.oData);if(this.storeId){var e={url:i.getBaseObjectsURL()+"/"+this.storeId,dataType:"json",data:t&&t.getURLParameters&&t.getURLParameters()};return this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){return Promise.resolve(e.data&&e.data.data[0])}).catch(function(e){return o.requiresAssetVerification(t)?Promise.resolve():(a.showAjaxServiceError(this.glassContext,e),Promise.reject(e))}.bind(this))}return Promise.reject(new Error("No data or storeId to do the action with."))},_buildPayload:function(){return{glassContext:this.glassContext,target:{activeObject:{oListControl:this.listControl,aSelectedContext:[this.oData]},itemId:this._getActionId()}}},_showToastOnLaunchError:function(e){a.displayToast(this.glassContext,s.get("toastLaunchPerspectiveError",{objectType:t.getTypeNameFromObject(e)}),{type:"error"})}});return l}),define("bacontentnav/common/ui/list_actions/DefaultActionHandler",["../list_actions/DefaultAction","../../../utils/ContentStoreObject","../../../utils/UIHelper"],function(s,r,a){"use strict";return{executeAction:function(e){var t=e.oData,i=e.listControl,n=e.glassContext;return i.isMultitouchActive()||i.isInStandbyMode()||(i.contentView.propertiesOverride=!0,a.isContainer(r.getType(t))||n.appController.hideSlideOut(),e.action.execute()),Promise.resolve(!0)},executeDefaultAction:function(o){return new Promise(function(i){var e=o.oData,t=o.listControl,n=o.glassContext,a=new s({glassContext:n,oData:e,listControl:t});o.action=a,(e[r.PERMISSIONS]?a.canExecute():Promise.resolve(!0)).then(function(e,t){t&&this.executeAction(e),i()}.bind(this,o)).catch(function(){i()})}.bind(this))}}}),define("text!bacontentnav/common/templates/ListControlTemplate.html",[],function(){return'<div id="listContainer{{=it.id}}" class="ca-listContainer">\n\t<table summary="{{=it.accessibleLabel}}" aria-label="{{=it.accessibleLabel}}" id="{{=it.id}}" class="listControl">\n\t\t<thead>\n\t\t\t<tr tabindex="-1">\n\t\t\t\t{{~it.columns :column}}\n\t\t\t\t\t<th class="cth_{{=(column.name + \'_\' + it.id)}}" scope="col">\n\t\t\t\t\t\t<div class="columnText{{?column.headerClass}} {{=column.headerClass}}{{?}}">\n\t\t\t\t\t\t\t<div class="{{? it.sort }} sortable {{=(\'cdiv_\' + column.name + \'_\' + it.id)}}{{?}} {{? column.hiddenLabel }} hidden{{?}}">{{? column.label }}{{=column.label}}{{?? column.hiddenLabel }}{{=column.hiddenLabel}}{{??}}&nbsp;{{?}}\n\t\t\t\t\t\t\t<div class="sort_underline"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="columnSpacer"></div>\n\t\t\t\t\t</th>\n\t\t\t\t{{~}}\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t</tbody>\n\t</table>\n</div>\n'}),define("text!bacontentnav/common/templates/EmptyListTemplate.html",[],function(){return'<div class="emptyTableContent{{?it.shortTable == true}} shortTable{{?}}">\n\t{{?it.emptyIcon}}\n\t<div class="emptyTableImage {{?it.iconStyle}} {{=it.iconStyle}}{{?}}">\n\t\t<svg class="svgIcon {{?it.isSpinner}}loadingSpinner--animation{{?}}" role="img" focusable="false"><use style="pointer-events:none;" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href={{=it.emptyIcon}}></use></svg>\n\t</div>\n\t{{?}}\n\t<div class="emptyTableTextBlock">\n\t\t<div class="emptyTableText" aria-label="{{=it.text}}" tabindex="0">{{=it.text}}</div>\n\t\t{{?it.textParagraph}}\n\t\t\t<div class="emptyTableTextParagraph" aria-label="{{=it.textParagraph}}" tabindex="0">{{=it.textParagraph}}</div>\n\t\t{{?}}\n\t</div>\n</div>\n'}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"));else if("function"==typeof define&&define.amd)define("bacontentnav/lib/@ba/ba-graphics/dist/illustrations-js/empty-folder_128",["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"],t);else{var i=t("object"==typeof exports?require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"):e["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}("undefined"!=typeof self?self:this,function(i){return webpackJsonPBaGraphics([113],{"099720445ff350ff6c39":function(e,t,i){"use strict";var n=i("9689a9c94ae38b47fa2c"),a=i.n(n),o=i("9ce58a7deea14f49ef01"),s=i.n(o),r=new a.a({id:"empty-folder_128_v7",use:"empty-folder_128_v7-usage",viewBox:"0 0 200 200",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" id="empty-folder_128_v7"><circle class="ba-graphics-neutral-white4" cx="100" cy="100" r="100" /><path class="ba-graphics-white" d="M2.07 170.06L6.83 170.06" /><path class="ba-graphics-gray60" d="M6.83,172.06H2.07a2,2,0,1,1,0-4H6.83a2,2,0,1,1,0,4Z" /><path class="ba-graphics-white" d="M14.92 170.06L197.98 170.06" /><path class="ba-graphics-gray60" d="M198,172.06H14.92a2,2,0,1,1,0-4H198a2,2,0,0,1,0,4Z" /><circle class="ba-graphics-gray60" cx="104.14" cy="22.46" r="2" /><circle class="ba-graphics-gray60" cx="133.32" cy="37.1" r="2" /><path class="ba-graphics-gray60" d="M62.85,36.1a4,4,0,0,0,4-4,1,1,0,1,1,2,0,4,4,0,0,0,4,4,1,1,0,0,1,0,2,4,4,0,0,0-4,4,1,1,0,0,1-2,0,4,4,0,0,0-4-4,1,1,0,0,1,0-2Z" /><rect class="ba-graphics-gray40" x="28.16" y="68.05" width="144" height="104" rx="2" /><path class="ba-graphics-gray60" d="M168.16,72.05v96h-136v-96h136m2-4h-140a2,2,0,0,0-2,2v100a2,2,0,0,0,2,2h140a2,2,0,0,0,2-2v-100a2,2,0,0,0-2-2Z" /><g style="opacity:.1"><path class="ba-graphics-gray80" d="M170.16,168h-140a2,2,0,0,1-2-2V79a2,2,0,0,1,2-2H48.39a4,4,0,0,1,3,1.31L59,86.71a4.17,4.17,0,0,0,3,1.35H170.16a2,2,0,0,1,2,2v76A2,2,0,0,1,170.16,168Z" /><path class="ba-graphics-gray80" d="M48.39,81h0L56,89.4a8.21,8.21,0,0,0,5.8,2.66H168.16v72h-136V81H48.39m121.9,11h0M48.39,77H30.16a2,2,0,0,0-2,2v87a2,2,0,0,0,2,2h140a2,2,0,0,0,2-2V90a2,2,0,0,0-1.94-2H61.93a4.17,4.17,0,0,1-3-1.35l-7.62-8.38a4,4,0,0,0-3-1.31Z" /></g><path class="ba-graphics-white" d="M170.16,172.05h-140a2,2,0,0,1-2-2v-87a2,2,0,0,1,2-2H48.39a4,4,0,0,1,3,1.31L59,90.75a4,4,0,0,0,3,1.3H170.16a2,2,0,0,1,2,2v76A2,2,0,0,1,170.16,172.05Z" /><path class="ba-graphics-gray60" d="M48.39,85.05h0L56,93.44a8,8,0,0,0,5.92,2.61H168.16v72h-136v-83H48.39m0-4H30.16a2,2,0,0,0-2,2v87a2,2,0,0,0,2,2h140a2,2,0,0,0,2-2v-76a2,2,0,0,0-2-2H61.93a4,4,0,0,1-3-1.3l-7.62-8.39a4,4,0,0,0-3-1.31Z" /><path class="ba-graphics-white" d="M88.66 148.74L107.74 148.74" /><path class="ba-graphics-gray60" d="M107.74,150.74H88.65a2,2,0,0,1,0-4h19.09a2,2,0,1,1,0,4Z" /><circle class="ba-graphics-gray60" cx="75.32" cy="137.69" r="3.47" /><circle class="ba-graphics-gray60" cx="121" cy="137.69" r="3.47" /></symbol>'});s.a.add(r),t.a=r},"6873601dfe1d9459c1a9":function(e,t){e.exports=i},"9616210854fe62536956":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6873601dfe1d9459c1a9"),a=(i.n(n),i("099720445ff350ff6c39"));t.default=a.a}},["9616210854fe62536956"])}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"));else if("function"==typeof define&&define.amd)define("bacontentnav/lib/@ba/ba-graphics/dist/illustrations-js/search-results_128",["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"],t);else{var i=t("object"==typeof exports?require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"):e["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}("undefined"!=typeof self?self:this,function(i){return webpackJsonPBaGraphics([35],{"6873601dfe1d9459c1a9":function(e,t){e.exports=i},b86a89ab812875d2eaf9:function(e,t,i){"use strict";var n=i("9689a9c94ae38b47fa2c"),a=i.n(n),o=i("9ce58a7deea14f49ef01"),s=i.n(o),r=new a.a({id:"search-results_128_v7",use:"search-results_128_v7-usage",viewBox:"0 0 200 200",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" id="search-results_128_v7"><circle class="ba-graphics-neutral-white4" cx="100" cy="100" r="100" /><path class="ba-graphics-white" d="M14.97 170.08L150.63 170.08" /><path class="ba-graphics-gray60" d="M150.63,172.08H15a2,2,0,1,1,0-4H150.63a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M2 170.08L6.97 170.08" /><path class="ba-graphics-gray60" d="M7,172.08H2a2,2,0,0,1,0-4H7a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M179.03 170.08L198 170.08" /><path class="ba-graphics-gray60" d="M198,172.08H179a2,2,0,0,1,0-4h19a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M158.63 170.08L171.03 170.08" /><path class="ba-graphics-gray60" d="M171,172.08h-12.4a2,2,0,0,1,0-4H171a2,2,0,0,1,0,4Z" /><circle class="ba-graphics-gray60" cx="55.73" cy="70.9" r="2" /><circle class="ba-graphics-gray60" cx="99.29" cy="34.77" r="2" /><path class="ba-graphics-gray60" d="M54.38,36.33a4,4,0,0,0,4-4,1,1,0,0,1,2,0,4,4,0,0,0,4,4,1,1,0,0,1,0,2,4,4,0,0,0-4,4,1,1,0,0,1-2,0,4,4,0,0,0-4-4,1,1,0,0,1,0-2Z" /><path class="ba-graphics-gray60" d="M134.42,23.77a2.65,2.65,0,0,0,2.65-2.65.66.66,0,0,1,1.32,0A2.65,2.65,0,0,0,141,23.77a.66.66,0,0,1,0,1.32,2.65,2.65,0,0,0-2.65,2.65.66.66,0,0,1-1.32,0,2.65,2.65,0,0,0-2.65-2.65.66.66,0,1,1,0-1.32Z" /><path class="ba-graphics-neutral-white4" d="M82.18,121.06l1,1.08a2.85,2.85,0,0,1-.23,4L59.33,147.26a2.86,2.86,0,0,1-2.06.73,2.89,2.89,0,0,1-2-1l-5.93-6.64a2.84,2.84,0,0,1,.22-4l23.62-21.14a2.89,2.89,0,0,1,2.07-.72,2.82,2.82,0,0,1,2,1l1.16,1.3,4.95-4.36a38.26,38.26,0,1,1,3.73,4.3Z" /><path class="ba-graphics-gray60" d="M57.43,150.2h-.29a5.06,5.06,0,0,1-3.49-1.69l-5.93-6.63a5.07,5.07,0,0,1,.4-7.14L71.74,113.6a5.05,5.05,0,0,1,6.84.09l1.82-1.61A40.65,40.65,0,1,1,87,119.7l-1.79,1.58a5.07,5.07,0,0,1-.87,6.51L60.8,148.91A5.12,5.12,0,0,1,57.43,150.2Zm17.68-33.48a.67.67,0,0,0-.43.16L51.07,138a.64.64,0,0,0-.22.48.66.66,0,0,0,.16.43L57,145.57a.62.62,0,0,0,.44.21.67.67,0,0,0,.47-.16l23.57-21.11a.65.65,0,0,0,.06-.91l-2.42-2.73,8.1-7.18,1.47,1.46a36.11,36.11,0,1,0-3.52-4.05l1.21,1.63-8.12,7.17-2.62-3a.63.63,0,0,0-.44-.22Z" /><circle class="ba-graphics-white" cx="114.08" cy="89.49" r="27.3" /><path class="ba-graphics-gray60" d="M114.08,118.91a29.42,29.42,0,1,1,29.41-29.42A29.45,29.45,0,0,1,114.08,118.91Zm0-54.61a25.2,25.2,0,1,0,25.2,25.19A25.22,25.22,0,0,0,114.08,64.3Z" /></symbol>'});s.a.add(r),t.a=r},f0f5b3d0dafd8138f35f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6873601dfe1d9459c1a9"),a=(i.n(n),i("b86a89ab812875d2eaf9"));t.default=a.a}},["f0f5b3d0dafd8138f35f"])}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"));else if("function"==typeof define&&define.amd)define("bacontentnav/lib/@ba/ba-graphics/dist/illustrations-js/recent-activity_128",["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"],t);else{var i=t("object"==typeof exports?require("@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"):e["@ba/ba-graphics/dist/illustrations-js/ba-graphics-icons-commons.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}("undefined"!=typeof self?self:this,function(i){return webpackJsonPBaGraphics([50],{"06ed3a87abd189187ff5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6873601dfe1d9459c1a9"),a=(i.n(n),i("2ad33f842a20668c416d"));t.default=a.a},"2ad33f842a20668c416d":function(e,t,i){"use strict";var n=i("9689a9c94ae38b47fa2c"),a=i.n(n),o=i("9ce58a7deea14f49ef01"),s=i.n(o),r=new a.a({id:"recent-activity_128_v7",use:"recent-activity_128_v7-usage",viewBox:"0 0 200 200",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" id="recent-activity_128_v7"><circle class="ba-graphics-neutral-white4" cx="100" cy="100" r="100" /><path class="ba-graphics-white" d="M14.97 170.08L150.63 170.08" /><path class="ba-graphics-gray60" d="M150.63,172.08H15a2,2,0,1,1,0-4H150.63a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M2 170.08L6.97 170.08" /><path class="ba-graphics-gray60" d="M7,172.08H2a2,2,0,0,1,0-4H7a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M179.03 170.08L198 170.08" /><path class="ba-graphics-gray60" d="M198,172.08H179a2,2,0,0,1,0-4h19a2,2,0,0,1,0,4Z" /><path class="ba-graphics-white" d="M158.63 170.08L171.03 170.08" /><path class="ba-graphics-gray60" d="M171,172.08h-12.4a2,2,0,0,1,0-4H171a2,2,0,0,1,0,4Z" /><circle class="ba-graphics-gray60" cx="137.78" cy="38.33" r="2" /><circle class="ba-graphics-gray60" cx="105.47" cy="18.8" r="2" /><path class="ba-graphics-gray1" d="M67.62,122.77H18.1V110.84H67.62Z" /><path class="ba-graphics-gray60" d="M69.1,124.25H16.62V109.36H69.1Zm-49.53-3H66.15v-9H19.57Z" /><path class="ba-graphics-gray60" d="M42,118.34H25.68a1.48,1.48,0,0,1,0-3H42a1.48,1.48,0,0,1,0,3Z" /><path class="ba-graphics-gray60" d="M53.77,118.34H46.38a1.48,1.48,0,0,1,0-3h7.39a1.48,1.48,0,0,1,0,3Z" /><path class="ba-graphics-gray60" d="M66,28.18a4,4,0,0,0,4-4,1,1,0,0,1,2,0,4,4,0,0,0,4,4,1,1,0,0,1,0,2,4,4,0,0,0-4,4,1,1,0,1,1-2,0,4,4,0,0,0-4-4,1,1,0,0,1,0-2Z" /><circle class="ba-graphics-white" cx="100" cy="100" r="51.75" /><path class="ba-graphics-gray60" d="M100,153.75A53.75,53.75,0,1,1,153.75,100,53.81,53.81,0,0,1,100,153.75Zm0-103.5A49.75,49.75,0,1,0,149.75,100,49.81,49.81,0,0,0,100,50.25Z" /><path class="ba-graphics-gray60" d="M132.26,134.26a2,2,0,0,1-1.41-.58l-4.75-4.75a2,2,0,0,1,2.83-2.83l4.75,4.75a2,2,0,0,1-1.42,3.41Z" /><path class="ba-graphics-gray60" d="M72.49,74.49a2,2,0,0,1-1.42-.59l-4.75-4.75a2,2,0,0,1,2.83-2.83l4.75,4.75a2,2,0,0,1-1.41,3.42Z" /><path class="ba-graphics-gray60" d="M67.74,134.26a2,2,0,0,1-1.42-3.41l4.75-4.75a2,2,0,0,1,2.83,2.83l-4.75,4.75A2,2,0,0,1,67.74,134.26Z" /><path class="ba-graphics-gray60" d="M127.51,74.49a2,2,0,0,1-1.41-3.42l4.75-4.75a2,2,0,0,1,2.83,2.83l-4.75,4.75A2,2,0,0,1,127.51,74.49Z" /><path class="ba-graphics-gray60" d="M61.09,102H54.37a2,2,0,0,1,0-4h6.72a2,2,0,0,1,0,4Z" /><path class="ba-graphics-gray60" d="M145.63,102h-6.72a2,2,0,0,1,0-4h6.72a2,2,0,0,1,0,4Z" /><path class="ba-graphics-gray60" d="M100,63.09a2,2,0,0,1-2-2V54.37a2,2,0,0,1,4,0v6.72A2,2,0,0,1,100,63.09Z" /><path class="ba-graphics-gray60" d="M100,147.63a2,2,0,0,1-2-2v-6.72a2,2,0,0,1,4,0v6.72A2,2,0,0,1,100,147.63Z" /><path class="ba-graphics-gray60" d="M100.1,97.06a2,2,0,0,1-2-2V70.57a2,2,0,0,1,4,0V95.06A2,2,0,0,1,100.1,97.06Z" /><path class="ba-graphics-gray60" d="M117.88,102.2H104.75a2,2,0,0,1,0-4h13.13a2,2,0,0,1,0,4Z" /><path class="ba-graphics-gray60" d="M100,106.15a6.15,6.15,0,1,1,6.15-6.15A6.16,6.16,0,0,1,100,106.15Zm0-8.3a2.15,2.15,0,1,0,2.15,2.15A2.16,2.16,0,0,0,100,97.85Z" /><g style="opacity:.1"><path class="ba-graphics-gray80" d="M183.25,91.68H133.72V79.74h49.53Z" /><path class="ba-graphics-gray80" d="M185.25,93.68H131.72V77.74h53.53Zm-49.53-4h45.53V81.74H135.72Z" /></g><path class="ba-graphics-white" d="M181.76,90.18H132.23V78.24h49.53Z" /><path class="ba-graphics-gray60" d="M183.24,91.65H130.75V76.76h52.49Zm-49.53-3h46.57v-9H133.71Z" /><path class="ba-graphics-gray60" d="M156.08,85.74H139.82a1.48,1.48,0,1,1,0-3h16.26a1.48,1.48,0,0,1,0,3Z" /><path class="ba-graphics-gray60" d="M167.91,85.74h-7.39a1.48,1.48,0,1,1,0-3h7.39a1.48,1.48,0,0,1,0,3Z" /></symbol>'});s.a.add(r),t.a=r},"6873601dfe1d9459c1a9":function(e,t){e.exports=i}},["06ed3a87abd189187ff5"])}),define("bacontentnav/common/ui/ListControl",["doT","jquery","require","lodash","./list_actions/AddFolderAction","./list_actions/DefaultActionHandler","text!../templates/ListControlTemplate.html","text!../templates/EmptyListTemplate.html","../../lib/@ba/ba-graphics/dist/illustrations-js/empty-folder_128","../../lib/@ba/ba-graphics/dist/illustrations-js/search-results_128","../../lib/@ba/ba-graphics/dist/illustrations-js/recent-activity_128","../../nls/StringResource","../../utils/UIHelper","../../utils/ContentStoreObject","../../lib/@waca/baglass/js/baglass/app/ContentView","../../lib/@waca/core-client/js/core-client/utils/Utils","../../lib/@waca/core-client/js/core-client/utils/Deferred","../../lib/@waca/core-client/js/core-client/ui/Menu","datatables","datatables-natural"],function(n,c,e,r,t,a,i,o,s,l,d,u,h,p,m,g,b,f){"use strict";var _={};c(window).on("resize",function(){c.each(_,function(e,t){t.resize()})});var v=m.extend({sort:!0,sortIndexes:null,disableColumnHeaders:!1,propertiesSpacing:null,dataTableOptions:{},aSelectedRows:[],oSelectedData:void 0,multiSelect:!0,_isShowingEmptyMessage:!1,rightClickContextMenu:!0,_showLoadBuffer:500,browserResize:!0,spinnerTimeout:null,init:function(e){this._initialOptions=r.extend({},e),this._lastShiftSelectedRow=null,this.aSelectedRows=[],this.wasSelected=!1,this.showEmptyNewFolderButton=!0,this.parentHasWritePermission=!0,this.setFocusOnDraw=!0,this.emptyFolderString=u.get("emptyTableContentMessage"),this.textParagraph&&(this.emptyParagraphString=this.textParagraph),this._scrollTop=null,v.inherited("init",this,arguments),this.ajaxProp="data",this.accessibleLabel=e.accessibleLabel||"",r.extend(this,e),this.url=this.url||" ",this.getData=this.getJSONDataCallback,this._id=r.uniqueId("lc_"),(_[this._id]=this)._renderedRowCount=this._showLoadBuffer,this._renderRowsOnScroll=!0,this._showWorking=!1,this._cancelDebounce=!1,this.debounceRate=e.debounceRate||300,this._emptyIcon=e.emptyIcon,this._calcExtraNonTableHeight=e.calcExtraNonTableHeight,this._groupByColumnAPI=e.groupByColumnAPI,this.oSelectedData={}},createColumnObject:function(e,t){return new t(c.extend(e,{listControl:this,glassContext:this.glassContext}))},_loadModule:function(n){return new Promise(function(t,i){"function"==typeof n?t(n):e([n],function(e){e?t(e):(this.logger.error("Module id is not set"),i({msg:" Module id is not set",causedBy:"Module id is not set"}))}.bind(this),function(e){this.logger.error(n+" id is not loaded"),i({msg:n+" is not loaded",causedBy:e})}.bind(this))}.bind(this))},render:function(){var t=[];return c.each(this.columns,function(i,e){if(e.type&&-1===e.type.indexOf("natural")||e.module){var n=e,a=e.module||"./list_columns/"+e.type;t.push(new Promise(function(t){this._loadModule(a).then(function(e){delete n.type,this.createColumnObject(n,e).getSpec().then(function(e){r.extend(n,e),n.aTargets=[i],t()})}.bind(this))}.bind(this)))}}.bind(this)),Promise.all(t).then(function(){var e=n.template(i)({id:this._id,accessibleLabel:this.accessibleLabel,columns:this.columns,sort:this.sort});return this.$el.append(e),this._renderDataTable().then(function(){return this._registerEvents(),this}.bind(this))}.bind(this)).catch(function(e){throw this.showEmptyTableMessage(),e}.bind(this))},_registerEvents:function(){this.rightClickContextMenu&&c("#"+this._id+" tbody").on("contextmenu","tr",function(e){if(c(e.target).is("INPUT"))return!0;if(this._hideSlideoutChildrenToTheRight(),this.contentView.slideout&&this.contentView.slideout.child&&this.contentView.slideout.child.hideHandler)return!1;var t=e.currentTarget;return c(t).hasClass("selected")||this.selectSingleRow(t),(null===this.aSelectedRows||this.aSelectedRows.length<1)&&(!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(this.getRowData(t)))&&(this.aSelectedRows=[t],this._updateSelectedData()),!(this.aSelectedRows&&0<this.aSelectedRows.length)||(e.stopPropagation(),this._updateSizeForSelection(),c(t).addClass("selected"),this._toggleCheckBox(t,!0),this.getActionPayload(e).then(function(e){this.glassContext.appController.showContextMenu(e)}.bind(this)),!1)}.bind(this)),this._dTable.on("primaryaction","tr",this.handleClick.bind(this)),this._dTable.on("dblclick","tr",this.handleDoubleClick.bind(this)),this._dTable.on("hold",this.handleHoldEvent.bind(this))},_processRowForMoreDataLoad:function(e){var t=e.dataTable.find(e.currentRow).index()+1;e.lastRenderedRow<=t+1&&this._handleReRender()},_handleReRender:function(){if(this._hasVerticalScrollbar()){this.setRenderRowsOnScroll(!1);var e=this._dTable.fnGetData();if(this._renderedRowCount>=e.length)return this.setRenderRowsOnScroll(!0),this._renderedRowCount=e.length,void this._scrollNode.find(".listControlLoadingMore").css("display","none");this._scrollNode.find(".loadingAnimation").css("display","block"),this._renderExtraRows(this._renderedRowCount,this._showLoadBuffer).then(function(){this.setRenderRowsOnScroll(!0),this._scrollNode.find(".loadingAnimation").css("display","none")}.bind(this))}},getContextMenuId:function(){return this.contextMenuId?this.contextMenuId:"com.ibm.bi.contentApps.listViewMenu"},_getTargetPromise:function(n){var a=this.getSelectedObjects();return a&&1===a.length&&h.hasSource(a[0])?p.getTargetSearchPath(a[0],!0).then(function(i){if(i)return this.glassContext.getSvc(".Content").then(function(e){return this.glassContext.getCoreSvc(".Ajax").ajax({url:e.getSearchPathUrl(p.getSearchPath(i)),dataType:"json",data:this.urlParameters}).then(function(e){var t=e&&e.data&&e.data.data;return t&&1===t.length?(n.activeObject.targetSelectedContext=a,Promise.resolve(t)):(this.logger.warn("Asset with target does not return proper source target: "+i&&i.id),Promise.resolve(a))}.bind(this)).catch(function(e){return this.logger.warn("Target is not found:"+e),Promise.resolve(a)}.bind(this))}.bind(this))}.bind(this)):Promise.resolve(a)},getActionPayload:function(e){var t={},i=e.pageX,n=e.gesture&&e.gesture.center&&e.gesture.center.pageX;i||n?(t.left=i||n,t.top=e.pageY||e.gesture.center.pageY):t=c(e.target).offset();var a={activeObject:{oListControl:this,handler:this.contentView,slideout:this.contentView.slideout,targetSelectedContext:void 0},position:{pageX:t.left,pageY:t.top},menuId:this.getContextMenuId()};return this._getTargetPromise(a).then(this.getSelectedObjectFolderCapabilities.bind(this)).then(this.getSelectedObjectWPermissions.bind(this)).then(this.checkSetVersionsSupported.bind(this)).then(function(e){return a.activeObject.aSelectedContext=e,a.options=this.getPublicSelectedObjects(e),Promise.resolve(a)}.bind(this))},getFirstFocusElement:function(){return this._isShowingEmptyMessage?this.$el.find(".newFolderLabel[tabindex='0']"):this.$el.find("td[tabindex='0']")},setFocus:function(){var e=null;if(this.addFolderNameForFocus){var t=this.$el.find("td.name").filter(function(e,t){return c(t).text()===this.addFolderNameForFocus}.bind(this));0!==t.length&&(e=c(t[0])),this.addFolderNameForFocus=void 0}return null===e&&(e=this.getFirstFocusElement()),0<e.length&&(e.focus(),!0)},handleDoubleClick:function(e){var t=this.getSelectedObjects()[0];if(this.rightClickContextMenu){var i=this.findRowNode(e.currentTarget);this.selectSingleRow(i);var n=c(e.currentTarget);a.executeDefaultAction({listControl:this,glassContext:this.glassContext,$div:n,evt:e,oData:t}),p.getDisabled(t)&&n.addClass("dimmed idle")}this.contentView.isDialog&&(void 0===this.contentView.onDefaultAction||p.getDisabled(t)||this.contentView.onDefaultAction())},handleClick:function(e){var t=this.findRowNode(e.currentTarget);if(!("click"===e.type&&this.multiSelectEvent&&"hold"===this.multiSelectEvent.type||1===this.aSelectedRows.length&&t.rowIndex===this.aSelectedRows[0].rowIndex&&c(t).hasClass("selected")&&this.contentView._propertiesOpen)){if(3===e.which&&(e.shiftKey||e.ctrlKey||e.metaKey||c(t).hasClass("selected")))return!1;if(e.shiftKey&&this.multiSelect){0===this.aSelectedRows.length&&(this._handleSingleSelect(t,e.target),this._lastShiftSelectedRow=null);var i=this._lastShiftSelectedRow,n=1;i&&(n=i.rowIndex)<0&&(n=1),this._clearRows();for(var a=Math.max(n,t.rowIndex),o=Math.min(n,t.rowIndex),s=this._dTable.$("tr",{filter:"applied"}),r=o;r<=a;r+=1)(!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(this.getRowData(s[r-1])))&&(c(s[r-1]).addClass("selected"),this._toggleCheckBox(s[r-1],!0),this.aSelectedRows.push(s[r-1]));1<this.aSelectedRows.length&&this._showMultiSelectBar(),this._updateSelectedData(),this._updateRowsCounter()}else if((e.ctrlKey||e.metaKey)&&this.multiSelect||"tap"===e.type&&this.touchMultiSelectEnabled)0===this.aSelectedRows.length?this._handleSingleSelect(t,e.target):this._handleMultiSelect(t,e.target);else if(!1===this._handleSingleSelect(t,e.target))return!1}},_handleMultiSelect:function(e,t){if(this._updateSizeForSelection(),!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(this.getRowData(e))){c(e).hasClass("selected")&&c(t).hasClass("forceRowSelection")||(c(e).toggleClass("selected"),this._toggleCheckBox(e,c(e).hasClass("selected")));var i=this.aSelectedRows.indexOf(e);-1<i?c(t).hasClass("forceRowSelection")||this.aSelectedRows.splice(i,1):this.aSelectedRows.push(e),this._updateSelectedData(),this._updateRowsCounter()}0===this.aSelectedRows.length?(this._clearRows(),this._hideMultiSelectBar()):(this._lastShiftSelectedRow=e,this._showMultiSelectBar())},_handleSingleSelect:function(t,e){if(c(e).hasClass("forceRowSelection")){var i=!1;this.aSelectedRows.forEach(function(e){e.rowIndex===t.rowIndex&&(i=!0)}),i||this.selectSingleRow(t)}else{if(this._hideMultiSelectBar(),1===this.aSelectedRows.length&&t.rowIndex===this.aSelectedRows[0].rowIndex){if(c(t).hasClass("selected")&&this.contentView._propertiesOpen)return!1;this.deselectCallback&&this.deselectCallback(),c(t).removeClass("selected"),this._toggleCheckBox(t,!1),this.aSelectedRows=[],this._updateSelectedData()}this.selectSingleRow(t)}},selectSingleRow:function(e){var t=this.getRowData(e);(!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(t))&&(this._hideMultiSelectBar(),this._clearRows(),this._selectRow(e)),this.isInStandbyMode()&&!this.selectAcrossFolders||!this.singleSelectCallback||this.singleSelectCallback(t)},selectAll:function(){this._clearRows();for(var e=this._dTable.$("tr",{filter:"applied"}),t=0;t<e.length;t++)(!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(this.getRowData(e[t])))&&(c(e[t]).addClass("selected"),this._toggleCheckBox(e[t],!0),this.aSelectedRows.push(e[t]));1<this.aSelectedRows.length&&this._showMultiSelectBar(),this._updateSelectedData(),this._updateRowsCounter()},clearAll:function(){this._clearRows(),this._updateSelectedData()},clearAllSelected:function(){this._clearRows(),this.oSelectedData={},this._updateSelectedData()},_updateRowsCounter:function(){var e=u.get("noOfItemSelected",{noOfItems:this.aSelectedRows.length});this.contentView.updateMultiSelectBarText&&this.contentView.updateMultiSelectBarText(e)},_showMultiSelectBar:function(){this.$el.hasClass("singleSelectMode")&&this.$el.removeClass("singleSelectMode"),this.contentView.showMultiSelectBar&&this.contentView.showMultiSelectBar(this.isAccountPickerSlideout())},_hideMultiSelectBar:function(){this.$el.addClass("singleSelectMode"),this.contentView&&this.contentView.hideMultiSelectBar&&this.contentView.hideMultiSelectBar()},_hideSlideoutChildrenToTheRight:function(){this.contentView&&this.contentView.slideout&&this.contentView.slideout.child&&this.contentView.slideout.child.hide(this.contentView.slideout.child)},handleHoldEvent:function(e){this._updateSizeForSelection(),this._showMultiSelectBar(),this._clearRows(),this.touchMultiSelectEnabled=!0;var t=this.findRowNode(e.target.parentNode);(!this.canSelectCallback||this.canSelectCallback&&this.canSelectCallback(this.getRowData(t)))&&(c(t).addClass("selected"),this._toggleCheckBox(t,!0),this.aSelectedRows.push(t),this.multiSelectEvent=e,this._updateSelectedData(),this._updateRowsCounter())},findRowNode:function(e){for(;"tr"!==e.nodeName.toLowerCase();)e=e.parentNode;return e},_clearRows:function(){r.each(this.aSelectedRows,function(e){c(e).removeClass("selected"),this._toggleCheckBox(e,!1)}.bind(this)),this.aSelectedRows=[],this.touchMultiSelectEnabled=!1},_deselectRow:function(t){c(t).removeClass("selected"),this._toggleCheckBox(t,!1),this.aSelectedRows=this.aSelectedRows.filter(function(e){return e.rowIndex!==t.rowIndex}),this._updateSelectedData()},_toggleCheckBox:function(e,t){var i=c(e).find("input.checkBoxes[type=checkbox]");i&&(t=void 0!==t?t:!i.prop("checked"),i.prop("checked",t))},_selectRow:function(e){this._updateSizeForSelection(),c(e).addClass("selected"),this._toggleCheckBox(e,!0),this.aSelectedRows.push(e),this._updateSelectedData(),this._lastShiftSelectedRow=e},_updateSelectedData:function(){if(this.selectAcrossFolders){var e=this._ancestors[this._ancestors.length-1].id;this.oSelectedData[e]=this.getSelectedObjects(),this.selectAcrossFoldersSelectionChangeCallback&&this.selectAcrossFoldersSelectionChangeCallback(r.flatten(r.map(this.oSelectedData,r.values)))}},_doUpdateSize:function(){if(this._dataRendered){var e=this.$el.find(".dataTables_scrollBody"),t=e.css("height");if(void 0!==t){var i=parseInt(t.substr(0,t.length-2));isNaN(i)||e.css("height",i+2+"px")}}},_updateSizeForSelection:function(){c("body").hasClass("highcontrast")&&!this.wasSelected&&(this._doUpdateSize(),this.wasSelected=!0)},_renderDataTable:function(){var s=new b,e=this.$el.width();jQuery.fn.dataTableExt.oSort["string-asc"]=function(e,t){return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),h.getCollator().compare(e,t)},jQuery.fn.dataTableExt.oSort["string-desc"]=function(e,t){return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),-1*h.getCollator().compare(e,t)},delete jQuery.fn.dataTableExt.oSort["string-pre"];var t=this,i={width:"55%",iDisplayLength:500,autoWidth:!0,sAjaxSource:this.url,sAjaxDataProp:this.ajaxProp,bServerSide:!1,bFilter:!0,bInfo:!1,bAutoWidth:!1,paging:!0,bScrollInfinite:!0,bScrollCollapse:!0,bDeferRender:!0,orderClasses:!1,bSort:this.sort,sDom:"rti",asStripeClasses:[""],aaSorting:this.defaultSort||[],sScrollY:this.skipYBound?void 0:this._calcYBound(),sScrollX:e,sScrollXInner:"100%",aoColumnDefs:this.columns,fnInitComplete:function(e){t._dTable=this,t._fnInitComplete(e),s.resolve()},fnServerData:function(e,t,i,n){this._dataRendered=!1,this.isInitialized||(window.clearTimeout(this.spinnerTimeout),this.spinnerTimeout=window.setTimeout(this.showWorking.bind(this),600));var a={url:e,dataType:"json",data:this.urlParameters,type:"GET"},o=function(e,t){this.removeEmptyTableMessage(),n.jqXHR=t,this._dataRetrieved=!0,this.dataManipulationCallback&&this.dataManipulationCallback(e,this.sortIndexes),this.rowLimit&&(this.ajaxProp&&e[this.ajaxProp].length>this.rowLimit?e[this.ajaxProp]=e[this.ajaxProp].slice(0,this.rowLimit):e.length>this.rowLimit&&(e=e.slice(0,this.rowLimit))),i(e),this._dataRendered=!0,c(n.nTable).bind("selectstart",function(e){return c(e.target).is(":text")})}.bind(this);this.getData?this.getData(a).done(function(e,t,i){o(e,i)}).fail(function(e){n.jqXHR=e,s.reject(e)}.bind(this)):this.glassContext.getCoreSvc(".Ajax").ajax(a).then(function(e){o(e.data,e.jqXHR)}).catch(function(e){n.jqXHR=e.jqXHR,s.reject(e)}.bind(this))}.bind(this),preDrawCallback:function(e){this._preDrawCallback(e)}.bind(this),drawCallback:function(e){this._drawCallback(e)}.bind(this),createdRow:this.createdRowCallback||function(e,t,i){this.selectedRow&&t[this.selectedRow[0]]===this.selectedRow[1]&&(this._selectRow(e),this.selectedRow=null),this.selectAcrossFolders&&this._previousSelections&&this._previousSelections[t.id]&&(this._updateSizeForSelection(),c(e).addClass("selected"),this._toggleCheckBox(e,!0),this.aSelectedRows.push(e),this._lastShiftSelectedRow=e),c(e).attr("data-name",t.defaultName)}.bind(this)},n=r.extend(i,this.dataTableOptions);return this._dTable=c("#"+this._id).dataTable(n),this.debouncedDraw||(this.debouncedDraw=r.debounce(function(){!0!==this._cancelDebounce&&this._dTable._fnDraw()}.bind(this),this.debounceRate)),s.promise},_fnInitComplete:function(e){this.isInitialized=!0,this._scrollNode=this.$el.find(".dataTables_scrollBody"),this.filterByTypes&&(this._filterInfo={filterValue:this.filterByTypes,column:this.filterColumnIndex,regExpression:!0},this._dTable.fnFilter(this.filterByTypes,this.filterColumnIndex,!0)),this.disableColumnHeaders&&c(e.nScrollHead).remove();var t=c(e.nScrollHead).find("table"),i=t.attr("aria-label");t.removeAttr("aria-label"),t.attr("aria-labelledby",this._id+"_tableHeaderLab1 "+this._id+"_tableHeaderLab2");var n=c('<div style="position: absolute; left: -999px" aria-hidden="true" id="'+this._id+'_tableHeaderLab1"></div>');n.text(i);var a=c('<div style="position: absolute; left: -999px" aria-hidden="true" id="'+this._id+'_tableHeaderLab2">'+u.get("listControlColumns")+"</div>");t.parent().append(n),t.parent().append(a),this.propertiesSpacing&&"properties"===e.aoColumns[e.aoColumns.length-1].sName&&(e.aoColumns[e.aoColumns.length-2].weight=null,e.aoColumns[e.aoColumns.length-2].sWidth=this.propertiesSpacing),this._handleColumnCallbacks(e),this._processColumnWeights(e),this.resize(),this.browserResize||this._drawCallback(e);var o=0;this.aSelectedRows&&0<this.aSelectedRows.length&&(o=c(this.aSelectedRows[0]).offset().top-this._scrollNode.height()/2),this._scrollNode.scrollTop(o),this._scrollNode.bind("scroll",this._onScroll.bind(this)),this._initRenderedRowCount(),this._updateLoadingMoreDiv()},getScrollingNode:function(){return this._scrollNode},setRenderRowsOnScroll:function(e){this._renderRowsOnScroll=e},_onScroll:function(e){if(this.isInitialized&&this._dataRetrieved&&this._dataRendered){var t=c(e.target);this._renderRowsOnScroll&&t.scrollTop()+t.innerHeight()>=t[0].scrollHeight-20&&this._handleReRender(),f.hideOpenMenus()}},_renderExtraRows:function(o,e){var t=c("<div/>");t.css("width",this._scrollNode.width()+"px"),t.css("position","absolute"),t.css("left","-1000px"),t.css("height","0px"),t.css("overflow","hidden"),c(document.body).append(t);var s=this._getRowInfoToRender(o,e);if(0===s.length)return this._scrollNode.find(".listControlLoadingMore").css("display","none"),Promise.resolve();var i=r.extend({},this._initialOptions,{el:t[0],$el:t,sort:!1,resizeCallback:null,getJSONDataCallback:function(e){var t=c.Deferred(),i={};return this.ajaxProp?i[this.ajaxProp]=e.aData:i=e.aData,t.resolve(i),t.promise()}.bind(this,s)}),n=new v(i);return n.oSelectedData=this.oSelectedData,n.aSelectedRows=this.aSelectedRows,n.render().then(function(){var e=t.find(".dataTables_scrollBody").find("tbody").find("tr");this._scrollNode.find("tbody").append(e),t.remove();var a=this._dTable.fnSettings();return e.each(function(e,t){var i=s.aIndexMappding?s.aIndexMappding[e]:o+e,n=this._dTable.api().rows()[0][i];0<=n&&(t._DT_RowIndex=n,a.aoData[n].nTr=t,a.aoData[n].anCells=t.cells,this._formatRowsContent(a.aoColumns,[a.aoData[n]]))}.bind(this)),this._groupByColumnCallback(o),e}.bind(this))},_formatRowsContent:function(e,n){e.forEach(function(t,i){n.forEach(function(e){this._formatContent(e,t,i)}.bind(this))}.bind(this))},_formatContent:function(e,t,i){e.anCells&&e.anCells[i]&&(t.formatContent&&t.formatContent(e.anCells[i]),c(e.anCells[i]).attr("tabindex","-1"))},_getRowInfoToRender:function(e,t){if(this._filterInfo){var i,n=[],a=[],o=this._dTable.api(),s=o.rows().data(),r=e,l=o.column(this._filterInfo.column).data();if(this._filterInfo.regExpression){var c=new RegExp(this._filterInfo.filterValue);i=function(e){return!c.test(l[e])}.bind(this)}else i=function(e){return this._filterInfo.filterValue!==l[e]}.bind(this);for(;n.length<t&&r<s.length;)i(r)||(n.push(s[r]),a.push([r])),r+=1;return this._renderedRowCount=r,{aData:n,aIndexMappding:a}}return this._renderedRowCount=e+t,{aData:this._dTable.api().rows().data().splice(e,t)}},addRowData:function(e,t){var a=this._dTable.api(),i=a.rows.add(e).draw(!1);if(t){var o=[],s=a.row()[0];return i[0].forEach(function(n){o.push(new Promise(function(t){var e=a.row(n);if(e.node())t(e.node());else{for(var i=0;i<s.length&&s[i]!==n;i+=1);this._renderExtraRows(i,1).then(function(e){t(e[0])})}}.bind(this)))}.bind(this)),Promise.all(o).then(function(e){return e})}},setShowWorking:function(e){this._showWorking=e},_isShortTable:function(){return this.$el.find("#listContainer"+this._id).height()<200},showWorking:function(){if(!this._isShowingWorking){this.removeEmptyTableMessage();var e=this.$el.find("#listContainer"+this._id),t=n.template(o)({text:"",shortTable:this._isShortTable(),isSpinner:!0,iconStyle:"contentLoadingSpinner",emptyIcon:"#ba_content_nav-load"});e.append(t).hide().fadeIn(300),this._isShowingWorking=!0}},showEmptyTableMessage:function(){if(!this._isShowingEmptyMessage){this.removeEmptyTableMessage();var e=this.$el.find("#listContainer"+this._id),t=n.template(o)({text:this.emptyFolderString,textParagraph:this.emptyParagraphString,shortTable:this._isShortTable(),emptyIcon:this._emptyIcon});e.append(t);var i=e.find(".svgIcon");e.find("use").remove(),"#ba_content_nav-search_64"===this._emptyIcon?g.setIcon(i,l.default.id):"#ba_content_nav-time_64"===this._emptyIcon?g.setIcon(i,d.default.id):g.setIcon(i,s.default.id),this._isShowingEmptyMessage=!0}},removeEmptyTableMessage:function(){(this._isShowingWorking||this._isShowingEmptyMessage)&&(this.$el.find(".emptyTableContent").remove(),this._isShowingEmptyMessage=!1,this._isShowingWorking=!1),this.spinnerTimeout&&(clearTimeout(this.spinnerTimeout),this.spinnerTimeout=null)},showEmptyFilterMessage:function(){if(!this._isShowingEmptyMessage){this.removeEmptyTableMessage();var e=this.$el.find("#listContainer"+this._id),t=n.template(o)({text:u.get("noFilterResult"),textParagraph:u.get("tryOtherFilter"),shortTable:this._isShortTable(),emptyIcon:this._emptyIcon});e.append(t),this._isShowingEmptyMessage=!0}},_preDrawCallback:function(e){if(this.getScrollingNode()&&(this._scrollTop=this.getScrollingNode().scrollTop()),this._ancestors=this.contentView.getAncestors&&this.contentView.getAncestors(),this._previousSelections=null,this.selectAcrossFolders&&this._ancestors&&this._ancestors.length){var t=this._ancestors[this._ancestors.length-1].id;if(this.oSelectedData[t]&&this.oSelectedData[t].length){var i=this.oSelectedData[t];this._previousSelections={};for(var n=0;n<i.length;n++)this._previousSelections[i[n].id]=!0}}},_drawCallback:function(e){if(this.getScrollingNode()&&null!==this._scrollTop){var t=this.getScrollingNode().height();this._scrollTop>=t&&(this._scrollTop=0),this.getScrollingNode().scrollTop(this._scrollTop),this._scrollTop=null}this.isInitialized&&this._dataRetrieved&&(0===e.aoData.length?this._showWorking?(this.setShowWorking(!1),window.clearTimeout(this.spinnerTimeout),this.spinnerTimeout=window.setTimeout(this.showWorking.bind(this),1e3)):(this.showEmptyTableMessage(),clearTimeout(this.spinnerTimeout),this.spinnerTimeout=null):0<e.aoData.length&&(0===e.fnRecordsDisplay()?this.showEmptyFilterMessage():this.removeEmptyTableMessage()),this._groupByColumnCallback(0),this._formatRowsContent(e.aoColumns,e.aoData),this.$el.find("table tr").removeAttr("role"),this._initRenderedRowCount(),this.setRenderRowsOnScroll(!0),this._updateLoadingMoreDiv(),this.widgetKeyController&&(this.widgetKeyController.setInitialTabIndex(),this.setFocusOnDraw&&this.setFocus()))},_createRowGroupHeader:function(e,t){var i=e;this._groupByColumnAPI.getGroupName&&(i=this._groupByColumnAPI.getGroupName(e));var n='<tr class="group';return t&&(n+=" firstGroup"),n+='"><td><span aria-label="'+i+'">'+i+'</span></td><td class="contentListFocusable"></td><td class="contentListFocusable"></td></tr>'},_groupByColumnCallback:function(n){if(this._groupByColumnAPI){void 0===n&&(n=0);var e=this._dTable.api();if(this._groupByColumnAPI.shouldGroup(e)){var a,o=e.rows().nodes(),t=e.column(this._groupByColumnAPI.columnIndex).data();a=0!==n?t[n-1]:null;var s=null;if(this._filterInfo){var i=e.column(this._filterInfo.column).data();if(this._filterInfo.regExpression){var r=new RegExp(this._filterInfo.filterValue);s=function(e){return!r.test(i[e])}.bind(this)}}t.each(function(e,t){if(n<=t&&a!==e&&(!s||!s(t))){var i=this._createRowGroupHeader(e,0===t);c(o).eq(t).before(i),a=e}}.bind(this)),this.$el.find(".dataTables_scrollBody").css("min-height",this._calcYBound()+"px")}}},_initRenderedRowCount:function(){if(this._renderedRowCount=this._showLoadBuffer,this._filterInfo)for(var e=this._scrollNode.find("tr:last")[0]._DT_RowIndex,t=this._dTable.api().rows()[0],i=0;i<t.length;i+=1)if(t[i]===e){this._renderedRowCount=i+1;break}},_hasVerticalScrollbar:function(){return this._scrollNode&&this._scrollNode[0]&&this._scrollNode[0].scrollHeight>this._scrollNode[0].clientHeight},_updateLoadingMoreDiv:function(){if(this._scrollNode||(this._scrollNode=this.$el.find(".dataTables_scrollBody")),this._$loadingAnimationContainer&&this._$loadingAnimationContainer.css("display","none"),this._hasVerticalScrollbar()&&this._dTable.fnGetData().length>this._showLoadBuffer){if(!this._$loadingAnimationContainer){var e=g.getLoadingAnimation(1);this._$loadingAnimationContainer=c('<div class="listControlLoadingMore"></div>',{class:"listControlLoadingMore"}),c(e).addClass("loadingAnimation"),this._$loadingAnimationContainer.append(e),this._scrollNode.append(this._$loadingAnimationContainer)}this._$loadingAnimationContainer.css("display","block")}},updateDatatable:function(e){this._dTable&&(e&&(this._dTable.fnSettings().sAjaxSource=e,this.url=e,this._clearRows(),this.getScrollingNode()&&this.getScrollingNode().scrollTop(0),this.setShowWorking(!0),this._dTable.fnClearTable()),this._dataRetrieved=!1,this._dataRendered=!1,this._dTable.api().ajax.reload(),this._dTable.fnDraw(),this._clearRows(),this.setInStandbyMode(!1),this.setShowWorking(!1))},updateCell:function(e,t,i){var n=this._dTable;n.fnUpdate(e,t,i);var a=c(c(t).find("td")[i]);n.fnSettings().aoColumns[i].fnCreatedCell(a,n.fnGetData(a.get(0)),e)},getDatatable:function(){return this._dTable},remove:function(){this._addFolderAction&&this._addFolderAction.destroy(),_[this._id]=null,delete _[this._id],this._dTable&&(this._cancelDebounce=!0,this._dTable.api().destroy(!0),this._dTable.remove()),this.$el.find(".ca-listContainer").remove()},getSelectedRows:function(){return this.aSelectedRows||[]},getSelectedObjects:function(){var e,t=[];for(e=0;e<this.aSelectedRows.length;e+=1){var i=this.getRowData(this.aSelectedRows[e]);i?t.push(i):this.logger.error(new Error("Selection was not found in the datatable: "+this.aSelectedRows[e]))}return t},getRowData:function(e){var t=this._dTable.fnGetData(e);return t&&!t[p.ANCESTORS]&&this._ancestors&&0<this._ancestors.length&&(t[p.ANCESTORS]=this._ancestors.slice()),t},getPublicSelectedObjects:function(e){return c.map(e,function(e){return{type:e.type,name:e.defaultName,id:e.id}})},getSelectedObjectWPermissions:function(e){return e||(e=this.getSelectedObjects()),1===e.length?"report"===e[0].type?p.getPermissionsOwnerIdAndMetadataModelPackageEffectiveUserCapabilities(e[0],!0).then(function(e,t){return e[0][p.PERMISSIONS]=t.permissions,e[0][p.OWNER]=t.owner,e[0][p.METADATA_MODEL_PACKAGE]=t.metadataModelPackage,Promise.resolve(e)}.bind(this,e)):"reportView"===e[0].type?p.getPermissionsOwnerIdAndBasePermissions(e[0],!0,!0).then(function(e,t){return e[0][p.PERMISSIONS]=t.permissions,e[0][p.OWNER]=t.owner,e[0][p.BASE]=t.base,Promise.resolve(e)}.bind(this,e)):p.getPermissionsOwnerIdAndCapabilities(e[0],!0).then(function(e,t){return e[0][p.PERMISSIONS]=t.permissions,e[0][p.OWNER]=t.owner,e[0][p.EFFECTIVE_USER_CAPABILITIES]=t.effectiveUserCapabilities,Promise.resolve(e)}.bind(this,e)):Promise.resolve(e)},checkSetVersionsSupported:function(e){for(var t=0;t<e.length;t+=1)r.isBoolean(e[t].versionsSupported)||(e[t].versionsSupported=h.isVersionsSupported(e[t]));return Promise.resolve(e)},removeSelectedRows:function(){if(this.aSelectedRows){for(;0<this.aSelectedRows.length;)this.removeRow(this.aSelectedRows.pop());this._updateSelectedData(),this._updateRowsCounter(),this._hideMultiSelectBar()}},addFolder:function(){return this._clearRows(),this._addFolderAction=new t({oListControl:this}),this._addFolderAction.execute()},cancelActions:function(){this._addFolderAction&&this._addFolderAction.cancel()},removeRow:function(e){0!==this._scrollNode.scrollTop()&&this._scrollNode.scrollTop(0),this._dTable.fnDeleteRow(e)},removeIndexRows:function(e){var t=this.$el.find("tbody tr");e.forEach(function(e){this.removeRow(t[e])}.bind(this))},_calcYBound:function(){var e,t=this.$container?this.$container.height()-40:this.$el.height(),i=this.$el.find(".dataTables_scrollHead").outerHeight(!0)||0;if((e=this.$el.children(":not(.dataTables_wrapper, .contentViewSwitcher, .ca-listContainer)").outerHeight(!0))||(e=0),e+=this._calcExtraNonTableHeight?this._calcExtraNonTableHeight(this):0,this.$container)for(var n=this.$el[0],a=this.$el.parent();a[0]&&a[0]!==this.$container.parent()[0];){for(var o=a.children(),s=0;s<o.length;s+=1){var r=o[s];r!==n&&(e+=c(r).outerHeight(!0))}n=a[0],a=a.parent()}var l=t-i-e;return this.minHeight&&l<this.minHeight&&(l=this.minHeight),l},resize:function(){if(this.browserResize){var e=this._dTable&&this._dTable.fnSettings&&this._dTable.fnSettings();e&&(e.oScroll.sY=this._calcYBound()+"px",e.oScroll.sX=this.$el.width()+"px",e.oScroll.sXInner=this.$el.width()<this.minWidth?this.minWidth+"px":"100%",this.debouncedDraw&&this.debouncedDraw(),this.$el.find(".dataTables_scrollBody").css("max-height",e.oScroll.sY)),this.resizeCallback&&this.resizeCallback()}},filter:function(e,t,i){this.setRenderRowsOnScroll(!1),this._filterInfo={filterValue:e,column:t,regExpression:i},this._dTable.fnFilter(e,t,i),this._dTable.fnDraw(!1)},_processColumnWeights:function(e){var t=0,i=0;e.aoColumns.forEach(function(e){e.weight?t+=e.weight:e.sWidth&&"%"===e.sWidth.slice(-1)&&(i+=parseInt(e.sWidth.slice(0,-1),10))}),e.aoColumns.forEach(function(e){e.weight&&(e.sWidth=Math.floor(e.weight/t*(100-i))+"%")})},_handleColumnCallbacks:function(t){var i;function e(e){t.aoColumns[i].postprocessRowCallback(e,i)}for(i=0;i<t.aoColumns.length;i+=1)t.aoColumns[i].postprocessRowCallback&&t.aoData.forEach(e)},setInStandbyMode:function(e){this._inStandbyMode=e},isInStandbyMode:function(){return this._inStandbyMode||2<=this.aSelectedRows.length||this.multiSelect&&this.touchMultiSelectEnabled},isMultitouchActive:function(){return this.touchMultiSelectEnabled},setIsAccountPickerSlideout:function(){this._isAccountPickerSlideout=!0},isAccountPickerSlideout:function(){return this._isAccountPickerSlideout||!1},setShowEmptyNewFolderButton:function(e){this.showEmptyNewFolderButton=e},setParentHasWritePermission:function(e){this.parentHasWritePermission=e},selectFirstRow:function(){this.selectSingleRow(this.findRowNode(this.getFirstFocusElement()[0]))},getSelectedObjectFolderCapabilities:function(e){if(e||(e=this.getSelectedObjects()),this.contentView.slideout&&1===e.length&&!h.isContainer(p.getType(e[0]))&&p.getAncestors(e[0])){var t=r.last(e[0].ancestors);return p.getEffectiveUserCapabilities(t,!0).then(function(e){return Promise.resolve(e)}.bind(this,e))}return Promise.resolve(e)}});return v}),define("bacontentnav/lib/gemini/app/util/View",["jquery","lodash","doT","../../../@waca/core-client/js/core-client/ui/core/Events","../../../@waca/core-client/js/core-client/utils/EventHelper"],function(a,s,t,e){"use strict";var i=null,r=/^(\S+)\s*(.*)$/,n=["el","id","className","tagName","events"];return i=e.extend({templateString:null,id:null,init:function(e){i.inherited("init",this,arguments),this.viewId=s.uniqueId("view"),this.dotTemplate=t.template(this.templateString||""),s.extend(this,s.pick(e||{},n)),this._initDomElement(),this._attachEvents()},tagName:"div",_initDomElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var e={};this.id&&(e.id=s.result(this,"id")),this.className&&(e.class=s.result(this,"className")),this.setElement(document.createElement(this.tagName)),this.$el.attr(e)}},$:function(e){return this.$el.find(e)},hide:function(){this.$el.hide()},show:function(){this.$el.show()},getTarget:function(e,t){var i=a(e);if(!i.hasClass(t)){var n=i.parents("."+t);0<n.length&&(e=n[0])}return e},render:function(){return this},remove:function(){return this.$el&&this.$el.remove(),this.off&&this.off(),this},setElement:function(e){return this._detachEvents(),this.$el=e instanceof a?e:a(e),this.el=this.$el[0],this._attachEvents(),this},_attachEvents:function(){var e=this.events;for(var t in this._detachEvents(),e)if(e.hasOwnProperty(t)){var i=e[t];if(s.isFunction(i)||(i=this[e[t]]),!i)continue;var n=t.match(r),a=n[1],o=n[2];this.$el.on(a+".privateViewEvents"+this.viewId,o,i.bind(this))}return this},_detachEvents:function(){return this.$el&&this.$el.off(".privateViewEvents"+this.viewId),this}})}),define("bacontentnav/lib/gemini/app/ui/Toolbar",["../util/View","jquery","../../../@waca/core-client/js/core-client/utils/ClassFactory"],function(e,o,t){"use strict";var i=null;return i=e.extend({moduleMap:[],addItemsDeferred:null,init:function(e){i.inherited("init",this,arguments),this.items=e.items,this.itemMap={},this.readyArray=[],this.labelsView=!1},addItem:function(e){var t=o("<div>");return this.$el.append(t),this._renderItem(e,t)},_renderItem:function(e,t){e.type||e.module||(e.type="Menu");var i=e.type?"app/ui/toolbar_components/"+e.type:e.module;return this._renderItemHelper(i,e,t)},_renderItemHelper:function(e,i,n){var a=o.Deferred();return this.readyArray.push(a.promise()),t.loadModule(e).then(function(e){i.el=n;var t=new e(i,this.rootMenu||this.parentView,this);t.render(),this.itemMap[t.name]=t,a.resolve(),t.notifyRenderComplete&&t.notifyRenderComplete()}.bind(this)),a},removeItem:function(e){this.itemMap[e].remove(),delete this.itemMap[e]},addItems:function(e){var t=[];return e.forEach(function(e){t.push(this.addItem(e))}.bind(this)),this.addItemsDeferred=Promise.all(t),this.addItemsDeferred},clearItems:function(){this.itemMap&&Object.keys(this.itemMap).forEach(function(e){this.itemMap[e].remove()}.bind(this)),this.$el.empty(),this.itemMap={},this.readyArray=[]},render:function(){return this.$el.empty(),this.items?this.addItems(this.items):o.Deferred().resolve().promise()},ready:function(){var e=o.Deferred();return 0<this.readyArray.length?o.when.apply(o,this.readyArray).done(function(){e.resolve()}):e.resolve(),e.promise()},setFocus:function(){var e=Object.keys(this.itemMap)[0];if(e){var t=this.itemMap[e];t&&t.setFocus&&t.setFocus()}}})}),define("text!bacontentnav/lib/gemini/app/ui/templates/Menu.html",[],function(){return'<div class="dropdown-toggle" id="{{=it.id}}_toggle" data-toggle="dropdown"{{? it.labelOnly}} aria-describedby="{{=it.id}}_ddtMenu"{{?}} aria-label="{{!it.label}}" tabindex="0" role="button" aria-haspopup="true">\n\t{{? it.hcLabel}}\n\t\t<span class="hcLabel">{{=it.label}}</span>\n\t{{?}}\n\t{{? it.labelOnly}}\n\t\t<span id="{{=it.id}}_ddtMenu" class="menu-label">{{=it.label}}</span>\n\t{{?}}\n</div>\n<div class="arrow-wrapper">\n\t<div class="arrow"></div>\n</div>\n<ul class="dropdown-menu" id="{{=it.id}}_toggle" aria-labelledby="{{=it.id}}_toggle" role="menu">\n\t\t{{? it.showTitle}}\n\t\t<h1 role="presentation" class="dropdown-header header-{{!it.name}}">{{!it.label}}</h1>\n\t\t{{?}}\n\t\t{{~it.items :item :index}}\n\t\t\t{{? item.disabled && item.icon}}\n\t\t\t\t<li role="presentation" class="dropdown-header header-{{!item.name}} {{?item.hidden}}hidden{{?}}" aria-disabled="true"  id="{{=it.id}}_{{=item.name}}">\n\t\t\t\t\t<span class="{{!item.icon}} menuitem-icon"></span>{{!item.label}}</li>\n\t\t\t{{?? item.disabled}}\n\t\t\t\t<li role="presentation" class="dropdown-header header-{{!item.name}} {{?item.hidden}}hidden{{?}}" aria-disabled="true"  id="{{=it.id}}_{{=item.name}}">{{!item.label}}</li>\n\t\t\t{{??}}\n\t\t\t\t<li class="dropdown-menuitem {{=item.name}} {{?item.hidden}}hidden{{?}} propertyUIControl" id="{{=it.id}}_{{=item.name}}">\n\t\t\t\t{{? it.showTick && item.icon}}\n\t\t\t\t\t<a role="menuitemcheckbox" href="#" aria-label="{{!item.label}}" aria-checked="true" class="propertyRow {{? index=== 0}}firstMenuItem{{?}} {{? index === it.items.length - 1}}lastMenuItem{{?}}">\n\t\t\t\t\t\t{{!item.label}}\n\t\t\t\t\t</a>\n\t\t\t\t{{?? it.showTick}}\n\t\t\t\t\t<a role="menuitemcheckbox" href="#" aria-label="{{!item.label}}" aria-checked="true" class="textOnly {{? index=== 0}}firstMenuItem{{?}} {{? index === it.items.length - 1}}lastMenuItem{{?}}">\n\t\t\t\t\t\t<input type="checkbox"/>\n\t\t\t\t\t\t{{!item.label}}\n\t\t\t\t\t</a>\n\t\t\t\t{{?? it.isSort && item.icon}}\n\t\t\t\t\t<a role="menuitem" href="#" {{? index=== 0}}class="firstMenuItem"{{?}} {{? index === it.items.length - 1}}class="lastMenuItem"{{?}}>\n\t\t\t\t\t\t{{!item.label}}\n\t\t\t\t\t\t<span class="{{!item.icon}} menuitem-icon" style="display: none;">\n\t\t\t\t\t\t\t<svg class="svgIcon" aria-hidden="true"><use xlink:href="#common-previous" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="wfg_accept"></span>\n\t\t\t\t\t</a>\n\t\t\t\t{{?? it.isSort}}\n\t\t\t\t\t<a role="menuitemsort" href="#" aria-label="{{!item.label}}" class="sortMenuItem {{? index=== 0}}firstMenuItem{{?}} {{? index === it.items.length - 1}}lastMenuItem{{?}}">\n\t\t\t\t\t\t{{!item.label}}\n\t\t\t\t\t</a>\n\t\t\t\t{{?? item.icon}}\n\t\t\t\t\t<a href="#" aria-label="{{!item.label}}" {{? index=== 0}}class="firstMenuItem"{{?}} {{? index === it.items.length - 1}}class="lastMenuItem"{{?}}>\n\t\t\t\t\t\t<span class="{{!item.icon}} menuitem-icon"></span><span class="wfg_accept"></span>&nbsp;{{!item.label}}</a>\n\t\t\t\t{{??}}\n\t\t\t\t\t<a  role="menuitem" href="#" aria-label="{{!item.label}}" class="textOnly {{? index=== 0}}firstMenuItem{{?}} {{? index === it.items.length - 1}}lastMenuItem{{?}}">{{!item.label}}</a>\n\t\t\t\t{{?}}\n\t\t{{?}}\n\t\t</li>\n\t{{~}}\n</ul>\n'}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/Menu",["../../util/View","jquery","lodash","../../../../@waca/core-client/js/core-client/utils/BidiUtil","text!../templates/Menu.html"],function(e,o,s,n,t){var i=null;return i=e.extend({templateString:t,events:{keydown:"_handleKeyboard","click .dropdown-menuitem":"_handleClick"},itemActions:null,itemSpecMap:null,baseClass:"toolbar",hcLabel:null,showTitle:!0,init:function(e){s.defaults(e,{hcLabel:!0}),s.extend(this,e),this.itemActions={},this.itemSpecMap={},s.each(this.items,function(e){this.itemSpecMap[e.name]=e}.bind(this)),i.inherited("init",this,arguments)},_handleClick:function(e){e.preventDefault(),this._performAction(e.currentTarget.id)},_performAction:function(e){var t=this.itemActions[e];t&&setTimeout(function(){t()},10)},removeItem:function(e){var t=this.viewId+"_"+e;this.$menu.children("#"+t).remove(),delete this.itemSpecMap[e],delete this.itemActions[t]},addDivider:function(){var e=o('<li role="presentation" class="divider">');return this.$menu.append(e),e},addItem:function(e){this.itemSpecMap[e.name]=e;var t=o('<li id="'+this._getItemId(e.name)+'">'),i=null;return i=e.checked?o('<a role="menuitem" href="#" aria-label="'+e.label+'" aria-checked="true" class="menuitem-toggled">'+e.label+"</a>"):o('<a role="menuitem" href="#" aria-label="'+e.label+'" aria-checked="false">'+e.label+"</a>"),t.append(i),t.addClass("dropdown-menuitem"),t.addClass(e.name),this.$menu.append(t),this._buildMenuItem(e),t},showItem:function(e){this.$menu.find("."+e).removeClass("hidden")},hideItem:function(e){this.$menu.find("."+e).addClass("hidden")},_handleKeyboard:function(e){var t=e.which||e.keyCode||e.charCode,i=o(e.target);switch(t){case 9:e.shiftKey?i.hasClass("firstMenuItem")&&(i.closest("ul").find("a.lastMenuItem").focus(),e.preventDefault()):i.hasClass("lastMenuItem")&&(i.closest("ul").find("a.firstMenuItem").focus(),e.preventDefault());break;case 13:case 32:if(e.preventDefault(),this.$toggle.dropdown("toggle"),o(e.target).hasClass("dropdown-toggle")){this.$el.find(".dropdown-menu a").first().focus()}else{var n=this.getTarget(e.target,"dropdown-menuitem");this._performAction(n.id)}break;case 37:case 39:if(o(e.target.parentNode).hasClass("dropdown-menuitem")){var a=s.clone(e);a.keyCode=t+1,o(e.target).trigger(a)}}},_templateParams:function(){return{id:this.viewId,items:this.items,label:this.label,icon:this.icon,hcLabel:this.hcLabel,baseClass:this.baseClass,labelOnly:this.labelOnly,showTitle:this.showTitle}},render:function(){var e=this.dotTemplate(this._templateParams());this.$el.append(e),this.$el.addClass(this.baseClass+"ItemWrapper"),this.$el.addClass("dropdown"),this.$toggle=this.$el.children(".dropdown-toggle"),this.$toggle.addClass(this.baseClass+"Icon"),this.$iconImage=o('<span class="'+this.icon+'"></span>'),this.icon&&this.$toggle.prepend(this.$iconImage),this.$toggle.attr("title",this.label),this.$toggle.addClass(this.baseClass+"Item"),this.$menu=this.$el.children(".dropdown-menu"),this.trailing&&this.$menu.addClass("dropdown-menu-right");var t=this._buildDropDown();return this.$menuLabel=this.$el.find(".menu-label"),t},_buildDropDown:function(){var e=o.Deferred();return require(["bsdropdown"],function(){this.$toggle.dropdown(),this.action&&this.$el.on("show.bs.dropdown",this.action.bind(this)),this._buildMenuItems(),e.resolve(this.$el)}.bind(this)),e.promise()},_buildMenuItems:function(){s.each(this.items,function(e){this._buildMenuItem(e)}.bind(this))},_getItemId:function(e){return this.viewId+"_"+e},_buildMenuItem:function(e){var t=this._getItemId(e.name);this.itemActions[t]=e.action;var i=o("#"+t).get(0);i&&n.initElementForBidi(i)}})}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/Button",["../../util/View","lodash","../../../../@waca/core-client/js/core-client/utils/Utils"],function(e,n,a){"use strict";var o=null;return o=e.extend({events:{primaryaction:"_handleClick",mousedown:"_handleStartDrag",dragdown:"_handleStartDrag"},baseClass:"toolbar",init:function(e,t,i){this.group=null,this.selected=!1,this.toolbar=i,n.extend(this,e),o.inherited("init",this,arguments)},_handleClick:function(){if(!this.$("button").prop("disabled")){var e=null;this.action&&(e=this.action.apply(this,arguments)),this.arrow&&e&&e.then&&e.then(this.$el.addClass.bind(this.$el,"open")),this.$("button").prop("update")&&this.toolbar.updateButtons()}},_handleStartDrag:function(){this.$("button").prop("disabled")||this.startDrag&&this.startDrag.apply(this,arguments)},render:function(){var i;i=this.text?$("<button>"+this.text+"</button>"):$("<button></button>");var e=function(e,t){t&&i.attr(e,t)},t=function(e,t){t&&e.addClass(t)};return e("title",this.label),this.icon?a.setIcon(i,this.icon,this.label,this.label):e("aria-label",this.label),t(i,this.className),e("id",this.id),e("accesskey",this.accesskey),"function"==typeof this.disabled?!0===this.disabled()&&i.prop("disabled",!0):!0===this.disabled&&i.prop("disabled",!0),"function"==typeof this.update?!0===this.update()&&i.prop("update",!0):!0===this.update&&i.prop("update",!0),this.hidden&&this.$el.hide(),this.$el.empty().addClass(this.baseClass+"Icon "+this.baseClass+"Item").prepend(i),this.selected&&this.$el.addClass("selected"),t(this.$el,this.group),this.arrow&&this.$el.append($('<div class="arrow-wrapper"><div class="arrow"></div></div>')),this},setFocus:function(){this.$("button").focus()}})}),define("text!bacontentnav/lib/gemini/app/ui/templates/ApplicationBar.html",[],function(){return'<div id="{{=it.id}}" class="appbar" role="menubar">\n\t<div class="appbarRow">\n\t\t{{? it.showHome}}\n\t\t<div class="appbarHome" id="{{=it.id}}_home"></div>\n\t\t{{?}}\n\t\t<div class="appbarLeading" id="{{=it.id}}_leading"></div>\n\t\t<div class="appbarCenter" id="{{=it.id}}_center"></div>\n\t\t<div class="appbarTrailing" id="{{=it.id}}_trailing"></div>\n\t\t<div class="appbarOverflow" id="{{=it.id}}_root"></div>\n\t\t<div class="appbarProfile" id="{{=it.id}}_profile"></div>\n\t</div>\n</div>\n<div id="{{=it.id}}_subbar" class="subbar">\n</div>\n'}),define("bacontentnav/lib/gemini/dashboard/nls/DashboardResources",{root:!0,cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,no:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-br":!0,ro:!0,ru:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-cn":!0,"zh-tw":!0}),define("bacontentnav/lib/gemini/dashboard/nls/root/DashboardResources",{noSourcesSelectedLabel:"No sources selected",heatChartProp_colorPaletteLabel:"Color palettes",barChartProp_hideGridLinesDescription:"Hide grid lines",lineChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",editDashboardCoachMarkContents:"Click the pencil icon to edit this dashboard.",lineChartProp_lineColorLabel:"Line and symbol color",lineChartProp_interpolationLabel:"Smooth lines",NoPinsCollected:"No items collected",clusterLineDataSlot_valuesRepeatingLabel:"Value",moreMembers:"Show more...",areaChartProp_interpolationDescription:"Lines connecting the data points are curved.",radialChartCaption:"Radial",clusterColumnName:"Column",heatDataSlot_yAxisLabel:"Vertical axis",stackedColumnDataSlot_categoriesLabel:"Axis label",radialBarChartProp_maintainAxisScalesLabel:"Maintain axis scale",barChartCaption:"Bar",mapDescription:"Legacy Map",errorLoadingDataSetMetaData:"An error occurred while reading the metadata",lineColumnComboChartProp_maintainAxisScalesLabel:"Maintain axis scale",backLabel:"Go back",lineColumnComboChartProp_hideSymbolsLabel:"Hide symbols",hideShowSummaries:"Hide show summaries",pieChartDataSlot_categoriesLabel:"Categories",bubbleDataSlot_yAxisLabel:"Vertical axis",heatDescription:"Heat",scatterPlotDescription:"Scatter plot",tabName_general:"General",lineChartProp_hideSymbolsDescription:"Hide symbols",dataAssetPropertiesLabel:"Visualization properties",treeMapName:"Tree map",scatterPlotChartNoCatDataSlot_yAxisLabel:"Vertical axis",tabName_animation:"Animation",bodySmallTextLabel:"Body Small",pointChart1catProp_symbolShapeLabel:"Symbol shape",propWordColor:"Word color",areaDataSlot_valuesLabel:"Value",scatterPlotChartNoCatProp_elementColorLabel:"Element color",heatChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",columnChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",areaChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",packedBubbleChart1CatDataSlot_categoriesLabel:"Categories",clusterBarDataSlot_categoriesLabel:"Axis label",wordChart1Cat1MeasureProp_elementColorLabel:"Word color",pieDescription:"Pie",okButton:"OK",lineColumnComboChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",treeMapDataSlot_valuesLabel:"Size by",lineChartProp_interpolationDescription:"Lines connecting the data points are curved.",radialBarDataSlot_categoriesLabel:"Categories",packedBubbleChart1CatProp_hideLabelLabel:"Hide label",pointDataSlot_categoriesLabel:"Axis label",areaChartDataSlot_valuesLabel:"Value",imageWidgetLabel:"Image",areaChartProp_maintainAxisScalesLabel:"Maintain axis scale",packedBubbleDataSlot_colorLabel:"Color by",radialChartProp_hideRadialValueLabel:"Hide value",clusterColumnDataSlot_valuesLabel:"Value",barChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",map1measureDataSlot_valuesLabel:"Region heat",noStoryFound:"The story cannot be retrieved. Either it no longer exists or you don't have sufficient privileges to view it.",addDataDashboardCoachMarkContents:"Drag and drop data from the data panel onto your dashboard.",heatChartDataSlot_valuesLabel:"Heat by",bubbleChartProp_colorPaletteLabel:"Color palettes",selectTemplateLabel:"Select a template",columnChartProp_hideGridLinesDescription:"Hide grid lines",stackedColumnDescription:"Stack column",sourcePaneLabel:"Selected sources",propLineColor:"Line color",radialChartProp_elementColorLabel:"Radial bar color",noDashboardFound:"The dashboard cannot be retrieved. Either it no longer exists or you don't have sufficient privileges to view it.",clusterLineName:"Line",stackedColumnDataSlot_colorLabel:"Color by",radialChartProp_suppressZerosDescription:"Hide categories with no associated values.",barChartProp_maintainAxisScalesLabel:"Maintain axis scale",heatChartProp_hideLegendDescription:"Hide the legend.",tabName_textDetails:"Text details",cmDuplicateName:"An item with this name already exists. Try another name",editStoryCoachMarkTitle:"Edit story",lineColumnComboChartProp_symbolShapeLabel:"Symbol shape",HistogramYAxisTitle:"Count",pinAddedToast:"Item was successfully collected",crosstabName:"Crosstab",lineColumnComboChartDataSlot_lineValueLabel:"Line value",mapDataSlot_sizeHeatLabel:"Point heat",propElementColor:"Visualization element color",stackedColumnName:"Stack column",wordChart1Cat1MeasureProp_suppressZerosLabel:"Hide empty",addSourceLabel:"Add a source",radialBarChartProp_colorPaletteLabel:"Color palettes",treeMap1Cat1MeasureChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",radialDataSlot_categoriesLabel:"Categories",summaryChartDescription:"Summary",heatChartProp_legendPositionLabel:"Legend position",preAggregateLabel:"Apply prompt values from the data source",wordChart1Cat1MeasureProp_maintainAxisScalesLabel:"Maintain axis scale",noStoryPermision:"You do not have sufficient privileges to view this story",pieDataSlot_valuesLabel:"Value",heatName:"Heat",lineColumnComboChartProp_hideLegendLabel:"Hide legend",pieChartDataSlot_valuesLabel:"Value",pieName:"Pie",darkThemeLabel:"Dark",lineColumnComboChartDataSlot_categoryLabel:"Axis label",map1measureProp_heatScalePaletteLabel:"Color order",barChartProp_suppressZerosLabel:"Hide empty",pointChart1catProp_colorPaletteLabel:"Color palettes",pieChartProp_legendPositionLabel:"Legend position",tabName_visDetails:"Details",wordCloudDataSlot_colorLabel:"Color by",treeMapDescription:"Tree map",treeMap1Cat1MeasureChartProp_maintainAxisScalesLabel:"Maintain axis scale",bubbleChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",lineColumnComboDataSlot_lineValueLabel:"Line value",bubbleChartProp_hideGridLinesDescription:"Hide grid lines",stackedBarDataSlot_valuesRepeatingLabel:"Value",noMatchDatasets:"No matched data sets found.",scatterPlotDataSlot_yAxisLabel:"Vertical axis",timelineAnimationProperties:"Open animation properties",quoteSmallTextLabel:"Quote Small",value_is_not_available:"N/A",barChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",areaName:"Area",bubbleChartDataSlot_sizeLabel:"Size by",packedBubbleChart1CatProp_suppressZerosDescription:"Hide categories with no associated values.",treeMap1Cat1MeasureChartProp_hideLegendLabel:"Hide legend",treeMap1Cat1MeasureChartProp_colorPaletteLabel:"Color palettes",postAggregateLabel:"Apply prompt values in the report",pointChart1catDataSlot_categoriesLabel:"Axis label",scatterPlotDataSlot_categoriesLabel:"Points",metadataPickerTitle:"Create Data Set",pieChartProp_pieAsDonutLabel:"Display as donut chart",areaDescription:"Area",scatterPlotName:"Scatter plot",packedBubbleName:"Packed bubble",areaChartProp_lineColorLabel:"Area color",bubbleChartDataSlot_xAxisLabel:"Horizontal axis",scatterPlotChartNoCatProp_symbolShapeLabel:"Symbol shape",bubbleChartProp_hideLegendLabel:"Hide legend",lineColumnComboChartProp_hideLegendDescription:"Hide the legend.",lineColumnComboDataSlot_categoryLabel:"Axis label",radialName:"Radial",clusterLineDataSlot_colorLabel:"Color by",propHideEmpty:"Hide empty",heatChartProp_suppressZerosDescription:"Hide categories with no associated values.",columnChartProp_elementColorLabel:"Column color",shapesDoubleChevron:"Double chevron",lineColumnComboChartProp_elementColorLabel:"Column color",playerDescription:"Data player",map1measureProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",lineColumnComboChartProp_suppressZerosDescription:"Hide categories with no associated values.",stackedColumnDataSlot_valuesLabel:"Value",clusterBarDescription:"Bar",packedBubbleChart1CatProp_suppressZerosLabel:"Hide empty",areaChartProp_suppressZerosLabel:"Hide empty",clearFilterValueToolTip:"Clear filter values",treeMap1Cat1MeasureChartProp_hideLegendDescription:"Hide the legend.",lineChartProp_hideGridLinesDescription:"Hide grid lines",noDashboardCapability:"You do not have the capability to run the dashboard application",timeline_filter_moved_to:"Time line filter %{id} moved to %{time}",packedBubbleDataSlot_categoriesLabel:"Categories",lineChartProp_hideDataLinesLabel:"Hide line(s)",cmEmptySelectionStory:"The story has been deleted. Try to save as a new story",barChartDataSlot_valuesLabel:"Value",dataset_location:"location",bodyTextLabel:"Body",gridName:"Grid",dataset_time:"time",bubbleChartDataSlot_colorLabel:"Color by",dashboard:"Dashboard",propRadialbarColor:"Radial bar color",areaChartProp_interpolationLabel:"Smooth lines",radialBarChartProp_suppressZerosLabel:"Hide empty",cmEmptySelection:"The dashboard has been deleted. Try to save as a new dashboard",clusterBarDataSlot_valuesLabel:"Value",stackedBarDataSlot_colorLabel:"Color by",deletePinConfirm:"Confirm delete",areaChartProp_colorPaletteLabel:"Color palettes",propLineAndSymbolColor:"Line and symbol color",barChartDataSlot_categoriesLabel:"Axis label",createDashboardTitle:"Create dashboard",pieChartProp_suppressZerosLabel:"Hide empty",treeMapDataSlot_colorLabel:"Heat by",columnChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",wordChart1Cat1MeasureDataSlot_wordLabel:"Words",webpageWidgetLabel:"Webpage",pieChartProp_pieAsDonutDescription:"Display as donut chart",panAndZoomShimCoachmarkContent:"Select this story type to create an animated presentation that pans and zooms from scene to scene.",radialBarDataSlot_valuesLabel:"Value",treeMap2Cat2MeasureChartProp_colorPaletteLabel:"Color palettes",scatterPlotChartNoCatProp_colorPaletteLabel:"Color palettes",lineChartProp_hideDataLinesDescription:"Hide line(s)",treeMap1Cat2MeasureChartProp_colorPaletteLabel:"Color palettes",lineColumnComboChartCaption:"Line and column",wordCloudDataSlot_scaleLabel:"Size by",pinDeletedToast:"Collected item was removed",radialDescription:"Radial",areaChartProp_suppressZerosDescription:"Hide categories with no associated values.",wordChart1Cat1MeasureProp_colorPaletteLabel:"Color palettes",heatDataSlot_xAxisLabel:"Horizontal axis",heatChartDataSlot_yAxisLabel:"Vertical axis",lineColumnComboChartDataSlot_columnValueLabel:"Column value",lineChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",treeMap1Cat1MeasureChartCaption:"Tree map",summaryChartName:"Summary",subtitleTextLabel:"Subtitle",bubbleDataSlot_xAxisLabel:"Horizontal axis",lineChartProp_hideGridLinesLabel:"Hide grid lines",pointChart1catProp_suppressZerosDescription:"Hide categories with no associated values.",captionTextLabel:"Caption",pointChart1catProp_maintainAxisScalesLabel:"Maintain axis scale",heatChartProp_maintainAxisScalesLabel:"Maintain axis scale",radialDataSlot_valuesLabel:"Value",lineColumnComboChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",pointChart1catProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",clusterColumnDataSlot_colorLabel:"Color by",bubbleChartProp_hideGridLinesLabel:"Hide grid lines",lineColumnComboName:"Line and column",packedBubbleDataSlot_sizeLabel:"Size by",radialChartProp_colorPaletteLabel:"Color palettes",pieChartCaption:"Pie",addDataCoachMarkTitle:"Add data",scatterPlotChartNoCatDataSlot_xAxisLabel:"Horizontal axis",barChartProp_suppressZerosDescription:"Hide categories with no associated values.",radialBarChartProp_suppressZerosDescription:"Hide categories with no associated values.",lineChartProp_maintainAxisScalesLabel:"Maintain axis scale",pinLabel:"Collection",wordChart1Cat1MeasureProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",heatChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",radialBarChartDataSlot_valuesLabel:"Value",map1measureProp_maintainAxisScalesLabel:"Maintain axis scale",mediaWidgetLabel:"Media",columnChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",radialBarChartDataSlot_categoriesLabel:"Categories",stackedBarDataSlot_valuesLabel:"Value",radialChartProp_maintainAxisScalesLabel:"Maintain axis scale",playerDataSlot_categoriesLabel:"Axis label",mapName:"Legacy Map",pieChartProp_hideLegendDescription:"Hide the legend.",swapRowsAndColumns:"Swap rows and columns",treeMapDataSlot_level3Label:"Level three",editDashboardCoachMarkTitle:"Edit dashboard",bubbleDataSlot_colorLabel:"Color by",clusterLineDataSlot_categoriesLabel:"Horizontal axis",mapDataSlot_sizeLabel:"Point size",lineColumnComboChartProp_lineColorLabel:"Line and symbol color",lineChartDataSlot_valuesLabel:"Value",radialBarChartCaption:"Radial bar",expandSceneCoachmarkContent:"Animate a scene by adjusting object visibility based on time and duration.",titleSmallTextLabel:"Title Small",addDataStoryCoachMarkContents:"Drag and drop data from the data panel onto your story.",bubbleChartCaption:"Bubble",pointChart1catProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",areaChartProp_hideGridLinesLabel:"Hide grid lines",lineChartProp_suppressZerosDescription:"Hide categories with no associated values.",errorLoadingDataSet:"The metadata for data set '%{datasetName}' did not load. Please contact your administrator for details.",treeMap3Cat1MeasureChartProp_colorPaletteLabel:"Color palettes",clusterBarDataSlot_colorLabel:"Color by",scatterPlotChartNoCatProp_symbolFillLabel:"Fill shape",titleTextLabel:"Title",dataset_date:"date",pointDescription:"Point",bubbleDescription:"Bubble",treeMap2Cat1MeasureChartProp_colorPaletteLabel:"Color palettes",tabName_webDetails:"Web page details",clusterColumnDescription:"Column",applyFilter:"Apply filter",lineColumnComboChartProp_suppressZerosLabel:"Hide empty",dataset_number:"number",columnChartCaption:"Column",wordCloudName:"Word cloud",map1measureProp_suppressZerosDescription:"Hide categories with no associated values.",lineChartProp_hideSymbolsLabel:"Hide Symbols",scatterPlotChartNoCatProp_hideAxisTitleLabelsLabel:"Hide axis title labels",pointChart1catProp_hideAxisTitleLabelsLabel:"Hide axis title labels",find_label:"Find",invertSelectionToolTip:"Invert filter selections",intentSearchTitle:"Create a visualization based on your search",lineColumnComboChartProp_interpolationLabel:"Smooth lines",overviewCoachmarkTitle:"Overview scenes",bubbleName:"Bubble",columnChartDataSlot_valuesLabel:"Value",radialBarName:"Radial bar",areaDataSlot_categoriesLabel:"Axis label",treeMap1Cat1MeasureChartDataSlot_categoriesLabel:"Level one",pointChart1catProp_symbolFillDescription:"Display fill color for the symbols.",pieChartProp_hideLegendLabel:"Hide legend",summaryChartDataSlot_valuesLabel:"Value",packedBubbleChart1CatProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",barChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",radialChartProp_suppressZerosLabel:"Hide empty",packedBubbleChart1CatProp_elementColorLabel:"Bubble color",radialBarChartProp_hideRadialTitleLabel:"Hide title",treeMap1Cat1MeasureChartProp_suppressZerosDescription:"Hide categories with no associated values.",invertFilterSelection:"Invert",gridDescription:"Grid",columnChartProp_suppressZerosDescription:"Hide categories with no associated values.",mapDataSlot_categoriesLabel:"Regions",lineColumnComboDataSlot_columnValueLabel:"Column value",defaultName:"New dashboard",scatterPlotChartNoCatProp_symbolFillDescription:"Display fill color for the symbols.",story:"Story",expandSceneCoachmarkTitle:"Open timeline",editStoryCoachMarkContents:"Click the pencil icon to edit this story.",treeMapDataSlot_level2Label:"Level two",areaDataSlot_colorLabel:"Color by",previewUnavailable:"The data tray and global filters are unavailable for Framework Manager packages.",clusterLineDataSlot_valuesLabel:"Vertical axis",heatChartCaption:"Heat",columnChartProp_colorPaletteLabel:"Color palettes",lineColumnComboDescription:"Line and column",stackedBarName:"Stack bar",lineColumnComboChartProp_colorPaletteLabel:"Color palettes",areaChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",map1measureProp_hideLegendDescription:"Hide the legend.",errorLoadingDataSets:"An error occurred while loading the list of data sets",map1measureProp_colorPaletteLabel:"Color palettes",map1measureDataSlot_categoriesLabel:"Regions",pinDeleteError:"We can't delete one or more assets from the collection. Try again later.",noDashboardPermision:"You do not have sufficient privileges to view this dashboard",wordCloudDescription:"Word cloud",deletePin:"Delete the collected item",areaChartDataSlot_categoriesLabel:"Axis label",scatterPlotDataSlot_xAxisLabel:"Horizontal axis",createStoryTitle:"Create story",radialChartProp_hideRadialTitleLabel:"Hide title",clusterColumnDataSlot_categoriesLabel:"Axis label",overviewCoachmarkContent:"Use the overview scenes at the start and end of your story to show the big picture of all the scenes. From an overview scene, click and drag a scene to swap it with another scene. You can show or hide the overview scenes in the story properties.",heatChartProp_heatScalePaletteLabel:"Color order",intentSearchLabel:"Intent search",cancelButton:"Cancel",wordChart1Cat1MeasureDataSlot_scaleLabel:"Size by",lineChartProp_colorPaletteLabel:"Color palettes",treeMap3Cat2MeasureChartProp_colorPaletteLabel:"Color palettes",lineColumnComboChartProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",itemCountText:"%{itemCount} Item(s) selected",radialChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",radialChartDataSlot_categoriesLabel:"Categories",pointChart1catProp_suppressZerosLabel:"Hide empty",pinRetrieveError:"We can't retrieve one or more collected items. Try again later.",bubbleChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",scatterPlotChartNoCatCaption:"Scatter plot",wordChart1Cat1MeasureCaption:"Word cloud",lineChartProp_symbolShapeLabel:"Symbol shape",propColumnColor:"Column color",barChartProp_hideGridLinesLabel:"Hide grid lines",pieChartProp_hideRadialValueLabel:"Hide value",scatterPlotDataSlot_colorLabel:"Color by",unSupportedPromptType:"The prompt scenario is not currently supported.",missingDataSetData:"The data for this data set is not available. Refresh the data set or contact your administrator for access to the source.",columnChartProp_suppressZerosLabel:"Hide empty",heatChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",treeMap1Cat1MeasureChartProp_suppressZerosLabel:"Hide empty",addDataSourceDialogButtonLabel:"Add",timelineFilter:"Add filter",map1measureProp_suppressZerosLabel:"Hide empty",wordChart1Cat1MeasureProp_suppressZerosDescription:"Hide categories with no associated values.",propHideLeafNode:"Hide Lead Labels",heatChartProp_suppressZerosLabel:"Hide empty",lineColumnComboChartProp_hideGridLinesLabel:"Hide grid lines",radialBarChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",deletePinConfirmationMessage:"Are you sure you want to delete this collected item? This cannot be undone.",treeMapDataSlot_categoriesLabel:"Level one",sweepTransitionLabel:"Sweep",packedBubbleChart1CatCaption:"Packed bubble",clusterBarDataSlot_valuesRepeatingLabel:"Value",bubbleChartProp_maintainAxisScalesLabel:"Maintain axis scale",packedBubbleChart1CatProp_maintainAxisScalesLabel:"Maintain axis scale",pointChart1catDataSlot_valuesLabel:"Value",pointChart1catCaption:"Point",mapDataSlot_valuesLabel:"Region heat",lineChartProp_maintainAxisScalesDescription:"Always display the minimum and maximum values on the axes.",conditionalPalettePickerLabel:"Distribution of %{title} values",tabName_imageDetails:"Image details",pointDataSlot_colorLabel:"Color by",propColorOrder:"Color order",heatDataSlot_valuesLabel:"Heat by",areaChartCaption:"Area",radialDataSlot_maxSizeLabel:"Maximum value",treeMap1Cat1MeasureChartProp_legendPositionLabel:"Legend position",pieChartProp_suppressZerosDescription:"Hide categories with no associated values.",noTransitionLabel:"None",map1measureProp_hideLegendLabel:"Hide legend",packedBubbleChart1CatProp_hideValueLabel:"Hide value",heatChartProp_hideLegendLabel:"Hide legend",pieDataSlot_categoriesLabel:"Categories",errorLabel:"Error",lineColumnComboChartProp_hideGridLinesDescription:"Hide grid lines",tabName_mediaDetails:"Media details",quoteTextLabel:"Quote",propColorPalettes:"Color palettes",radialBarChartProp_elementColorLabel:"Radial bar color",noStoryCapability:"You do not have the capability to use stories",pointDataSlot_valuesLabel:"Value",defaultStoryName:"New story",clusterLineDescription:"Line",panAndZoomShimCoachmarkTitle:"Guided journey",defaultThemeLabel:"Default",modelFilter:"Filter",sourceNotFound:"We can't load the visualization, because its associated source '%{sourceName}' isn't available",propBarColor:"Bar color",sceneTransitionPropertyLabel:"Scene transition",radialBarDescription:"Radial bar",propAreaColor:"Area color",progressiveTransitionLabel:"Progressive",clusterBarName:"Bar",gridDataSlot_grid_colsLabel:"Column",wordCloudDataSlot_wordLabel:"Words",areaChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",treeMap1Cat1MeasureChartDataSlot_valuesLabel:"Size by",heatChartDataSlot_xAxisLabel:"Horizontal axis",bubbleChartDataSlot_yAxisLabel:"Vertical axis",clearTextFilterValue:"Clear",radialChartDataSlot_valuesLabel:"Value",stackedBarDataSlot_categoriesLabel:"Axis label",responsiveTextLabel:"Auto-size",pointChart1catProp_symbolFillLabel:"Fill shape",barChartProp_elementColorLabel:"Bar color",bubbleChartProp_hideAxisTitleLabelsLabel:"Hide axis title labels",searchHierarchyMembers:"Use search to find members...",map1measureProp_legendPositionLabel:"Legend position",pointName:"Point",itemExcludeCountText:"%{itemCount} Item(s) excluded",scatterPlotChartNoCatProp_hideGridLinesLabel:"Hide grid lines",pointChart1catProp_elementColorLabel:"Shape color",lineColumnComboChartProp_interpolationDescription:"Lines connecting the data points are curved.",filter_includesAll:"Includes all",moreTitle:"More",lineColumnComboChartProp_hideDataLinesDescription:"Hide line(s)",dataset_text:"text",preAggregateText:"The range uses the values in the data source, not the values displayed in the dashboard.",pointChart1catProp_hideGridLinesLabel:"Hide grid lines",widgetConditionalFormatLabel:"Toggle conditional format controls",lineColumnComboChartProp_hideSymbolsDescription:"Hide symbols",stackedColumnDataSlot_valuesRepeatingLabel:"Value",barChartProp_colorPaletteLabel:"Color palettes",bubbleChartProp_hideLegendDescription:"Hide the legend.",areaChartProp_hideGridLinesDescription:"Hide grid lines",clusterColumnDataSlot_valuesRepeatingLabel:"Value",remove_slider_handle:"Remove handle",packedBubbleChart1CatDataSlot_sizeLabel:"Size by",summaryCaption:"Summary",addDataSourceDialogTitle:"Add a data source",lineChartCaption:"Line",bubbleChartProp_legendPositionLabel:"Legend position",columnChartDataSlot_categoriesLabel:"Axis label",lineChartDataSlot_categoriesLabel:"Axis label",columnChartProp_hideGridLinesLabel:"Hide grid lines",scatterPlotChartNoCatProp_hideGridLinesDescription:"Hide grid lines",lineChartProp_suppressZerosLabel:"Hide empty",scatterPlotChartNoCatProp_hideAxisTitleLabelsDescription:"Hide the titles for the axes.",pointChart1catProp_hideGridLinesDescription:"Hide grid lines",lineColumnComboChartProp_legendPositionLabel:"Legend position",bubbleDataSlot_sizeLabel:"Size by",columnChartProp_maintainAxisScalesLabel:"Maintain axis scale",lightThemeLabel:"Light",packedBubbleChart1CatProp_colorPaletteLabel:"Color palettes",map1measureCaption:"Map",packedBubbleDescription:"Packed bubble",stackedBarDescription:"Stack bar",lineColumnComboChartProp_hideDataLinesLabel:"Hide line(s)",pieChartProp_colorPaletteLabel:"Color palettes",playerName:"Data player"}),define("bacontentnav/lib/gemini/app/nls/DashboardResources",{root:{appTitle:"Project Gemini",appExit:"Go to Welcome page",widgetsListLabel:"Widgets list. Select a widget and press enter to add.",listSeparator:", ",pointSeparator:":",insync:"Up-to-date",dirty:"Not up-to-date",conflict:"Conflict saving the view",error:"Problem saving the view",failure:"Unable to contact the server",saveFailed:"Unable to save the view",wa_insync:"Saved",wa_conflict:"Conflict saving the view",wa_error:"Unable to save the view",wa_failure:"Unable to contact the server",changeDisplay:"Change display",changeToColumnChart:"Change to column chart",changeToBubbleChart:"Change to bubble chart",toggleMoveHandles:"Toggle move handles",undo:"Undo",redo:"Redo",mode:"Change the mode",untitled:"Untitled",remove:"Remove",editTitle:"Edit the title",edit:"Edit",done:"Done",createAV:"Create",createAvEditNameLabel:"1. Name your view",createAvSelectTemplateLabel:"2. Select a template",selectTemplateLabel:"Select a template",singlePageLayoutLabel:"Single page layout",tabLayoutLabel:"Tabbed layout",slideShowLayoutLabel:"Slide show layout",panAndZoomLayoutLabel:"Guided journey layout",panAndZoomShimLayoutFooter:"A guided journey layout is a collection of scenes on a single canvas. When you run this type of story, the presentation zooms and pans on each individual scene in sequential order. This differs from a slide show layout where each scene is presented on a new canvas. The guided journey layout with three scenes connected by lines allows you to create a horizontal sequence of scenes. This is useful for showing a timeline.",infographicsLayoutLabel:"Infographic layout",panAndZoomShimLayoutLabel:"Guided journey layout",freeformTemplate:"Freeform",freeformTemplateDesc:"Visualizations in a freeform layout appear exactly as you size and place them in the view, regardless of the screen size. In the other layouts, the size and position of visualizations adjust to fit into the screen.",NoTemplate:"Free form",Template1:"Blank",Template2:"Title 1 by 2",Template3:"2 over 1",Template4:"4 over 1",Template5:"Footer 1 by 2 ",Template6:"3 beside 1 over 1",Template7:"4 beside 3 over 1",Template8:"2 over 3 by 2",Template9:"2 by 2",Template10:"1 by 2 beside 2 by 2 over 1",Template11:"3 by 1 over 1 by 2",Template12:"2 over 1 beside 1 by 2",Template13:"One beside 1 by 2 beside 1 by 4",Infographics1:"Blank",Infographics2:"4 rows",Infographics3:"4 rows with headers",Infographics4:"2 by 4",Infographics5:"Large top display with 2 by 2",Infographics6:"2 by 4 with vertical gap",Infographics7:"2 by 4 staggered",Infographics8:"Tennis court",Infographics9:"3 by 4",Infographics10:"4 by 8",PanAndZoomShim1:"5 scenes arranged in a rectangular shape",PanAndZoomShim2:"4 scenes arranged in a staircase shape going up from left to right",PanAndZoomShim3:"6 scenes arranged in a rectangular shape",PanAndZoomShim4:"7 scenes arranged in a rectangular shape, with 6 small scenes on the top and 1 large scene on the bottom",PanAndZoomShim5:"4 scenes arranged with 2 small scenes on the top, 1 large scene in the middle, and 1 small scene on the bottom-left",PanAndZoomShim6:"A sequence of 4 scenes arranged horizontally",createAvDashboardLabel:"Dashboard",createAvDataStoryLabel:"Story",createAvSinglePageLabel:"Single page",createAvTabLabel:"Tabbed",createAvInfographicsLabel:"Infographic",createAvSlideShowLabel:"Slide show",createAvPanAndZoomLabel:"Guided journey",dataTrayHandleOpenLabel:"Open data tray",dataTrayHandleCloseLabel:"Close data tray",dataTrayHandleOpenLabelSceneSelector:"Open scene selector",dataTrayHandleCloseLabelSceneSelector:"Close scene selector",dlg_loading:"Loading...",dlg_ok:"OK",dlg_cancel:"Cancel",dlg_close:"Close",dlg_update:"Update",dlg_renameBoardTitle:"Rename this object",dlg_renameDatasetTitle:"Rename this data set",dlg_renameSceneTitle:"Rename this scene",dlg_NameLabel:"Name:",dlg_NewNameLabel:"New name:",dlg_DefaultNameWithDataSet:"%{name} View",dlg_ShareTitle:"Share content",dlg_UnshareTitle:"Remove content sharing",dlg_ShareUser:"User ID:",dlg_NewColumnLabel:"New calculation name",dlg_new:"New...",dlg_open:"Open...",dlg_makeACopy:"Make a copy",dlg_rename:"Rename...",dlg_moreToCome:"More actions coming...",dlg_createStory:"Create a story",dlg_use:"Use",dlg_IntentResultsTitle:"Select a data set",dlg_IntentHeaderName:"Name",dlg_IntentHeaderDate:"Date",dlg_IntentSearchClear:"Clear intent search terms",dlg_IntentNoMatch:"We can't find any matches. Try again with different terms.",dlg_RelinkDatasetTitle:"Replace data set '%{datasetName}' with ...",open_error:"A problem occurred while opening the view.",del_dialogTitle:"Confirm deletion",del_itemMsg:"Are you sure you want to delete '%{name}'?",del_itemsMsg:"Are you sure you want to delete %{count} items?",del_deleteErr:"Unable to delete '%{name}'",dlg_ascending:"ascending",dlg_descending:"descending",dlg_custom:"custom",dlg_none:"none",search:"Search",searchHint:"Search all your data",clearSearchResult:"Clear search results",shapesBasicShapesCat:"Basic",shapesCircle:"Circle",shapesHexagon:"Hexagon",shapesLine:"Line",shapesOctagon:"Octagon",shapesPentagon:"Pentagon",shapesSquare:"Square",shapesTriangle:"Triangle",shapesDiamond:"Diamond",shapesTitle:"Shape properties",shapesAdvancedShapesCat:"Advanced",shapesSquareRounded:"Rounded square",shapesStar:"Star",shapesChevron:"Chevron",shapesBadge_ribbon:"Badge ribbon",shapesBadge:"Badge",shapesHeart:"Heart",shapesExclamation:"Exclamation",shapesTrendingup:"Trending up",shapesTrendingdown:"Trending down",shapesX:"X",shapesPeopleCat:"People",shapesFemale:"Female",shapesHappyface:"Happy face",shapesMale:"Male",shapesMan:"Man",shapesNeutralface:"Neutral face",shapesSadface:"Sad face",shapesShakehands:"Shake hands",shapesThumbsdown:"Thumbs down",shapesThumbsup:"Thumbs up",shapesWoman:"Woman",shapesPlacesWeatherCat:"Places & weather",shapesCity:"City",shapesCloud:"Cloud",shapesEducation:"Education",shapesGovernment:"Government",shapesHalfcloud:"Half cloud",shapesHouse:"House",shapesMoon:"Moon",shapesRain:"Rain",shapesSunny:"Sunny",shapesVehiclesCat:"Vehicles",shapesAirplane:"Airplane",shapesCar:"Car",shapesShip:"Ship",shapesShoppingcart:"Shopping cart",shapesTrain:"Train",shapesTruck:"Truck",shapesObjectsCat:"Objects",shapesBook:"Book",shapesBriefcase:"Briefcase",shapesCalendar:"Calendar",shapesCheck:"Check",shapesClock:"Clock",shapesDesktop:"Desktop",shapesDocument:"Document",shapesFood:"Food",shapesGear:"Gear",shapesHealth:"Health",shapesIdea:"Idea",shapesMobile:"Mobile",shapesMoney_bill:"Money bill",shapesMoney_coin:"Money coin",shapesPiggybank:"Piggy bank",shapesStackofpaper:"Stack of paper",shapesStickynote1:"Sticky Note 1",shapesStickynote2:"Sticky Note 2",shapesTarget:"Target",shapesTool:"Tool",shapesUmbrella:"Umbrella",shapesBrain:"Brain",shapesSkull:"Skull",shapesEye:"Eye",shapesArrowsCat:"Arrows",shapesRightArrow:"Right arrow",shapesLeftArrow:"Left arrow",shapesDoubleArrow:"Double arrow",shapesCurvedArrow:"Curved arrow",shapesCalloutsCat:"Callouts",shapesRectCallout:"Callout",imageWidgetTitle:"Image widget",imageTextLabel:"Paste the URL and press Enter to save it",imgUrl:"Image URL",imgPasteLink:"Paste the URL and press Enter to save it",imgAltText:"Alternate text",imgAltTextDescription:"Text that is read by a screen reader",imgResizeToFit:"Resize to fit the image's size",imgHeight:"Height:",imgWidth:"Width:",imgTransparency:"Transparency:",imgMissingUrl:"The image URL is missing",imgUrlValidationError:"The image URL is not valid",playButtonLabel:"Play",dataPlayerValueListLabel:"Data player values",textStyle:"Styles",textStyleDescription:"Preformatted text styles",textTitleStyle:"Title",textTitleSmallStyle:"Title small",textSubtitleStyle:"Subtitle",textBodyStyle:"Body",textBodySmallStyle:"Body small",textCaptionStyle:"Caption",textQuoteStyle:"Quote",textQuoteSmallStyle:"Quote small",textResponsiveStyle:"Auto-size",textAutoFontSize:"Auto",responsiveCoachmarkTitle:"Auto-size font",responsiveCoachmarkContent:"The font size automatically resizes to fit when you resize this text type. You can set the font size in the text properties.",propText:"Text properties",propTextReturn:"Text properties",textPlaceHolder:"Enter your text here.",textFontSize:"Font size",textFontFamily:"Font family",textFontWeight:"Font weight",propAltText:"Alternate text",propImageLink:"Image link",propMissingURL:"Enter URL",propMissingAltText:"Enter alternate text",propImgTop:"Image properties",propGeneralReturn:"General properties",propStyle:"General",propStyleReturn:"General",propFillColor:"Fill color",propTextColor:"Text color",propBorderColor:"Border color",propMaintainAxisScales:"Maintain axis scale",propShowItemLabel:"Show the item label",propHideLegend:"Hide the legend",propColorPalette:"Palette",propLegendPosition:"Legend position",propHideAxisTitleLabels:"Hide axis titles",propLineColor:"Line color",propBubbleColor:"Bubble color",propInterpolation:"Smooth lines",propElementColor:"Visualization element color",propSymbolShape:"Symbol shape",propHeatScalePalette:"Color order",propHeatScalePalette_tooltipDarkerForLowerValue:"Darker colors represent smaller values.",propHeatScalePalette_tooltipDarkerForHigherValue:"Darker colors represent larger values.",propImageDetails:"Image details",propWebDetails:"Web page details",propMediaDetails:"Media details",propPasteLink:"Enter the URL and press Enter",propScaleLabel:"Quantity of icons",propScaleDescription:"Select the quantity of icons",propScaleFew:"Low",propScaleDefault:"Default",propScaleMany:"High",mediaAriaLabel:"url input",ariaGroupLabel:"Dropdown list category: %{cateoryLabel} item: %{itemLabel}. Press DOWN key to expand. Press UP and DOWN key to navigate or Press ESCAPE key to collapse.",propTheme:"Theme",lastRefresh:"Last refresh: %{timeInterval} ago",widgetTimer:"Widget timer",transparent:"No color",white:"White",lightGrey:"Light grey",grey:"Grey",darkGrey:"Dark grey",black:"Black",lightBlue:"Light blue",blue:"Blue",darkBlue:"Dark blue",yellow:"Yellow",orange:"Orange",lime:"Lime",green:"Green",peach:"Peach",red:"Red",violet:"Violet",aqua:"Aqua",purple:"Purple",plum:"plum",propDashboardBackgroundColor:"Background color",propShowStoryOverviewFirstSlide:"Show all scenes at the start",propShowStoryOverviewLastSlide:"Show all scenes at the end",propVisType:"Visualization types",propVisTypeReturn:"Visualization types",propVisDetails:"Details",propAniDetails:"Animation",propAniDetailsReturn:"Animation",propAniEntrance:"Entrance",propAniTypeEntrance:"Animation",propAniTypeEntranceSlideIn:"Slide in",propAniTypeEntranceFadeIn:"Fade in",propAniTypeEntrancePivotIn:"Pivot in",propAniTypeEntranceScaleIn:"Scale in",propAniTypeEntranceShrinkIn:"Shrink in",propAniDirectionIn:"Direction",propAniDirectionInLeft:"From left",propAniDirectionInRight:"From right",propAniDirectionInTop:"From top",propAniDirectionInBottom:"From bottom",propAniExit:"Exit",propAniTypeExit:"Animation",propAniTypeExitSlideIn:"Slide out",propAniTypeExitFadeIn:"Fade out",propAniTypeExitPivotOut:"Pivot out",propAniTypeExitScaleIn:"Scale out",propAniTypeExitExpandOut:"Expand out",propAniDirectionOut:"Direction",propAniDirectionOutLeft:"To left",propAniDirectionOutRight:"To right",propAniDirectionOutTop:"To top",propAniDirectionOutBottom:"To bottom",propAlignPickTop:"Align top",propAlignPickRight:"Align right",propAlignPickBottom:"Align bottom",propAlignPickLeft:"Align left",propAlignPickCenter:"Align center",propAlignPicker:"Alignment",propToolbarPickBold:"Bold",propToolbarPickUnderline:"Underline",propToolbarPickItalic:"Italic",propToolbarPickJustifyLeft:"Align left",propToolbarPickJustifyCenter:"Align center",propToolbarPickJustifyRight:"Align right",propToolbarPickJustify:"Justify",propCircle:"Circle",propTriangle:"Triangle",propSquare:"Square",propRect:"Rectangle",propStar:"Star",propCross:"Cross",propPlus:"Plus",propPoly:"Polygon",propTrue:"True",propFalse:"False",propLeft:"Left",propRight:"Right",propTop:"Top",propBottom:"Bottom",propSmooth:"Smooth",propStraight:"Straight",srILVTreeLabel:"List",srWidgetMoveLeft:"Move left",srWidgetMoveUp:"Move up",srWidgetMoveRight:"Move right",srWidgetMoveDown:"Move down",srWidgetResizeBigger:"Increase the size proportionally",srWidgetResizeSmaller:"Decrease the size proportionally",srWidgetResizeBiggerV:"Increase the size vertically",srWidgetResizeSmallerV:"Decrease the size vertically",srWidgetResizeBiggerH:"Increase the size horizontally",srWidgetResizeSmallerH:"Decrease the size horizontally",srWidgetRotateCW:"Rotate clockwise",srWidgetRotateCCW:"Rotate counterclockwise",visRecommendedTypes:"Recommended visualization types",visMore:"More...",visMoreTooltip:"More visualizations",visOtherTypes:"Other visualization types",visChange:"Change visualization",automaticArchetypeCaption:"Automatic",visualizationLabel:"Visualization",chartLabel:"%{chartName} chart",dataWidgetDescription:"%{widgetLabel}: %{columnNames}",f12KeyDescription:"Press F12 to navigate within the widget",f10KeyDescription:"Press F10 to launch the widget focus view",WidgetLabelWithDescripion:"%{label}. %{description}",summaryLabel:"%{label} with value %{value}",shapeColorLabel:"Shape color",showLegendLabel:"Show legend",webpageWidgetTitle:"Webpage widget",webpagePasteLink:"Paste the URL and press Enter to save it",propWebpageLink:"Web page URL",propWebpageTitle:"Web page title",propWebpageTitleDescription:"Title of the web page",propWebpageTop:"Web page properties",webpageMissingUrl:"The web page URL is missing",webpageUrlValidationError:"The web page URL is not valid",webpageHttpValidationError:"The web page must be accessed using an HTTPS link for the browser to display it",vzErrorLoading:"Unable to load visualization",vzErrorLoadingMissingData:"Unable to load visualization, missing context data",mediaWidgetTitle:"Media widget",mediaPasteLink:"Paste the URL and press Enter to save it",videoHeight:"Height:",videoWidth:"Width:",propMediaLink:"Media link",propMediaTitle:"Media title",propMediaTitleDescription:"Title of the media",propMediaTop:"Media properties",mediaMissingUrl:"The media link URL is missing",mediaUrlValidationError:"The media file URL is not valid",mediaUnknownValidationError:"This type of media is not supported",mediaHttpValidationError:"The media file must be accessed using an HTTPS link for the browser to display it",commonPropertiesLabel:"Properties",dataSetsLabel:"Data set",dataViewsLabel:"View",columnQuality:"Data quality",columnProperties:"Data properties",dataQuality:"Data quality",dataQualityRowCount:"Number of rows",dataQualityDistribution:"Distribution",dataRowLabel:"Data",storytellingSceneLabel:"Scene",storytellingAddSceneLabel:"Add a new scene",storytellingInsertSceneLabel:"Insert a new scene",storySceneSingleCountLabel:"1 scene",storySceneCountLabel:"%{count} scenes",storySceneRangeCountLabel:"Scene %{index} of %{count}",storySceneExpand:"Open timeline",timelineRightContainerLabel:"Timeline button control group",timelineViewLabel:"Timeline",timelineZoomFit:"Zoom to fit",timelineZoomIn:"Zoom in",timelineZoomOut:"Zoom out",timelineLeftHandle:"left handle",timelineRightHandle:"right handle",timelineMoveLeft:"Move %{object} left",timelineMoveRight:"Move %{object} right",timelinePositionIndicatorMoveLeftTo:"timeline position indicator move left to %{position}",timelinePositionIndicatorMoveRightTo:"timeline position indicator move right to %{position}",adminTitle:"Administration",adminAccount:"Account",adminConnCreate:"Create new connection",adminConnEdit:"Edit connection",adminConnTest:"Test connection",adminConnTestButton:"Test",adminConnTestConnection:"Please provide credentials for the connection %{name}:",adminConnTestFailed:"Failed",adminConnTestFailure:"We can't connect to the <i>%{name}</i> database. Review the message that we received from the database then attempt to correct the problem.",adminConnTestFailureDetailsLess:"Hide details",adminConnTestFailureDetailsMore:"Show details",adminConnTestFailureLess:"Less",adminConnTestFailureMore:"More",adminConnTestInProgress:"Testing",adminConnTestSuccess:"Succeeded",adminDataConnections:"Data connections",adminSecureGateway:"Secured gateways",adminEmail:"Contact email",adminFullname:"Full name",adminRole:"Role",adminScxRole:"Subscription roles",adminSignonUnchanged:"User ID is set, edit to change.",adminUserId:"User ID",adminUserProfile:"User profile",adminUsers:"Users",adminFirstName:"First name",adminLastName:"Last name",adminErrorTitle:"We're sorry",adminServiceError:"The server or service stopped responding. Please try again later.",adminServiceInviteConflict:"We're unable to send the invitation.  This happens if the user has already been invited but hasn't accepted the invitation yet. Or the user might have been deleted from the account.",scxServerNotAvailable:"The subscription administration service is currently unavailable.",adminSelectRoleTitle:"Select a role",adminLastAdminErrorTitle:"Unable to change role",adminLastAdminError:"There is the only user with Administrator role.\n\nYou need to have at least one user with Administrator role.",adminSubscriptionLabel:"Subscription",adminSubscriptionVersion:"You are currently subscribed to <b>%{version}</b>.",adminSubscriptionUpgrade:'<a href="" target="_blank" class="upgradeLink"><span class="wfg_add"></span>Edit options</a> for storage space, licenses, and subscriptions.',adminSubscriptionLearnMore:"Learn more about other subscription options.",adminPurchasesLabel:"Purchases",adminTotalSpaceLabel:"Total space",adminSpaceInfo:"Your maximum upload size is %{maxUpload} and the maximum number of columns allowed in your data set is %{numCols} columns.",adminAvailableLabel:"Available",adminUsedLabel:"Used",adminTotalLabel:"Total",adminLicensesLabel:"Licenses",adminEditLabel:"Edit",adminPromoCodeLabel:"Promotion code",adminAccountError:"We can't retrieve the account details. Please try again later.",adminUnitsB:"B",adminUnitsBLabel:"%{value} B",adminUnitsKB:"KB",adminUnitsKBLabel:"%{value} KB",adminUnitsMB:"MB",adminUnitsMBLabel:"%{value} MB",adminUnitsGB:"GB",adminUnitsGBLabel:"%{value} GB",adminUnitsTB:"TB",adminUnitsTBLabel:"%{value} TB",adminUnitsPB:"PB",adminUnitsPBLabel:"%{value} PB",adminOperatorPrefix:"%{prefix} %{value}",adminUnknown:"Unknown",adminNoPurchases:"No purchases found",adminUserDelete:"Are you sure you want to delete this user?",adminUsersDelete:"Are you sure you want to delete these users?",adminUsersDeleteFailDesc:"Errors with deleting users.",adminUsersDeleteFailTitle:"Delete Error",adminUsersDeleteSuccessDesc:"Users were successfully deleted.",adminUsersDeleteSuccessTitle:"Success!",adminUsersHeadingName:"Name",adminUsersHeadingStatus:"Status",adminUsersHeadingLastModified:"Last modified",adminUsersInviteLabel:"Invite user",adminUsersManageAccountsLabel:"Manage user accounts",adminDropHere:"Drop your .csv file here or tap to browse",adminInviteCancelled:"This user wasn't invited yet. Request was cancelled.",adminInviteCount:"You selected %{count} users. (max %{max})",adminInviteDisclaimer:"* You can invite %{count} users at a time",adminInviteErrorCode:"[Error %{errorcode}]",adminInviteErrorLine:"%{email} - %{reason} %{action} %{errorcode}",adminInviteInProgress:"Inviting users...",adminInviteCancelDesc:"Cancelling...",adminInviteCancelTitle:"Cancel",adminInviteFailDesc:"We encountered %{count} errors.<br>Review the messages below to determine which user invitations failed.",adminInviteFailTitle:"We didn't invite everyone",adminInviteOverLimit:"This user wasn't invited yet. You can invite up to %{count} users at a time and this user exceeded that limit.",adminInviteSuccessCount:"We successfully invited %{count} of your selected %{selectedCount} users.",adminInviteTryAgain:'Tap "Invite uploaded users" again to invite the next %{count} users.',adminInviteServerError:"Server error (%{errorcode}). Please try again.",adminInviteSuccessDesc:"Successfully invited users.",adminInviteSuccessTitle:"Success!",adminUpload:"Upload data",adminUploadDesc:"To invite multiple users, create a .csv file or save a spreadsheet as the file type <b>CSV</b>.<br><br>The CSV file must have 3 columns in this order: email address, given name, and family name.<br>Do not include other columns.",adminUploadHelpLink:"Learn more",adminUsersDeleteAll:"Delete users",adminUsersInviteAll:"Invite uploaded users",adminUsersUpload:"Upload users",adminUploading:"Uploading Data...",adminUploadErrorLine:"Line %{line}: %{reason}",adminUploadSuccess:"Success!",adminUploadSuccessDesc:"Your file '%{name}' has been successfuly uploaded.",adminUploadFailCount:"We found %{failedCount} errors in your file.",adminUploadFailDesc:"Make sure that there are no empty fields and that all email addresses are valid. <br><br>Please check your file and resubmit.",adminUploadFailTitle:"We can't upload your file",adminUserStatus_PRELOAD:"Not invited yet",adminUserStatus_INVITATION_PENDING:"Invited",adminUserStatus_INACTIVE_PENDING:"Invited but not activated",adminUserStatus_ACTIVE:"Active",adminUserStatus_INACTIVE_SUSPENDED:"Suspended",conn_biurl:"URL",conn_dbname:"Database name",conn_dbtypeid:"Database type",conn_host:"Server name",conn_name:"Connection name",conn_password:"Password",conn_password_confirm:"Confirm password",conn_port:"Port number",conn_port_validation:"Only numbers are allowed for port.",conn_schema:"Database schema",conn_signon:"Include signon",conn_ssl:"Use SSL",conn_sslcertificate:"SSL certificate (optional)",conn_sslcertificate_set:"SSL certificate is set, edit to change.",conn_url:"JDBC connection parameters (optional)",conn_user:"User ID",connType_Cognos_BI:"IBM Cognos BI Server",connType_IBM_DB2:"IBM DB2",connType_MySQL:"MySQL",connType_Oracle:"Oracle",connType_Postgres:"PostgreSQL",connType_SQLDB:"IBM SQL Database for Bluemix",connType_SQL_Server:"Microsoft SQL Server",connType_dashDB:"IBM dashDB",bi_connect_error:'Connection files have not been installed in the required folder on your IBM Cognos BI server.<br><br>Contact your IBM Cognos BI administrator, who can enable the connection. For more information, see the <a class="wah-anchor" href="https://watson.analytics.ibmcloud.com/docs/help/#wa_an_overview/wa-an-admin-dataconn-c10_admin.html" target="_blank">Docs</a>.',bi_notrunning_error:'We can\'t reach the IBM Cognos BI server using the URL you provided.<br><br>Verify that the URL is correct. See the <a class="wah-anchor" href="https://watson.analytics.ibmcloud.com/docs/help/#wa_an_overview/wa_an_hlp_c10_conn_err.html" target="_blank">Docs</a> for other possible reasons why you can\'t connect.',bi_info:"The server must use a secure web protocol and the URL must begin with https.<br>For example, https://bi_server.example.com/ibmcognos",dbTypeRestrictionLabel:"With your subscription, you can only create and use connections to one database type at a time.<br><br>To connect to another database type, delete all database connections, then create new connections.&nbsp;&nbsp;To connect to multiple database types simultaneously, upgrade your subscription. ",typeColumn:"Type",modellingColumnType:"Type",modellingColumnAggregation:"Aggregation",modellingColumnUsage:"Usage",modellingColumnSort:"Sort",modellingColumnFormat:"Format",modellingColumnCategory:"Category",modellingLoading:"Loading...",modellingProcessing:"Processing...",modellingImport:"Import",modellingReimport:"Re-import",modellingDatasourceTitle:"Data source",modellingImportStartedTitle:"Importing started",modellingImportStartedText:"Importing your data may take a bit of time.\n\n(You can create a view while the data is imported.)",importDatasourceTitle:"Connections",dropHere:"Drop here to create a new data source...",browseButton:"Browse",errorNoData:"There is no data to process.",errorNoFile:"There is no file to upload.",errorUploadFailed:"Unable to upload.",uploadSucceessful:"Upload succeessful",del_datasourceTitle:"Delete data set",del_datasourceMsg:"Are you sure you wish to delete '%{name}'?",modellingFileUpdate:"Update",modellingFileUpdateTitle:"Update data set",modellingFileUpdateDescription:"Do you want to update '%{name}'?",modellingFileUpdatingTitle:"Updating '%{name}'",modellingUpdateStartedTitle:"Update import started",modellingUpdateStartedText:"Updating your data may take a bit of time.\n\n(You can create a view while the data is updated.)",modellingErrorImportUploadNoFile:"No file to upload.",modellingErrorImportUploadFailed:"Unable to upload.",modellingErrorImportUploadInvalidType:"The file type is not valid.",modellingErrorImportUploadTableFailed:"Unable to get tables.",modellingIntentResultsTitle:"Select the proposed data set to use",modellingColumnViewRelationships:"View related tables",modellingTableRelatedTables:"Tables related to '%{name}'",modellingTable:"%{name} - Table",modellingColumnIncludedInDataSet:"Added",modellingDataSet:"Data set",modellingViewInDataSet:"View in data set",modellingViewRelatedTables:"View related",modellingRelatedTablesNoneFound:"No related tables found",modellingValidatingDataset:"Validating...",datasetFinishedRefreshing:"Data set %{datasetName} has been refreshed.",modellingJoinTable:"Resolve join path:",modellingJoinColumns:"Define a join path for table: %{name}",modellingJoinToTable:"Join to table: %{name}",excluded:"Excluded",metricPrefixThousand:"K",metricPrefixMillion:"M",metricPrefixBillion:"B",metricPrefixTrillion:"T",metricPrefixQuadrillion:"Q",modellingColumnFilter:"Filter",modellingColumnSortNone:"Clear the sort",modellingColumnSortAsc:"Sort ascending",modellingColumnSortDesc:"Sort descending",modellingColumnRemove:"Remove this column",dropboxPageTitle:"New Dropbox connection",sizeColumn:"Size",dataType_string:"String",dataType_date:"Date",dataType_integer:"Integer",dataType_double:"Double",dataType_float:"Float",dataType_boolean:"Boolean",defaultAggregation_count:"Count",defaultAggregation_countdistinct:"Count distinct",defaultAggregation_max:"Maximum",defaultAggregation_min:"Minimum",defaultAggregation_avg:"Average",defaultAggregation_sum:"Sum",defaultAggregation_auto:"Auto (%{aggregationType})",type_fact:"Fact",type_attribute:"Attribute",defaultSort_none:"Do not sort",defaultSort_asc:"Sort ascending",defaultSort_desc:"Sort descending",category_none:"None",category_location:"Location",category_monetary:"Monetary",category_time:"Time",rootMenuTitle:"Main menu",errorMessageTitle:"Error",errorMessageDetails:"Details: ",errorMessageTitleAssetAlreadyExists:"Asset already exists",defaultTabTitle:"Tab %{index}",tabAddBtnTitle:"Add a new tab",nameColumn:"Name",creatorColumn:"Created by",creationDateColumn:"Date created",versionColumn:"Version",modifiedColumn:"Last Modified",filterBy:"Filter items",allFilter:"All items",createdByMeFilter:"Created by me",sharedWithMeFilter:"Shared with me",favoritesFilter:"My favorites",recentsFilter:"Recently added",sortBy:"Sort by",sortModified:"Modified",sortUpdated:"Updated",sortName:"Name",viewAs:"View as",thumbnailsView:"View as thumbnails",listView:"View as a list",createMenu:"Create",newAppItem:"Dashboard",newDataSet:"Data set",newStory:"Story",menuSelectionState_a11y:'"%{item}" selector set to "%{selectedItem}"',unableToShareItem:'Unable to share item "%{item}".',toastFetchingContent:"Getting more content...",unableToGetData:"Unable to get content.",unableToFavorite:"Unable to change the Favorite status.",hpErrorMissingRequiredOptions:"Missing required initialization options",unableToOpenBoard:'Unable to open "%{name}".',unableToDuplicateBoard:'Unable to duplicate "%{name}".',unableToCreateBoard:'Unable to create "%{name}".',unableToCreateBoardNameConflict:"An asset with the same name already exists.",status:"Status",numberOfRows:"Rows",importWarnings:"Warnings",lineNumbers:"Lines",excerptFromSource:"Excerpt",reason:"Reason",numberOfRowsDropped:"rows dropped",oneRowDropped:"1 row was dropped",typeMenuLabel:"Type",dashboardsLabel:"Dashboards",datasetsLabel:"Data sets",storiesLabel:"Stories",allLabel:"All types",datasets:"Data sets",settings:"Properties",add:"Add",widgets:"Widgets",dashboardProperties:"Dashboard properties",storyProperties:"Story properties",pins:"Collection",pinCount:"%{smart_count} collected item |||| %{smart_count} collected items",pinSearch:"Search",pinListView:"List view",pinIconView:"Icon view",pinRemove:"Remove",pinCreate:"Create",pinDateFilter:"Date Filter",pinDateFilterAll:"All",pinDateFilterToday:"Today",pinDateFilterYesterday:"Yesterday",pinDateFilterPastWeek:"Past week",pinDateFilterPastMonth:"Past month",pinDateFilterEarlier:"Earlier",toolbarRegionLabel:"Toolbar",toolbarActionDelete:"Delete",toolbarActionGroup:"Group",toolbarActionUngroup:"Ungroup",toolbarActionOrder:"Order",toolbarActionEditTitle:"Edit the title",toolbarActionPin:"Collect",toolbarActionTimeline:"Set the scene timeline",toolbarActionSort:"Sort",toolbarActionSortAscending:"Sort ascending",toolbarActionSortDescending:"Sort descending",toolbarActionSortAuto:"Auto (%{sortOrder})",toolbarActionFormat:"Format",toolbarActionFormatAbbreviation:"Abbreviate",toolbarActionFormatNone:"Auto",toolbarActionFilter:"Filter",toolbarActionTopBottom:"Top or bottom",toolbarActionToggleShapeDrop:"Infographic shape",toolbarActionToggleShapeDropTitle:"Create an infographic",toolbarActionToggleShapeDropText:"Drag a shape to this field to create an infographic.",toolbarActionAggregationType:"Summarize",toolbarActionFilterLocalKeepSelected:"Keep",toolbarActionFilterLocalExcludeSelected:"Exclude",toolbarActionFilterAllKeepSelected:"Filter",toolbarActionSimpleCalculation:"Simple calculation",toolbarActionDrillBack:"Back",toolbarActionDrillUp:"Drill up",toolbarActionDrillDown:"Drill down",toolbarActionNavigate:"Navigate",toolbarActionCreateFilterGroup:"Create new connection",toolbarActionDisconnectFilterGroup:"Break all links",toolbarActionLinkFilterGroup:"Add to an existing connection",toolbarLabel:"%{labelName}:",toolbarNoValueLabel:"%{labelName}",sidebarAdd:"Add",sidebarMultiselect:"Toggle multiple selection",multiselectMsg:"%{count} selected",multiselectWithTotalMsg:"%{count} of %{total}",sidebarGoBack:"Go back",errorLoadingDataSets:"We can't load this data set",errorLoadingDataSetMetaData:"We can't load this data set",dataSetPaneLastUpdated:"Last updated: %{date}",dataSetPaneDateUnknown:"Unknown",sourcePaneLabel:"Selected sources",addSourceLabel:"Add a source",intentSearchLabel:"Intent search",find_label:"Find",navigationPathsLabel:"Navigation paths",errorLoadingWidgetList:"We can't load the objects.",errorLoadingThemeFile:"We can't load the theme definition",errorLoadingLayoutFile:"We can't load the view.",dwErrorLoadingAvailableVisualizations:"We can't load the available visualization definitions",dwErrorLoadingVisualizationNotFound:"We can't load the object, because it is missing a visualization definition",dwErrorLoadingVisualizationListNotFound:"We can't load the visualization.",dwErrorRunningQuery:"We can't retrieve the data from data set %{datasetName}.",dwErrorGeoData:"We're having trouble displaying the geographic data in a map. Please choose another visualization type. ",dwPromptSignonCancelWarning:"The data for this visualization is unavailable. Please provide the correct credentials.",dwErrorMissingDataset:"We can't load the visualization, because its associated data set '%{datasetName}' isn't available.",dwErrorRenderingVisualization:"We can't load this visualization.",dwErrorVisualizationTooSmall:"The visualization is too small to display the data it contains. Make the visualization larger or limit the data it contains.",aria_label_datatable:"Data table",aria_key_navi_datatable_desc:"Use arrow keys to navigate to each cell. Press Control and Home key to move to the first row, Control and End key to move to the last row.",geomapUnrecognizedLocations:"Unrecognized locations:",geomapAmbiguousLocations:"Ambiguous regions:",customWidget:"Custom widget",noCustomWidgets:"No custom widgets",toggleContextBar:"Toggle the context bar",delete:"Delete",share:"Share",unshare:"Unshare",rename:"Rename",close:"Close",duplicate:"Duplicate",copyOf:"Copy of %{name}",retry:"Retry",changeTemplate:"Change template",sum:"Sum",count:"Count",countdistinct:"Count distinct",avg:"Average",min:"Minimum",max:"Maximum",custom:"Custom",calculated:"Calculated",aggregatedColumnLabel:"%{column} (%{aggregationTypeLabel})",percDifferenceOp:"% change",calculationTitle:"%{col1} %{operator} %{col2}",quickadd:"What do you want to see? For example, Revenue by Year.",templateWidgetPlaceholderInput:"Visualization criteria...",QuickAddResultsHeader:"Data visualizations",NoQuickAddResults:"Nothing matched your intent. Create a new data set?",NoQuickAddResultsRetry:"We can't find any matches. Try again with different terms.",templateWidgetTitle:"Template",nullValueLabel:"(blank)",nullValueContent:"(no value)",textFilterControlRegionLabel:"Text filter - %{columnName}",textFilterSelectTab:"Select",textFilterConditionTab:"Set a condition",textFilterItemsSelected:"(%{selected})",textFilterItemsNotFound:"No items are available.",textFilterEquals:"Equals",textFilterContains:"Contains",textFilterBeginsWith:"Begins with",textFilterEndsWith:"Ends with",textFilterDoesNotEqual:"Does not equal",textFilterDoesNotContain:"Does not contain",textFilterDoesNotBeginWith:"Does not begin with",textFilterDoesNotEndWith:"Does not end with",textFilterSampleText:"For example: A",textFilterAndButton:"And",textFilterOrButton:"Or",dateFilterMessage:"Select a range of dates",dateRangeControlRegionLabel:"Date range filter - %{columnName}",dateFilterRangeOption:"Range option",dateFilterDateLabel:"Date",dateFilterBlank:"(blank)",dateFilterBefore:"Before",dateFilterAfter:"After",dateFilterBetween:"Between",dateFilterSampleText:"YYYY-MM-DD",dateTitle:"Date",dateIncludeBlankLabel:"Include blank date",timeTitle:"Time",timeFilterMessage:"Select a range of times",dateTimeFilterMessage:"Select a range of dates and times",topbottomSelectOption:"Top or bottom option",topbottomOptionLabel:"Show",searchByLabel:"By",searchNoMatches:"No matches found",topbottomRankColumnLabel:"Add a rank column to grid",topbottomNone:"None",topFive:"Top 5",bottomFive:"Bottom 5",topTen:"Top 10",bottomTen:"Bottom 10",topbottomSearchColumn:"Find a column",searchColumnAriaLabel:"Find a column. Type the name of the column to search for then use the down arrow to find the column in a list",rankColumnLabel:"Rank (%{columnLabel})",rangeFilterControlRegionLabel:"Range filter - %{columnName}",sliderRegionLabel:"Slider control, use right and left arrows to move the slider handles",sliderHandleLabel:"Slider handle",a11ySliderHandleLabel:"Slider handle %{sliderValue}",sliderInputLabel:"value",datasetItemsUnavailable:"Some data set items used in this visualization are unavailable.",datasetItemUnavailable:"This data set item is unavailable",topOperator:"Top",bottomOperator:"Bottom",topBottomFact:"%{operator} %{value} by %{columnLabel}",topBottomDimension:"%{operator} %{value}",topBottomTitle:"This object only",deleteTopBottom:"Delete top or bottom count",editTopBottom:"Edit top or bottom count",deleteDrillState:"Delete current drill state",ariaDeleteDrillStateLabel:"Press ENTER key to edit top or bottom count.",drillUpStateTitle:"Drill Up",drillDownStateTitle:"Drill Down",ariaEditTopBottomLabel:"Press ENTER key to edit top or bottom count.",ariaDeleteTopBottomLabel:"Press DELETE key to delete top or bottom count.",dimFilterIn:"Includes: %{in}",dimFilterNotIn:"Excludes: %{out}",measureFilterBetween:"Between %{lowerBound} and %{upperBound}",measureFilterNotBetween:"Not between %{lowerBound} and %{upperBound}",gtFilter:"After %{lowerBound}",ltFilter:"Before %{upperBound}",localFilterTitle:"This object only",globalFilterTitle:"All objects",deleteFilter:"Delete filter",editFilter:"Edit filter",ariaEditFilterLabel:"Press ENTER key to edit filter.",ariaDeleteFilterLabel:"Press DELETE key to delete filter.",ariaEditPrompt:"Press ENTER key to change the prompt value",moreDataIndicator:"Your data was clipped at %{threshold} items. Apply a filter to show less.",dataPointFilterTitle:"Data points",dataPointFilterIncludeSummary:"Included %{valueCount} data points",dataPointFilterExcludeSummary:"Excluded %{valueCount} data points",db2Database:"DB2 Database (%{jdbcConnection})",db2Title:"Connect to IBM DB2",databaseConnectionMessage:"Provide your database connection details:",connectionString:"Database connection string",databaseCredentials:"Credentials: ",databaseUserName:"User name",databasePassword:"Password",databaseConnect:"Connect",twitterTitle:"Twitter",twitterKeywordMessage:"Enter a search term:",twitterKeyword:"Keyword",twitterSearch:"Search",twitterProvider:"Twitter",dropboxProvider:"Dropbox",db2Provider:"DB2",workbookCreateFailed:"We can't create the view: %{error}\nFailed operation: %{lastOp}",widgetFiltersLabel:"Widget filters",missingColumn:"Missing: %{columnLabel}",missingFiltering:"Missing filters on following column IDs:",heatByLabel:"Heat by",evCollapse:"Collapse",evColumns:"Columns",evLocalFilters:"Local filters",evExpand:"Expand",evFilterTooltip:"Filter",evAdd:"Add a column",navigationBack:"Back",storyTellingDefaultSceneTitle:"Scene %{index}",storyTellingTabAddBtnTitle:"Add a new scene",storyTellingOverviewBtnLabel:"Overview",storyTellingSelectSceneWarning:"Please select a scene",storyTellingSceneAddBtnTitle:"Add a new scene",storyTellingNumScenes:"%{index} scenes",storyTellingTimelineDisabledInteraction:"Tap again to pause and interact",timelineRecord:"Record",timelineRecording:"Capturing property changes...",timelinePlay:"Play",timelinePause:"Pause",sceneStart:"Jump to the beginning of the scene",sceneEnd:"Jump to the end of the scene",sceneNavigation:"Scene navigation",navNextScene:"Next scene",navPrevScene:"Previous scene",navPrevSceneAbbreviated:"Prev scene",navExitFullScreen:"Exit full screen",navToggleOverview:"Toggle overview",fullscreen:"Enter full screen",fullscreenMenuLabel:"Full screen",betaStorytelling_1:"This is a Beta feature and is subject to the terms of use found ",betaStorytelling_2:"here",betaStorytelling_3:". By using this Beta feature you agree to those terms.",betaDialog:'Technology Preview Code (TPC) provided with the IBM SaaS are not part of the IBM SaaS. TPC is provided under the same terms as the IBM SaaS, except as provided below. Some or all of the TPC may not be made generally available by IBM as or in a product or offering. You are permitted to use TPC only for internal use for evaluation purposes and not for use in a production environment. You may use the TPC until IBM withdraws the TPC or terminates access to it. IBM provides the TPC without obligation of support and "AS IS," WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, WITHOUT LIMITATION, THE WARRANTY OF TITLE, NON-INFRINGEMENT OR NON-INTERFERENCE AND ANY IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. You should take precautions to avoid any loss of data that might result when the TPC can no longer be used. You agree IBM may use all feedback and suggestions you provide. ',sceneListStart:"Start",sceneListEnd:"End",contentPinFail:"We can't collect the content: %{error}",dropZoneLabel:"Drop here to maximize",shareDefaultPageTitle:"Page %{index}",shareDefaultStoryPageTitle:"Scene %{index}",nextPage:"Next page",previousPage:"Previous page",assetAssembly:"view",assetStory:"story",toolbar_save:"Save",brgr_saveAs:"Save as",brgr_refresh:"Refresh",saving:"Saving...",save_success:"Your view has been saved.",save_failure:"We're sorry. Your view could not be saved. Please try again later.",geminiLeave:"You are about to leave IBM Watson Analytics.",warning:"Warning",missingDataSetData:"The data for this data set is not available. Refresh the data set or contact your administrator for access to the source.",error_calculation_in_use:"The selected calculation is in use and cannot be deleted.",resize:"Resize",rotate:"Rotate",moveHandle:"Move widget",panHandle:"Pan",navigateTitle:"Navigate to",shapeSlideoutTitle:"Shapes",textSlideoutTitle:"Text",mediaSlideoutTitle:"Media",visualizationSlideoutTitle:"Visualizations",invalidJSONResponse:"Provided JSON is invalid. See error log for more information.",shape_label:"Shape",image_label:"Image",data_label:"Chart",media_label:"Media",text_label:"Text",embedMedia_label:"Media",youtube_label:"YouTube video",webpage_label:"Webpage",one_name:"%{name}",one_name_numbered:"%{name} (%{number})",noExtraText_shape:"Shape",noExtraText_shape_numbered:"Shape (%{number})",few_shape:"Group of %{count} shapes",many_shape:"Group of %{count} shapes",one_image:"%{text} image",one_image_number:"%{text} image (%{number})",noExtraText_image:"Image",noExtraText_image_numbered:"Image (%{number})",few_image:"Group of %{count} images",many_image:"Group of %{count} images",noExtraText_text:"Empty text box",noExtraText_text_numbered:"Empty text box (%{number})",few_text:"Group of %{count} text boxes",many_text:"Group of %{count} text boxes",one_named_data:"%{name} chart",one_named_data_numbered:"%{name} chart (%{number})",one_unknown_data:"Chart",one_unknown_data_numbered:"Chart (%{number})",RAVE2_bubble_has_mapping:"%{y} vs %{x} by %{color} bubble chart",RAVE2_bubble_has_mapping_numbered:"%{y} vs %{x} by %{color} bubble chart (%{number})",RAVE2_bubble_no_mapping:"Empty bubble chart",RAVE2_bubble_no_mapping_numbered:"Empty bubble chart (%{number})",RAVE2_bubble_named:"%{name} bubble chart",RAVE2_bubble_named_numbered:"%{name} bubble chart (%{number})",RAVE2_clusteredbar_has_mapping:"%{x} by %{y} bar chart",RAVE2_clusteredbar_has_mapping_numbered:"%{x} by %{y} bar chart (%{number})",RAVE2_clusteredbar_no_mapping:"Empty bar chart",RAVE2_clusteredbar_no_mapping_numbered:"Empty bar chart (%{number})",RAVE2_clusteredbar_named:"%{name} bar chart",RAVE2_clusteredbar_named_numbered:"%{name} bar chart (%{number})",RAVE2_clusteredcolumn_has_mapping:"%{y} by %{x} column chart",RAVE2_clusteredcolumn_has_mapping_numbered:"%{y} by %{x} column chart (%{number})",RAVE2_clusteredcolumn_no_mapping:"Empty column chart",RAVE2_clusteredcolumn_no_mapping_numbered:"Empty column chart (%{number})",RAVE2_clusteredcolumn_named:"%{name} column chart",RAVE2_clusteredcolumn_named_numbered:"%{name} column chart (%{number})",crosstab_opt_mapping:"%{values} by %{row_level1} and %{column_level1}",crosstab_opt_mapping_numbered:"%{values} by %{row_level1} and %{column_level1} (%{number})",crosstab_has_mapping:"%{values} by %{row_level1}",crosstab_has_mapping_numbered:"%{values} by %{row_level1} (%{number})",crosstab_no_mapping:"Empty crosstab",crosstab_no_mapping_numbered:"Empty crosstab (%{number})",crosstab_named:"%{name} crosstab",crosstab_named_numbered:"%{name} crosstab (%{number})",dataPlayer_has_mapping:"%{categories} data player",dataPlayer_has_mapping_numbered:"%{categories} data player (%{number})",dataPlayer_no_mapping:"Empty data player",dataPlayer_no_mapping_numbered:"Empty data player (%{number})",dataPlayer_named:"%{name} data player",dataPlayer_named_numbered:"%{name} data player (%{number})",JQGrid_has_mapping:"%{grid_cols} grid",JQGrid_has_mapping_numbered:"%{grid_cols} grid (%{number})",JQGrid_no_mapping:"Empty grid",JQGrid_no_mapping_numbered:"Empty grid (%{number})",JQGrid_named:"%{name} grid",JQGrid_named_numbered:"%{name} grid (%{number})",RAVE2_heatmap_has_mapping:"%{color} by %{x} and %{y} heatmap",RAVE2_heatmap_has_mapping_numbered:"%{color} by %{x} and %{y} heatmap (%{number})",RAVE2_heatmap_no_mapping:"Empty heatmap",RAVE2_heatmap_no_mapping_numbered:"Empty heatmap (%{number})",RAVE2_heatmap_named:"%{name} heatmap",RAVE2_heatmap_named_numbered:"%{name} heatmap (%{number})",hierarchy_has_mapping:"%{level1} hierarchy",hierarchy_has_mapping_numbered:"%{level1} hierarchy (%{number})",hierarchy_no_mapping:"Empty hierarchy",hierarchy_no_mapping_numbered:"Empty hierarchy (%{number})",hierarchy_named:"%{name} hierarchy",hierarchy_named_numbered:"%{name} hierarchy (%{number})",map_has_mapping:"%{values} by %{categories} map",map_has_mapping_numbered:"%{values} by %{categories} map (%{number})",map_no_mapping:"Empty map",map_no_mapping_numbered:"Empty map (%{number})",map_named:"%{name} map",map_named_numbered:"%{name} map (%{number})",RAVE2_compositeSmoothOneDataSet_has_mapping:"Line and column chart",RAVE2_compositeSmoothOneDataSet_has_mapping_numbered:"Line and column chart (%{number})",RAVE2_compositeSmoothOneDataSet_named:"%{name} line and column chart",RAVE2_compositeSmoothOneDataSet_named_numbered:"%{name} line and column chart (%{number})",RAVE2_tiledmap_has_mapping:"%{value} by %{featureId} map",RAVE2_tiledmap_has_mapping_numbered:"%{value} by %{featureId} map (%{number})",RAVE2_tiledmap_no_mapping:"Empty map",RAVE2_tiledmap_no_mapping_numbered:"Empty map (%{number})",RAVE2_tiledmap_named:"%{name} map",RAVE2_tiledmap_named_numbered:"%{name} map (%{number})",RAVE2_packedBubble_has_mapping:"%{label} by %{size} bubble chart",RAVE2_packedBubble_has_mapping_numbered:"%{label} by %{size} bubble chart (%{number})",RAVE2_packedBubble_no_mapping:"Empty bubble chart",RAVE2_packedBubble_no_mapping_numbered:"Empty bubble chart (%{number})",RAVE2_packedBubble_named:"%{name} bubble chart",RAVE2_packedBubble_named_numbered:"%{name} bubble chart (%{number})",RAVE2_pie_has_mapping:"%{value} by %{color} pie chart",RAVE2_pie_has_mapping_numbered:"%{value} by %{color} pie chart (%{number})",RAVE2_pie_no_mapping:"Empty pie chart",RAVE2_pie_no_mapping_numbered:"Empty pie chart (%{number})",RAVE2_pie_named:"%{name} pie chart",RAVE2_pie_named_numbered:"%{name} pie chart (%{number})",RAVE2_point_has_mapping:"%{y} by %{x} point chart",RAVE2_point_has_mapping_numbered:"%{y} by %{x} point chart (%{number})",RAVE2_point_no_mapping:"Empty point chart",RAVE2_point_no_mapping_numbered:"Empty point chart (%{number})",RAVE2_point_named:"%{name} point chart",RAVE2_point_named_numbered:"%{name} point chart (%{number})",RAVE2_dial_has_mapping:"%{value} by %{label} radial chart",RAVE2_dial_has_mapping_numbered:"%{value} by %{label} radial chart (%{number})",RAVE2_dial_no_mapping:"Empty radial chart",RAVE2_dial_no_mapping_numbered:"Empty radial chart (%{number})",RAVE2_dial_named:"%{name} radial chart",RAVE2_dial_named_numbered:"%{name} radial chart (%{number})",RAVE2_multipleDialCategoryLabel_has_mapping:"%{value} by %{category} radial bar chart",RAVE2_multipleDialCategoryLabel_has_mapping_numbered:"%{value} by %{category} radial bar chart (%{number})",RAVE2_multipleDialCategoryLabel_no_mapping:"Empty radial bar chart",RAVE2_multipleDialCategoryLabel_no_mapping_numbered:"Empty radial bar chart (%{number})",RAVE2_multipleDialCategoryLabel_named:"%{name} radial bar chart",RAVE2_multipleDialCategoryLabel_named_numbered:"%{name} radial bar chart (%{number})",RAVE2_scatter_opt_mapping:"%{label} by %{x} and %{y} scatter plot",RAVE2_scatter_opt_mapping_numbered:"%{label} by %{x} and %{y} scatter plot (%{number})",RAVE2_scatter_has_mapping:"%{x} vs %{y} scatter plot",RAVE2_scatter_has_mapping_numbered:"%{x} vs %{y} scatter plot (%{number})",RAVE2_scatter_no_mapping:"Empty scatter plot",RAVE2_scatter_no_mapping_numbered:"Empty scatter plot (%{number})",RAVE2_scatter_named:"%{name} scatter plot",RAVE2_scatter_named_numbered:"%{name} scatter plot (%{number})",RAVE2_smoothArea_has_mapping:"%{y} by %{x} smooth area chart",RAVE2_smoothArea_has_mapping_numbered:"%{y} by %{x} smooth area chart (%{number})",RAVE2_smoothArea_no_mapping:"Empty smooth area chart",RAVE2_smoothArea_no_mapping_numbered:"Empty smooth area chart (%{number})",RAVE2_smoothArea_named:"%{name} smooth area chart",RAVE2_smoothArea_named_numbered:"%{name} smooth area chart (%{number})",RAVE2_smoothline_has_mapping:"%{y} by %{x} smooth line chart",RAVE2_smoothline_has_mapping_numbered:"%{y} by %{x} smooth line chart (%{number})",RAVE2_smoothline_no_mapping:"Empty smooth line chart",RAVE2_smoothline_no_mapping_numbered:"Empty smooth line chart (%{number})",RAVE2_smoothline_named:"%{name} smooth line chart",RAVE2_smoothline_named_numbered:"%{name} smooth line chart (%{number})",RAVE2_stackedbar_has_mapping:"%{x} by %{y} bar chart",RAVE2_stackedbar_has_mapping_numbered:"%{x} by %{y} bar chart (%{number})",RAVE2_stackedbar_no_mapping:"Empty bar chart",RAVE2_stackedbar_no_mapping_numbered:"Empty bar chart (%{number})",RAVE2_stackedbar_named:"%{name} bar chart",RAVE2_stackedbar_named_numbered:"%{name} bar chart (%{number})",RAVE2_stackedcolumn_has_mapping:"%{x} by %{y} column chart",RAVE2_stackedcolumn_has_mapping_numbered:"%{x} by %{y} column chart (%{number})",RAVE2_stackedcolumn_no_mapping:"Empty column chart",RAVE2_stackedcolumn_no_mapping_numbered:"Empty column chart (%{number})",RAVE2_stackedcolumn_named:"%{name} column chart",RAVE2_stackedcolumn_named_numbered:"%{name} column chart (%{number})",summary_has_mapping:"%{values} summary value",summary_has_mapping_numbered:"%{values} summary value (%{number})",summary_no_mapping:"Empty summary value",summary_no_mapping_numbered:"Empty summary value (%{number})",summary_named:"%{name} summary value",summary_named_numbered:"%{name} summary value (%{number})",infographicSummary_has_mapping:"%{values} infographic",infographicSummary_has_mapping_numbered:"%{values} infographic (%{number})",infographicSummary_no_mapping:"Empty infographic",infographicSummary_no_mapping_numbered:"Empty infographic (%{number})",infographicSummary_named:"%{name} infographic",infographicSummary_named_numbered:"%{name} infographic (%{number})",treeMap_has_mapping:"%{categories} by %{values} tree map",treeMap_has_mapping_numbered:"%{categories} by %{values} tree map (%{number})",treeMap_no_mapping:"Empty tree map",treeMap_no_mapping_numbered:"Empty tree map (%{number})",treeMap_named:"%{name} tree map",treeMap_named_numbered:"%{name} tree map (%{number})",RAVE2_wordcloud_has_mapping:"%{label} word cloud",RAVE2_wordcloud_has_mapping_numbered:"%{label} word cloud (%{number})",RAVE2_wordcloud_no_mapping:"Empty word cloud",RAVE2_wordcloud_no_mapping_numbered:"Empty word cloud (%{number})",RAVE2_wordcloud_named:"%{name} word cloud",RAVE2_wordcloud_named_numbered:"%{name} word cloud (%{number})",few_data:"Group of %{count} charts",many_data:"Group of %{count} charts",noExtraText_youtube:"YouTube video",noExtraText_youtube_numbered:"YouTube video (%{number})",one_youtube:"%{text} YouTube video",one_youtube_numbered:"%{text} YouTube video (%{number})",few_youtube:"Group of %{count} YouTube videos",many_youtube:"Group of %{count} YouTube videos",noExtraText_embedMedia:"Media link",noExtraText_embedMedia_numbered:"Media link (%{number})",one_embedMedia:"%{text} media link",one_embedMedia_numbered:"%{text} media link (%{number})",few_embedMedia:"Group of %{count} media links",many_embedMedia:"Group of %{count} media links",noExtraText_media:"Media",noExtraText_media_numbered:"Media (%{number})",one_media:"%{text} media",one_media_numbered:"%{text} media (%{number})",few_media:"Group of %{count} media",many_media:"Group of %{count} media",noExtraText_webpage:"Web page",noExtraText_webpage_numbered:"Web page (%{number})",one_webpage:"%{text} web page",one_webpage_numbered:"%{text} web page (%{number})",few_webpage:"Group of %{count} web pages",many_webpage:"Group of %{count} web pages",one_unknown:"An object",one_unknown_numbered:"An object (%{number})",few_unknown:"Group of %{count} objects",many_unknown:"Group of %{count} objects",next:"Next",previous:"Previous",current_nav_group:"Current navigation group is %{navigation_group_name}",filterBlank:"(blank)"},cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,no:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-br":!0,ro:!0,ru:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-cn":!0,"zh-tw":!0}),define("bacontentnav/lib/gemini/app/nls/StringResources",["i18n!../../dashboard/nls/DashboardResources","i18n!../nls/DashboardResources","polyglot"],function(e,t,i){var n=new i({phrases:e,allowMissing:!0}),a=new i({phrases:t}),o=function(){};return o.prototype.get=function(e,t){var i=n.t(e,t);return i===e&&(i=a.t(e,t)),i},new o}),define("bacontentnav/lib/gemini/app/ui/ApplicationBar",["./Toolbar","jquery","./toolbar_components/Menu","./toolbar_components/Button","text!./templates/ApplicationBar.html","../nls/StringResources"],function(e,s,r,i,t,n){var a=null;return a=e.extend({templateString:t,moduleMap:[],defaultHeight:70,smallHeight:45,init:function(e){a.inherited("init",this,arguments),this.profile=e.profile,this.rootItems=e.rootItems,this.authURL=e.authURL,this.logoutUrl=e.logoutUrl,this.appController=e.appController,this.config=e.appBarConfig||{showHome:!0,showLogout:!0},this.hasCollapsedItems=!1,this.onHide=e.onHide,this.onShow=e.onShow,this._onKeyHandle=s("html").on("keydown.ApplicationBar",this.onKeydown.bind(this))},onKeydown:function(e){if(121===e.keyCode)return this.homeButton&&this.homeButton.$el.find("button").focus(),e.stopPropagation(),!1},remove:function(){this._onKeyHandle.off(),this._onKeyHandle=null,a.inherited("remove",this,arguments)},addItem:function(e){var t,i=s("<div>");return"trailing"===e.position?this.$trailingActions.append(i):"center"===e.position?this.$centerActions.append(i):this.$leadingActions.append(i),e.baseClass="appbar",t=this._renderItem(e,i),e.supportCustomCollapse||this._buildCollapsedItem(e,i),t},addRootItems:function(e){e&&this.rootMenu.$el.removeClass("visible-xs"),_.each(e,function(e){this.rootItems[e.name]=e,this.rootMenu.addItem(e)}.bind(this))},clearItems:function(){_.each(this.itemMap,function(e){this.removeItem(e.name)}.bind(this)),this.$leadingActions.empty(),this.$trailingActions.empty(),this.itemMap={}},removeItem:function(e){this._removeSubSection(e);var t=this.itemMap[e];t.items?_.each(t.items,function(e){this.rootMenu.removeItem(e.name)}.bind(this)):this.rootMenu.removeItem(e),a.inherited("removeItem",this,arguments)},clearRootItems:function(){this.rootMenu.$el.addClass("visible-xs"),_.each(this.rootItems,function(e){this.removeRootItem(e.name)}.bind(this)),this.rootItems={}},removeRootItem:function(e){this.rootMenu.removeItem(e),delete this.rootItems[e]},getAddedItem:function(e){return this.addItemsDeferred.then(function(){return this.itemMap[e]?Promise.resolve(this.itemMap[e]):Promise.reject()}.bind(this))},_buildCollapsedItem:function(e,t){if(e.responsive=void 0===e.responsive||e.responsive,e.responsive)if(this.hasCollapseItems||(this.hasCollapseItems=!0,this._addRootMenuDivider()),t.addClass("hidden-xs"),e.items)this._addSubSection(e);else if("Separator"===e.type)this._addRootMenuDivider();else{this.rootMenu.addItem(e,!0).addClass("visible-xs")}},_removeSubSection:function(e){this.rootMenu.$menu.children(".header-"+e).remove()},_addRootMenuDivider:function(){if(this.rootMenu.$menu.children().last().hasClass("divider"))return null;var e=this.rootMenu.addDivider();return e.addClass("visible-xs"),e},_addSubSection:function(e){var t=s('<li role="presentation" class="dropdown-header header-'+e.name+'">'+e.label+"</li>");t.addClass("visible-xs");var i=this._addRootMenuDivider();i&&i.addClass("header-"+e.name),this.rootMenu.$menu.append(t),_.each(e.items,function(e){this.rootMenu.addItem(e).addClass("visible-xs")}.bind(this)),(i=this._addRootMenuDivider())&&i.addClass("header-"+e.name)},render:function(){var e=this.dotTemplate({id:this.viewId,showHome:this.config.showHome});this.$el.html(e);var t=s.Deferred();return this._createRootMenu().done(function(){this.config.showHome&&this._createHomeButton(),this._createProfileMenu().then(function(){this.$leadingActions=s("#"+this.viewId+"_leading"),this.$trailingActions=s("#"+this.viewId+"_trailing"),this.$centerActions=s("#"+this.viewId+"_center"),this.addItems(this.items).done(function(){_.isEmpty(this.rootMenu.itemActions)&&(this.rootMenu.$el.removeClass("visible-xs"),this.rootMenu.$el.hide()),t.resolve(this)}.bind(this))}.bind(this))}.bind(this)),t.promise()},_createHomeButton:function(){var e=s("<div/>");s("#"+this.viewId+"_home").append(e);var t={name:"home",label:n.get("rootMenuTitle"),type:"Button",el:e,icon:"wfg_gemini",baseClass:"appbar",action:this._goHomeAction.bind(this)};this.homeButton=new i(t),this.homeButton.render()},_goHomeAction:function(){this.config.showHome&&(this.appController.goHome(),this.homeButton.$el.find("button").blur())},_createRootMenu:function(){var e=s("<div/>");s("#"+this.viewId+"_root").append(e);var t={name:"mainMenu",label:n.get("rootMenuTitle"),type:"Menu",el:e,icon:"wfg_menuoverflow",trailing:!0,baseClass:"appbar",items:this.rootItems};this.rootMenu=new r(t);var i=this.rootMenu.render();return this.rootItems&&0!==this.rootItems.length||this.rootMenu.$el.addClass("visible-xs"),i},_createProfileMenu:function(){if(!this.profile||!this.config.showLogout)return s.Deferred().resolve().promise();var e=s("<div/>");s("#"+this.viewId+"_profile").append(e);var t={name:"profileMenu",label:this.profile.displayName,hcLabel:!1,type:"Menu",el:e,icon:"profileIcon",baseClass:"appbar",trailing:!0,items:[{name:"logout",label:"Logout",action:this._logout.bind(this)}]};this.profileMenu=new r(t);var i=this.profileMenu.render(),n=s(document.body).hasClass("highcontrast"),a=this.profile._attachmentInfo&&this.profile._attachmentInfo.badge;if(!n&&a){var o="/app/account/"+this.profile._meta.bundleID+"/badge";this.profileMenu.$iconImage.css("backgroundImage","url('"+o+"')")}else this.profileMenu.$iconImage.addClass("wfg_user");return i},_logout:function(){window.location.href=this.logoutUrl},show:function(){s(this.$el).find(".appbar").show()},hide:function(){s(this.$el).find(".appbar").hide()}})}),define("bacontentnav/common/ui/ContentBar",["require","../../lib/gemini/app/ui/ApplicationBar"],function(n,e){"use strict";return e.extend({render:function(){var e=this.dotTemplate({id:this.viewId});return this.$el.html(e),this._createRootMenu().then(function(){return this.$leadingActions=$("#"+this.viewId+"_leading"),this.$trailingActions=$("#"+this.viewId+"_trailing"),this.$centerActions=$("#"+this.viewId+"_center"),this.addItems(this.items).then(function(){return 0===$(this.el).find(".appbarLeading").children().length&&$(this.el).find(".appbarLeading").append(this.items[0].el),$(this.el).find(".appbarLeading").children().addClass("contentBarItem"),$(this.el).find(".appbarCenter").children().addClass("contentBarItem"),$(this.el).find(".appbarTrailing").children().addClass("contentBarItem"),this.resize(),this}.bind(this))}.bind(this))},resize:function(){this.itemMap.breadcrumbs&&this.itemMap.breadcrumbs.resize()},hide:function(){this.onHide&&this.onHide(),this.$el.hide()},show:function(){this.onShow&&this.onShow(),this.$el.show()},isVisible:function(){return"none"!==this.$el[0].style.display},_renderItem:function(e,t){e.type||e.module||(e.type="Menu");var i=e.type?"../../lib/gemini/app/ui/toolbar_components/"+e.type:e.module;return this._renderItemHelper(i,e,t)},_loadModule:function(e){return new Promise(function(t,i){if("function"!=typeof e)return n([e],function(e){e?t(e):i(new Error("No module found"))}.bind(this));t(e)}.bind(this))},_renderItemHelper:function(e,i,n){var t=this._loadModule(e).then(function(e){i.el=n;var t=new e(i,this.rootMenu||this.parentView,this);t.render(),(this.itemMap[t.name]=t).notifyRenderComplete&&t.notifyRenderComplete()}.bind(this));return this.readyArray.push(t),t}})}),define("bacontentnav/utils/A11YHelper",[],function(){"use strict";var e=null,t=function(){this.SCREENREADER_ALERT_ID="ca_screenreader_alert"};return t.prototype.screenReaderAlertUser=function(e){if(e&&e.length){var t=$("#"+this.SCREENREADER_ALERT_ID);t.length&&t.remove(),(t=$("<div>",{id:this.SCREENREADER_ALERT_ID,style:"position:absolute; top:-9000px;",role:"alert"})).text(e),$("body").append(t)}},function(){return e||(e=new t),e}()}),define("bacontentnav/utils/BaseNavigatorPlugin",["../lib/@waca/core-client/js/core-client/ui/core/Class","lodash"],function(e,t){"use strict";var i=e.extend({init:function(e){i.inherited("init",this,arguments),t.extend(this,e),this.focusElmentContainer="_need to override this"},upPressed:function(e,t){},downPressed:function(e,t){},rightPressed:function(e,t){},leftPressed:function(e,t){},escPressed:function(e,t){},tabPressed:function(e,t){}});return i}),define("bacontentnav/utils/TableNavigatorPlugin",["./BaseNavigatorPlugin","lodash"],function(e,t){"use strict";var i=e.extend({init:function(e){i.inherited("init",this,arguments),t.extend(this,e),this.focusElmentContainer="td",this.actionMode=!1},spacePressed:function(e){var t=this.navObj.getFocusableItemsList($(e));return!(1===t.length&&!$(e).hasClass("newFolderRow")||$(e).hasClass("ellipsesButton_cell")||$(e).hasClass("nowrap multiProp"))||($(t[0]).focus(),!1)},enterPressed:function(e){var t,i=$(e);return this.actionMode||"TD"!==i.prop("tagName")?(this.actionMode=!1,t=this.navObj.getFocusableItemsList(i.closest("td")),this.disableCellContentTabCycling(t),!0):1===(t=this.navObj.getFocusableItemsList(i)).length?(t.trigger("click"),!1):0<t.length?(this.actionMode=!0,this.enableCellContentTabCycling(t),$(t[0]).focus(),!1):void 0},disableCellContentTabCycling:function(e){var t=$(e).closest("tr");setTimeout(function(){t.removeClass("actionMode")},100),$(e[0]).removeClass("tabCycleStart").removeClass("innerText"),$(e[e.length-1]).removeClass("tabCycleEnd").removeClass("innerText"),e.toArray().forEach(function(e){$(e).attr("tabindex","-1")})},enableCellContentTabCycling:function(e){$(e).closest("tr").addClass("actionMode"),$(e[0]).addClass("tabCycleStart").addClass("innerText"),$(e[e.length-1]).addClass("tabCycleEnd").addClass("innerText"),e.toArray().forEach(function(e){$(e).attr("tabindex","0")})},escPressed:function(e){if(this.actionMode){var t=$(e);this.actionMode=!1;var i=this.navObj.getFocusableItemsList(t);return this.disableCellContentTabCycling(i),$($(e).closest("td")[0]).focus(),!1}return!0},tabPressed:function(e,t){if(this.actionMode){var i=$(e);return i.hasClass("tabCycleEnd")&&!t.isShiftKeyPressed?($($(e).closest("td")[0]).find(".tabCycleStart").focus(),!1):!i.hasClass("tabCycleStart")||!t.isShiftKeyPressed||($($(e).closest("td")[0]).find(".tabCycleEnd").focus(),!1)}return!0},upPressed:function(e){if(!this.actionMode){var t=$($(e).closest("tr")[0]),i=t.prev("tr");this._processUpDownMove(e,t,i)}return!0},_processUpDownMove:function(e,t,i){var n=$($(e).closest("td")[0]),a=$(i).children()[n.index()];this.navObj.changeFocusFrom($(e),n,$(a))},downPressed:function(e){if(!this.actionMode){var t=$($(e).closest("tr")[0]),i=t.next("tr");this._processUpDownMove(e,t,i)}return!0},rightPressed:function(e){if(!this.actionMode)for(var t=$($(e).closest("td")[0]),i=t.next("td"),n=!1;0<i.length&&!n;)n=this.navObj.changeFocusFrom($(e),t,$(i)),i=i.next("td");return!0},leftPressed:function(e){if(!this.actionMode)for(var t=$($(e).closest("td")[0]),i=t.prev("td"),n=!1;0<i.length&&!n;)n=this.navObj.changeFocusFrom($(e),t,$(i)),i=i.prev("td");return!0}});return i}),define("bacontentnav/utils/ListControlWidgetNavigator",["./TableNavigatorPlugin"],function(e){"use strict";var i=e.extend({upPressed:function(e,t){t.closestTr=$(e).closest("tr"),this._processEvent(t),i.inherited("upPressed",this,arguments)},downPressed:function(e,t){t.closestTr=$(e).closest("tr"),this._processEvent(t),i.inherited("downPressed",this,arguments)},_processEvent:function(e){try{e._keyDownEvent.preventDefault();var t=1===this.navObj.$el.length?this.navObj.$el:$(this.navObj.$el[1]);this._totalRecords=this._totalRecords||t.DataTable().page.info().recordsTotal,this._lastRenderedRow=t.find("tr:last").index()+1,this.fCallBack({dataTable:t,currentRow:e.closestTr,lastRenderedRow:this._lastRenderedRow,dTTotalRecords:this._totalRecords})}catch(e){window.console.error("Expecting _keyDownEvent to be here."),window.console.error(e)}}});return i}),define("bacontentnav/utils/WidgetNavigator",["../lib/@waca/core-client/js/core-client/ui/core/Class","../lib/@waca/core-client/js/core-client/ui/KeyCodes","./TableNavigatorPlugin","./ListControlWidgetNavigator","lodash"],function(e,a,s,t,r){"use strict";var l={TABLE:s,LISTCONTROL:t},c=e.extend({init:function(e){c.inherited("init",this,arguments),r.extend(this,e);var t=this.$el.prop("tagName"),i=[];void 0!==this.$el.prop("className")&&(i=this.$el.prop("className").split(" "));for(var n=0;n<i.length;n+=1){var a=i[n].toUpperCase();if(l[a]){this.handler=new l[a],this.handler.fCallBack=this.fCallBack||void 0,this.fCallBack=void 0;break}}if(void 0===this.handler){var o=l[t];this.handler=o?new o:new s}(this.handler.navObj=this).setInitialTabIndex(),this.installKeyHandler()},installKeyHandler:function(){this.$el.on("keydown keyup",this._keyHandler.bind(this))},_keyHandler:function(e){var t=e.target,i=!0,n={};if(n.isShiftKeyPressed=e.shiftKey,n._keyDownEvent=r.isFunction(this.handler.fCallBack)?e:void 0,"keyup"===e.type)switch(e.which){case a.ESCAPE:i=this.handler.escPressed(t,n)}else switch(e.which){case a.UP_ARROW:i=this.handler.upPressed(t,n);break;case a.DOWN_ARROW:i=this.handler.downPressed(t,n);break;case a.LEFT_ARROW:i=this.handler.leftPressed(t,n);break;case a.SPACE:i=this.handler.spacePressed(t);break;case a.RIGHT_ARROW:i=this.handler.rightPressed(t,n);break;case a.ENTER:i=this.handler.enterPressed(t,n);break;case a.TAB:i=this.handler.tabPressed(t,n)}return i||e.preventDefault(),e.which===a.RIGHT_ARROW&&e.preventDefault(),i},getFocusableItemsList:function(e){return 0===e.children().length?e.hasClass(this.focusClass)?e:$():e.find("."+this.focusClass)},_updateTabIndeciesFor:function(e,t){e&&e.attr("tabindex","-1"),t.attr("tabindex","0")},changeFocusFrom:function(e,t,i){var n=this.getFocusableItemsList(i);if(0===n.length)return!1;var a=this.getFocusableItemsList(t),o=$(a[0]);return o[0].classList.contains("tempAddVis")&&(o[0].classList.remove("tempAddVis"),o.css("visibility","")),"hidden"===n.css("visibility")&&(n.css("visibility","visible"),n[0].classList.add("tempAddVis")),this._updateTabIndeciesFor(t,i),$(n[0]).closest(this.handler.focusElmentContainer).focus(),!0},_hasScroll:function(e){var t=$(e).css("overflow-y");return("scroll"===t||"auto"===t)&&e.scrollHeight>e.clientHeight},_getScrollingParent:function(e){var i=null;return e.parents().each(function(e,t){if(this._hasScroll(t))return i=$(t),!1}.bind(this)),i},setInitialTabIndex:function(){if(this.$el){var e=this.$el.find("."+this.focusClass),o=0,t=this._getScrollingParent(e.first());t&&(o=t[0].getBoundingClientRect().top),$.each(e,function(e,t){var i=t.getBoundingClientRect().top;if(o<=i){var n=$(t),a=$(n.closest(this.handler.focusElmentContainer)[0]);return this._updateTabIndeciesFor(null,a),!1}}.bind(this))}}});return c}),define("bacontentnav/common/ui/BreadcrumbDropDown",["jquery","../../lib/@waca/core-client/js/core-client/ui/DropDownMenu","../../lib/@waca/core-client/js/core-client/utils/ContentFormatter","lodash"],function(l,e,c,n){"use strict";return e.extend({propagateEvent:!0,render:function(){return l(this.actionElement).on("primaryaction",this._handlePrimaryAction.bind(this)),this.$el=l(this.actionElement),this.menuButton=l(this.actionElement),this.menuButtonDom=this.actionElement,this._setTitle(),l(window).on("shown.bs.popover",this._updatePopupover.bind(this)),Promise.resolve(this.$el)},destroy:function(){this.hidePopup(),l(this.actionElement).off("primaryaction"),l(window).off("shown.bs.popover")},hidePopup:function(){this.$ddPopover&&(this.$ddPopover.popover("dispose"),this.$ddPopover=null)},_handlePrimaryAction:function(e){return this._onMenuSelect(e),this.propagateEvent||e.stopPropagation(),this.propagateEvent},_updatePopupover:function(e){if(e&&e.target&&e.target.title===this.title&&this.$ddPopover){var t=this.$ddPopover.attr("aria-describedby"),i=l("#"+t).find(".commonMenuLink"),r=i.width();n.each(i,function(e){var t,i,n,a=l(e).children();if(l(a[0]).is("svg"))t=l(a[0]),i=l(a[1]),n=r-t.outerWidth(!0);else{i=l(a[0]);var o=l(".commonMenuLink .svgIcon",a).outerWidth(!0),s=i.innerWidth()-i.width();n=r-o-s}c.updateEllipsesBasedOnWidth(i[0],n,i.width())}.bind(this))}}})}),define("bacontentnav/common/ui/Breadcrumbs",["../../lib/@waca/core-client/js/core-client/ui/View","jquery","lodash","./BreadcrumbDropDown","../../lib/@waca/core-client/js/core-client/utils/ContentFormatter","../../utils/ContentStoreObject","../../utils/UIHelper","../../nls/StringResource","../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../lib/@waca/core-client/js/core-client/utils/Utils"],function(e,u,t,i,n,h,s,o,p,a){"use strict";var r=e.extend({collapsedBreadCrumbIcon:"ba_content_nav-folder-overflow_16",previousIcon:"ba_content_nav-back-previous_16",chevronRightIcon:p.isMirrored?"common-chevron_left":"common-chevron_right",defaultWidth:400,bcPrev:null,NumOfResponsiveBC:3,init:function(e){r.inherited("init",this,arguments),t.extend(this,e),this._bSetFocusToSelf=!1,this._oVisibleBreadcrumb=null},_getOuterWidth:function(e,t){return e.outerWidth(!!t)||0},_getMenuItems:function(e){var t,i=[];for(t=0;t<e.length-1;t+=1){var n=e[t],a=s.getSVGIconForType(h.getType(n));0===a.indexOf("#")&&(a=a.substring(1));var o={label:h.getName(n),icon:a,onSelect:this.breadcrumbClicked.bind(this,t)};i.push(o)}return i},_renderCollapsedItems:function(e){var t=this.ancestors.length,i=u("<ul>",{class:"breadcrumbCompact"});e.append(i);var n=this._createBreadcrumbItem();i.append(n),this._createCollapsedBreadCrumbItem(n,this.collapsedBreadCrumbIcon,t-1),this._updateResponsiveItems(i)},_createBreadcrumbItem:function(e,t,i,n){var a=u("<li>",{class:"active"});i&&a.append(this._createSvgIcon(i));var o=u("<div>",{class:"breadcrumbItemTxt"}),s=u("<span>");return e?(o.attr("tabindex","0"),o.attr("role","link"),void 0!==n&&0<=n&&o.on("primaryaction",this.breadcrumbClicked.bind(this,n))):o.attr("role","presentation"),t&&(o.attr("aria-label",t),s.text(p.enforceTextDirection(t))),o.append(s),a.append(o),a},_renderFullItems:function(e){var t=this.ancestors.length,i=u("<ul>",{class:"breadcrumbFull"});e.append(i);for(var n=1;n<t;n+=1){var a=!(n===t-1),o=h.getName(this.ancestors[n]);i.append(this._createBreadcrumbItem(a,o,this.chevronRightIcon,n))}},_Ellipsize:function(e){var t=e.find("span").width();n.updateEllipsesBasedOnWidth(e.find("span").get(0),this._getOuterWidth(e),t)},_createEllipses:function(e){var t=this.$el.find(".breadcrumbCompact").find("li.responsive .breadcrumbItemTxt");if(0<t.length)for(var i=t.length-1;0<=i;i--){var n=u(t.get(i)),a=this.ancestors[this.ancestors.length-t.length+i];0!==t.find("span").width()&&n.find("span").text(p.enforceTextDirection(h.getName(a))),this._Ellipsize(u(t.get(i)))}},_getResponsiveWidth:function(){var e=this.$el.parents(".appbarRow"),t=e.find(".appbarTrailing"),i=this.$el.find(".breadcrumbPrevious"),n=this.$el.find(".breadcrumbRoot"),a=this._getOuterWidth(e)-this._getOuterWidth(t);return a-=this._getOuterWidth(i),a-=this._getOuterWidth(n)},_showResponsiveItems:function(){var e=this.$el.find(".breadcrumbFull"),t=this.$el.find(".breadcrumbCompact"),i=this.$el.find(".breadcrumbs");i.removeClass("compactMode");var n=this._getResponsiveWidth();n<=this._getFullWidth(e)?(this._updateNumOfResponsiveBC(),i.addClass("compactMode"),this._oVisibleBreadcrumb=t):(i.removeClass("compactMode"),this._oVisibleBreadcrumb=e),n=this._getResponsiveWidth(),this._checkRoot(i),this._createEllipses(n)},_updateNumOfResponsiveBC:function(){var e=this.$el.parents(".appbarRow"),t=this._getOuterWidth(e);this.NumOfResponsiveBC=t<=365&&(290<=t&&3<this.ancestors.length||t<290&&2<this.ancestors.length)?1:3,this._updateCollapsedBreadCrumb()},_getFullWidth:function(e){var i=0;return u.each(e.children(),function(e,t){i+=this._getOuterWidth(u(t),!0)}.bind(this)),i},_goUp:function(){0<=this.ancestors.length-2&&this.breadcrumbClicked(this.ancestors.length-2)},_goRoot:function(){this.breadcrumbClicked(0)},_createLeftArrow:function(e){var t=u("<ul>",{class:"breadcrumbPrevious"}),i=u("<li>",{}),n=this._createSvgIcon(this.previousIcon);n.attr("tabindex","0"),n.attr("role","button"),n.attr("title",o.get("previous")),n.attr("aria-label",o.get("previous")),n.on("primaryaction",this._goUp.bind(this)),p.isMirrored&&n.css({transform:"scaleX(-1)"}),i.append(n),t.append(i),e.append(t),this.bcPrev=t,this._updateLeftArrowVisible()},_createRoot:function(e){var t=u("<ul>",{class:"breadcrumbRoot"}),i=this._createRootItem();t.append(i),t=1===this.ancestors.length?t.addClass("currentFolder"):t.removeClass("currentFolder"),e.append(t)},_createRootItem:function(){var e=u("<li>",{}),t=h.getName(this.ancestors[0]),i=s.getSVGIconForType(h.getType(this.ancestors[0])),n=this._createSvgIcon(i);n.attr("tabindex","0"),n.attr("role","button"),n.on("primaryaction",this._goRoot.bind(this)),n.attr("aria-label",t),n.attr("title",t);var a=p.enforceTextDirection(t),o=u("<div>",{class:"breadcrumbRootTxt"});return o.text(a),o.attr("tabindex","0"),o.attr("role","link"),o.attr("aria-label",t),o.on("primaryaction",this._goRoot.bind(this)),e.append(n),e.append(o),e},_checkRoot:function(e){if(1===this.ancestors.length){if(this.$el&&this.$el.parents(".pageView").length&&"customFoldersSlideoutContent"===this.$el.parents(".pageView").get(0).id){var t=this._createBreadcrumbItem(!1,this.ancestors[0].defaultName,this.collapsedBreadCrumbIcon,0);t.addClass("breadcrumbCustomRoot").addClass("responsive"),e.find(".breadcrumbCompact").append(t),this._Ellipsize(t.find("div.breadcrumbItemTxt"))}}else e.find(".breadcrumbCustomRoot").remove()},render:function(){if(this.ancestors){this.$el.addClass("breadcrumbContainer");var e=u("<div>",{class:"breadcrumbs","aria-label":this.label,"aria-controls":this.ariaControls});return this.$el.append(e),this._createLeftArrow(e),this._createRoot(e),this._renderCollapsedItems(e),this._renderFullItems(e),this._showResponsiveItems(),this}},resize:function(){this._showResponsiveItems()},breadcrumbClicked:function(e){this.navigateCallback(e)},rootBreadcrumbClicked:function(e){if(e&&e.target){var t=null;u(e.target).is("li")?t=u(e.target).index():(u(e.target).is("span")||u(e.target).is("svg"))&&(t=u(e.target).parent().index()),null!==t&&this.breadcrumbClicked(t)}},_createSvgIcon:function(e,t){var i=u('<div class="bsIcon"></div>');return a.setIcon(i,this.getSvgId(e)),t&&i.find(".svgIcon").addClass(t),i},_updateSvgIcon:function(e,t){e&&(e.find("svg.svgIcon").first().remove(),a.setIcon(e,this.getSvgId(t)))},_updateRoot:function(e){var t=this.ancestors[0],i=h.getName(t),n=this.$el.find(".breadcrumbRoot"),a=n.find(".bsIcon");a.attr("aria-label",i),this._updateSvgIcon(a,s.getSVGIconForType(h.getType(t)));var o=n.find(".breadcrumbRootTxt");o.attr("aria-label",i),o.text(p.enforceTextDirection(i)),1===e.length?n.addClass("currentFolder"):n.removeClass("currentFolder")},_updateFullBreadCrumb:function(e){var t,i=e.slice(1),n=this.$el.find(".breadcrumbFull"),a=n[0].childNodes.length,o=i.length;if(a<o){var s=n.find("li:nth-child("+a+")").find("div.breadcrumbItemTxt");for(s.attr("tabindex","0"),s.attr("role","link"),t=a;t<o;t+=1){var r=t===o-1;n.append(this._createBreadcrumbItem(!r,null,this.chevronRightIcon,t+1))}s.on("primaryaction",this.breadcrumbClicked.bind(this,a))}else{for(t=a;o<t;t-=1)u(n.children()[n[0].childNodes.length-1]).remove();var l=n.find("li:last-child").find("div.breadcrumbItemTxt");l.removeAttr("tabindex"),l.attr("role","presentation")}for(t=0;t<o;t+=1){var c=u(n[0].childNodes[t]).find("div.breadcrumbItemTxt"),d=h.getName(i[t]);c.attr("aria-label",d),c.find("span").get(0).textContent=p.enforceTextDirection(d)}},_createDropDown:function(e){var t=this._getMenuItems(this.ancestors);this.ddMenu=new i({dropDownMenuSpec:{class:"breadcrumbs-popover",title:this.name||"",icon:this.collapsedBreadCrumbIcon,items:t,actionElement:e,ddMenuPlacement:"bottom",propagateEvent:!1}}),this.ddMenu.render()},_createCollapsedBreadCrumbItem:function(e,t,i){var n=this._createSvgIcon(this.chevronRightIcon),a=this._createSvgIcon(this.collapsedBreadCrumbIcon,"collapsedBreadCrumbIcon");e.off("primaryaction"),0<i?(this._createDropDown(a),a.attr("aria-haspopup","true")):(e.removeAttr("aria-haspopup"),a.on("primaryaction",this.rootBreadcrumbClicked.bind(this))),e.attr("role","link"),e.empty(),a.attr("tabindex","0"),a.attr("role","button"),a.attr("aria-label",o.get("collapsedBreadCrumb")),a.attr("title",o.get("collapsedBreadCrumb")),a.addClass("collapsedBreadCrumbIcon"),e.append(n),e.append(a)},_updateCollapsedBreadCrumb:function(){var e=this.$el.find(".breadcrumbCompact"),t=u(e[0].childNodes[0]);this._createCollapsedBreadCrumbItem(t,s.getSVGIconForType(h.getType(this.ancestors[0])),this.ancestors.length-1),this._updateResponsiveItems(e)},_updateResponsiveItems:function(e){e.find("li.responsive").remove();for(var t=this.NumOfResponsiveBC;0<t;t--)if(1<=this.ancestors.length-t){var i=1!==t,n=h.getName(this.ancestors[this.ancestors.length-t]),a=this._createBreadcrumbItem(i,n,this.chevronRightIcon,this.ancestors.length-t);a.addClass("responsive"),e.append(a)}},_updateLeftArrowVisible:function(){1<this.ancestors.length?this.bcPrev.removeClass("hidden"):this.bcPrev.addClass("hidden")},updateBreadcrumb:function(e){this.ddMenu&&this.ddMenu.hidePopup(),e&&(this.ancestors=e,this._updateRoot(e),this._updateFullBreadCrumb(e),this._updateLeftArrowVisible(),this._updateCollapsedBreadCrumb(),this._showResponsiveItems())},getSvgId:function(e){return"#"===e.charAt(0)?e.substr(1):e}});return r}),define("bacontentnav/common/ContentListPageView",["jquery","lodash","../lib/@waca/baglass/js/baglass/app/ContentView","./ui/ListControl","./ui/ContentBar","../nls/StringResource","../utils/ContentStoreObject","../utils/UIHelper","../utils/GlassContextHelper","../utils/A11YHelper","../utils/WidgetNavigator","../utils/ContentServiceUrls","./ui/Breadcrumbs","./ui/BreadcrumbDropDown"],function(a,o,e,t,i,s,r,n,l,c,d,u,h,p){"use strict";var m=e.extend({showSort:!1,contentListFacets:null,contentListSortIndexes:null,contentListFilters:["name",r.MODIFICATION_TIME],currentFilters:{},refresh:function(e){this.logger.debug("ContentListPageView.refresh"),this._updateTeamRoot(),this._listControl&&this._listControl.updateDatatable(e),void 0!==this.multiselectBar&&this.multiselectBar.isVisible()&&(this._listControl._clearRows(),this.multiselectBar.hide(),this.contentBar.show())},init:function(e){this.ancestors=[],this.showSwitchButton=!1,this.showBreadcrumbs=!1,this.trackBreadcrumbs=!1,this.showFilter=!1,this.skipAncestors=!1,this.showNewItem=!1,this.navigateOnRowSelect=!1,this._urlParameters={},this.menuNamePrefix="CONTENTLISTPV_",this.updateFilterString(""),m.inherited("init",this,arguments),o.extend(this,e),r.setGlassContext(this.glassContext),this.facets=this.getSortSpec(),this.sortMappingSpec=this.getSortMappingSpec(),this._resetSelectedSortViewFacets()},_findFolderCmId:function(){return this.folder&&!this._folderIsId()?this.glassContext.getSvc(".Content").then(function(e){return e.getPathUrl(this.folder)}.bind(this)).then(function(e){return this.glassContext.getCoreSvc(".Ajax").ajax({url:e,type:"GET",dataType:"json"})}.bind(this)).then(function(e){this.folder=e.data.data[0].id}.bind(this)):Promise.resolve()},render:function(){return new Promise(function(t,i){this.getContainer().addClass(this.getViewContainerClass()),a(".dialogBlockerCell").addClass("transparent"),n.initializeRegistry(this.glassContext).then(function(){return this._findFolderCmId().then(function(){return this.selfUrl=this.selfUrl?this.selfUrl:this._getDefaultSelfURL(),this.url=this.url?this.url:this._getDefaultRequestURL(),this._renderContentBar().then(function(e){return(this.renderContent&&this.renderContent()||Promise.resolve()).then(function(){this._renderSelectionControlBar(),a(".dialogBlockerCell").removeClass("transparent"),t(e)}.bind(this))}.bind(this))}.bind(this))}.bind(this)).catch(function(e){i(e)}),o.each(this.getFilterSpec(),function(e){this.currentFilters[e.name+"_"+this.id]=e.name}.bind(this)),this._createMultiSelectBar(),this.getContainer().on("clicktap",function(e){var t=e.target;if(t.tagName&&"svg"===t.tagName.toLowerCase()&&t.parentElement&&"button"===t.parentElement.tagName.toLowerCase()&&(t=e.target.parentElement),a(t).hasClass("parentProperties")&&a(t).hasClass("common-configure-manage"))return!0;this._retainProperties&&(this._retainProperties=!1)}.bind(this));var e=o.debounce(this._adjustWidth.bind(this),300);this._resizeHandler=a(window).on("resize",e),this._adjustWidth(),this.slideout&&(this.slideout.on("show",function(){this.refresh()}.bind(this)),this.getContainer().attr("tabindex","0"))}.bind(this))},bindWidgetNavigator:function(){var e=this.getContainer().find(".contentViewSwitcher table"),t=e.find("tr");this._listControl.widgetKeyController=new d({$el:this.getContainer().find(".listControl"),focusClass:"contentListFocusable",fCallBack:this._listControl._processRowForMoreDataLoad.bind(this._listControl)}),e&&o.each(t,function(e){a(e).addClass("keyboardAccess")})},_selectRow:function(e){this._propertiesOpen&&!0!==this.propertiesOverride?(this.getContainer().focus(),this._retainProperties=!0,this.propertiesSlideout.$el.find(":focus").blur(),setTimeout(function(){this.showProperties(e)}.bind(this),10)):this.navigateOnRowSelect&&r.hasPermissions(e,["traverse"])&&n.hasRequiredCapabilities(e,this.typesToOpen,this.capabilitiesRequired)&&this.navigate(e),o.isFunction(this.listControlCallback)&&this.listControlCallback(e),this._resetPropertiesOverride()},_resetPropertiesOverride:function(){this.propertiesOverride=!1},closeProperties:function(){this._propertiesOpen&&(this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.onHide())},showProperties:function(){},closeNewURL:function(){this._newURLOpen&&(this.toggleNewURLMode(),this.newURLSlideout&&this.newURLSlideout.onHide())},showNewURL:function(){},_adjustWidth:function(){a(window).width()<=1024?this.getContainer().addClass("pageview-small"):this.getContainer().removeClass("pageview-small"),this.contentBar&&this.contentBar.resize()},renderContentList:function(e){return n.initializeRegistry(this.glassContext).then(function(){return e.urlParameters=this.getURLParameters(),this._listControl=new t(this._getDatatableOptions(e)),void 0!==e.dataManipulationCallback&&(this.getListControl().dataManipulationCallback=e.dataManipulationCallback,this.contentListSortIndexes&&(this.getListControl().sortIndexes=this.contentListSortIndexes)),this._listControl.render().then(this.bindWidgetNavigator.bind(this))}.bind(this))},switchViewMode:function(){},_addFolder:function(){this._listControl&&(this._propertiesOpen&&this.closeProperties(),this._listControl.addFolder())},_getContentBarAccesibleLabel:function(){if(void 0!==this.contentBar&&void 0!==this.contentBar.itemMap)return void 0===this.contentBar.itemMap.nameLabel?"":this.contentBar.itemMap.nameLabel.label},_getDatatableOptions:function(e){var t=this._getContentBarAccesibleLabel(),i=r.hasPermissions(this.parentObj,["write"]),n={el:this.getContainer(),defaultSort:this.getDefaultSort(),stateId:this.stateId||null,glassContext:this.glassContext,singleSelectCallback:this._selectRow.bind(this),contentView:this,accessibleLabel:s.get("ViewAccessibleLabel",{label:t}),filterColumnIndex:this.getFilterColumnIndex(),showEmptyNewFolderButton:i};this.selectedRow&&(n.selectedRow=this.selectedRow,delete this.selectedRow);var a=this.getListControlOptions();return a&&o.extend(n,a),o.extend(n,e),n},setFocus:function(){this.slideout&&this.getContainer().focus()},getListControlOptions:function(){return null},getDefaultSort:function(){return[1,"asc"]},removeContentList:function(){this.logger.debug("ContentListPageView.removeContentList",this._listControl),this._listControl&&this._listControl.remove(),this.newItemDropDown&&this.newItemDropDown.destroy()},remove:function(){return this.removeContentList(),m.inherited("remove",this,arguments)},getModuleName:function(){},getViewContainerClass:function(){return"ContentListPageView"},_getDefaultRequestURL:function(){var e="";return this.folder&&(e=u.getBaseObjectsURL()+"/"+this.folder+"/items"),e},_renderContentBar:function(){return this._createContentBar().then(function(e){return e&&e.show(),this._updateAppBar().then(function(){return e})}.bind(this))},_renderSelectionControlBar:function(){if(this.selectAcrossFolders){this.$selectionControlBar=a('<div class="selectionControlBar"><span class="selectAll"><a role="button" tabindex="0"></a></span><span class="clearAll"><a role="button" tabindex="0"></a></span></div>');var e=this.$selectionControlBar.find(".selectAll a");e.text(s.get("selectAllFolder")),e.attr("aria-label",s.get("selectAllFolder")),e.on("primaryaction",function(){this._listControl&&this._listControl.selectAll()}.bind(this));var t=this.$selectionControlBar.find(".clearAll a");t.text(s.get("deselectAllFolder")),t.attr("aria-label",s.get("deselectAllFolder")),t.on("primaryaction",function(){this._listControl&&this._listControl.clearAll()}.bind(this)),this.getContainer().append(this.$selectionControlBar)}},clearAllSelected:function(){this._listControl&&this._listControl.clearAllSelected()},togglePropertiesMode:function(){this._propertiesOpen?(this.getContainer().removeClass("propertiesMode"),this._propertiesOpen=!1):(this.getContainer().addClass("propertiesMode"),this._propertiesOpen=!0)},toggleNewURLMode:function(){this._newURLOpen?(this.getContainer().removeClass("newURLMode"),this._newURLOpen=!1):(this.getContainer().addClass("newURLMode"),this._newURLOpen=!0)},_contentbarItems:function(){var e=[];return this.initializeAncestors().then(function(){return this.showBreadcrumbs&&e.push({name:"breadcrumbs",position:"leading",label:s.get("breadCrumbsAccessibleLabel"),responsive:!1,module:h,navigateCallback:this._navigateAncestor.bind(this),ancestors:this.ancestors}),this.showParentPropertiesButton&&this.ancestors&&".public_folders"===this.ancestors[0].id&&e.push({name:"parentProperties",position:"trailing",module:"./contentbar_components/Button",className:"parentProperties",label:s.get("properties",{objectName:s.get("teamContent")}),responsive:!1,icon:"common-properties",action:function(){this._listControl._clearRows(),this._propertiesOpen?this.closeProperties():this.showProperties({selfUrl:this.selfUrl})}.bind(this)}),this.showAddFolder&&e.push({name:"addFolderButton",position:"trailing",label:s.get("newFolderLabel"),responsive:!1,module:"./contentbar_components/Button",className:"addNewFolder",icon:"common-add-folder",action:function(){this._addFolder()}.bind(this)}),this.showNewItem&&e.push({name:"newItemButton",position:"trailing",label:s.get("newItemMenuLabel"),responsive:!1,module:"./contentbar_components/Button",className:"newItemButton",icon:"common-add",action:function(){this._openNewItemMenu()}.bind(this)}),this.showFilter&&e.push({name:"contentNavFilter",label:s.get("filterBy"),responsive:!1,labelOnly:!1,hcLabel:!1,position:"trailing",supportCustomCollapse:!0,showTitle:!1,updateLabel:!1,icon:"common-filter",bSVG:!0,module:"./contentbar_components/Button",className:"contentNavFilter",pushed:!1,action:this.filterViewClicked.bind(this)}),this.showSort&&e.push({name:"facetButton",module:"./contentbar_components/Button",position:"trailing",label:s.get("sort"),responsive:!1,className:"contentNavSortButton",icon:"ba_content_nav-sort_16",bSVG:!0,disabled:!1,pushed:!1,action:this._sortViewFacetClicked.bind(this)}),e=e.concat(this.contentbarItems()),Promise.resolve(e)}.bind(this))},_sortViewFacetClicked:function(){var e=this.contentBar.itemMap.facetButton.$el.find("button");!1===this.contentBar.itemMap.facetButton.pushed&&!1===e.prop("disabled")&&(this.contentBar.itemMap.facetButton.pushed=!0,e.addClass("filtered"),this.glassContext.appController.showSlideOut({parent:this.slideout,label:s.get("sort"),width:"200px",content:{module:"bacontentnav/common/SortView",view:this}}).on("hide",function(){e.removeClass("filtered"),this.contentBar.itemMap.facetButton.pushed=!1}.bind(this)))},_resetSelectedSortViewFacets:function(){this.selected={sortBy:"name",order:"asc"},this.updateSortColumn(this.selected)},contentbarItems:function(){return[]},_getDefaultSelfURL:function(){var e="";return this.folder&&(e=u.getBaseObjectsURL()+"/"+this.folder),e},_createContentBar:function(){return this._contentbarItems().then(function(e){return e&&0!==e.length?(this.$contentbar=a('<div class="contentexplorerbar"></div>'),this.getContainer().prepend(this.$contentbar),this.contentBar=new i({el:this.$contentbar,items:e,appController:this.appController,appBarConfig:{showHome:!1,showLogout:!1}}),this.contentBar.render().then(function(){return Promise.resolve(this)}.bind(this.contentBar))):Promise.resolve(null)}.bind(this))},getParentProperties:function(){if(this.parentObj||!this.selfUrl)return Promise.resolve(!0);var e={url:this.selfUrl,dataType:"json",type:"GET",data:{fields:"permissions"}};return this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){this.parentObj=e.data.data[0],this.ancestors&&(o.last(this.ancestors).permissions=this.parentObj.permissions)}.bind(this)).catch(function(e){return l.showAjaxServiceError(this.glassContext,e),Promise.reject(e)}.bind(this))},getContextMenuId:function(){return n.getConfiguration("contextMenuId")},getPersonalViewModulePath:function(){return n.getConfiguration("modulePaths").myContent},getTeamViewModulePath:function(){return n.getConfiguration("modulePaths").teamContent},_multiselectbarItems:function(){return Promise.resolve([{name:"selectedLabel",position:"leading",label:"",module:"../../lib/gemini/app/ui/toolbar_components/Label",style:"selectedLabel"},{name:"cancelButton",position:"trailing",label:s.get("cancel"),text:s.get("cancel"),labelOnly:!0,module:"./contentbar_components/Button",className:"cancelButton",action:function(){this._listControl._clearRows(),this.hideMultiSelectBar(),this.setFocus()}.bind(this)},{name:"ellipsesButton",position:"trailing",icon:"common-menuoverflow",module:"./contentbar_components/Button",label:s.get("more"),className:"ellipsesButton",action:function(e){var t={};"keypress"===e.type?t=a(e.target).offset():(t.left=e.pageX||e.gesture.center.pageX,t.top=e.pageY||e.gesture.center.pageY);var i=this._listControl.getSelectedObjects(),n={position:{pageX:t.left,pageY:t.top},menuId:this.getContextMenuId(),activeObject:{oListControl:this._listControl,aSelectedContext:i},options:this._listControl.getPublicSelectedObjects(i)};return e.stopPropagation(),this.glassContext.appController.showContextMenu(n),!1}.bind(this)}])},_createMultiSelectBar:function(){return this._multiselectbarItems().then(function(e){return this.$multiselectbar=a('<div id="'+o.uniqueId("multiselectbar_")+'" class="multiselectbar"></div>'),this.getContainer().prepend(this.$multiselectbar),this.multiselectBar=new i({el:this.$multiselectbar,items:e,appController:this.appController,appBarConfig:{showHome:!1,showLogout:!1},onHide:function(){this.$el.removeClass("multiselectbarContentNav")},onShow:function(){this.$el.addClass("multiselectbarContentNav")}}),this.$multiselectbar.attr("aria-live","polite"),this.multiselectBar.hide(),this.multiselectBar.render().then(function(){return Promise.resolve(this)}.bind(this.multiselectBar))}.bind(this))},getFilterColumnIndex:function(){return 0},getAncestors:function(){return this.ancestors},_filter:function(e){if(this._listControl){"allContent"===e&&this.currentFilters[e+"_"+this.id]?o.each(this.getFilterSpec(),function(e){delete this.currentFilters[e.name+"_"+this.id]}.bind(this)):"allContent"===e?o.each(this.getFilterSpec(),function(e){this.currentFilters[e.name+"_"+this.id]=e.name}.bind(this)):this.currentFilters[e+"_"+this.id]?(delete this.currentFilters[e+"_"+this.id],this.currentFilters["allContent_"+this.id]&&delete this.currentFilters["allContent_"+this.id]):(this.currentFilters[e+"_"+this.id]=e,this.getFilterCountPerId()===this.getFilterSpec().length-1&&(this.currentFilters["allContent_"+this.id]="allContent"));var t="";0===this.getFilterCountPerId()?t="none":this.contentListFacets&&!this.currentFilters["allContent_"+this.id]&&o.each(this.getFilterSpec(),function(e){this.currentFilters[e.name+"_"+this.id]&&(t=this.contentListFacets[e.name]+(t?"|"+t:""))}.bind(this)),this._listControl.filter(t,this.getFilterColumnIndex(),!0)}},getFilterCountPerId:function(){return Object.keys(this.currentFilters).filter(function(e){return-1<e.indexOf(this.id)}.bind(this)).length},updateFilterString:function(e){this.stateId&&n.isLocalStorageSupported()&&localStorage.setItem("filterString_"+this.stateId,e)},getRootAncestor:function(){return".my_folders"===this.folder?r.getRootMyFoldersAncestors():r.getRootPublicFoldersAncestor()},_folderIsId:function(){return this.folder&&this.folder.match(/^i[0-9A-F]{32}$/)},initializeAncestors:function(){return new Promise(function(t){(this.showBreadcrumbs||this.trackBreadcrumbs)&&0===this.ancestors.length?this._folderIsId()?this.skipAncestors?this._sendRequestForMissingInfo("permissions,defaultName",this.selfUrl).then(function(e){this.ancestors=[r.buildAncestorEntry(e)],t(this.ancestors)}.bind(this)):this._sendRequestForMissingInfo("permissions,ancestors,defaultName",this.selfUrl).then(function(e){this.ancestors=r.buildAncestorTree(e),t(this.ancestors)}.bind(this)):(this.ancestors.push(this.getRootAncestor()),t(this.ancestors)):t(this.ancestors)}.bind(this))},addURLParameters:function(e){a.each(e,function(e,t){this._urlParameters[e]&&"fields"===e?this._urlParameters[e]=this._urlParameters[e]+","+t:this._urlParameters[e]=t}.bind(this))},getURLParameters:function(){return this._urlParameters},openSlideoutView:function(e,t){this.logger.debug("ContentListPageView.openSlideoutView",e,t);var a=e.renderFromReact;this._queryMissingInfoToOpenView(e).then(function(e){var t=r.getAncestors(e);if(t){if(0<t.length)var i=r.getSelfLink(t[0])===u.getPublicFoldersURL()?"com.ibm.bi.contentApps.teamFoldersSlideout":"com.ibm.bi.contentApps.myContentFoldersSlideout";var n=this.glassContext.appController.findPlugin(i);n?(n.$el?this.glassContext.appController.hideSlideOut().then(function(){n.$el.trigger("click")}):this.logger.error('Plugin with id="'+i+'" does not have $el'),n.itemSpec.options.content.initialFolder=e,n.itemSpec.options.content.renderFromReact=a):this.logger.error('Cannot find plugin with id="'+i+'"')}}.bind(this)).catch(function(){})},_queryMissingInfoToOpenView:function(a){return new Promise(function(t,e){var i=r.getSelfLink(a),n=r.getAncestors(a);i&&n?t(a):i?this._sendRequestForMissingInfo("ancestors,defaultName",i).then(function(e){t(e)}):e(new Error("No self url to open view"))}.bind(this))},_sendRequestForMissingInfo:function(e,t){var i={url:t,dataType:"json",type:"GET",data:{fields:e}};return this.glassContext.getCoreSvc(".Ajax").ajax(i).then(function(e){return e.data.data[0]}).catch(function(e){return l.showAjaxServiceError(this.glassContext,e),Promise.reject(e)}.bind(this))},_navigateAncestor:function(e){if(e>=this.ancestors.length-1||this._propertiesOpen||this._newURLOpen)return this._propertiesOpen&&this.closeProperties(),void(this._newURLOpen&&this.closeNewURL());var t=this.ancestors[e];this.ancestors=this.ancestors.slice(0,e),this.navigate(t)},navigate:function(e,t){if(this.logger.debug("ContentListPageView.navigate",e),e&&n.isContainer(r.getType(e))){this._propertiesOpen&&this.closeProperties(),this.parentObj=e.permissions?e:null,this.url=r.getItemsLink(e),this.selfUrl=r.getSelfLink(e),this.parentObj&&this.parentObj.permissions&&this._listControl.setParentHasWritePermission(r.hasPermissions(this.parentObj,["write"])),this._listControl&&this._listControl.updateDatatable&&(this._listControl.updateDatatable(this.url),this.refreshBreadcrumbs(e),this._updateAppBar());var i=r.getName(this.ancestors[this.ancestors.length-1]);i&&i.length&&c.screenReaderAlertUser(s.get("a11yContentListUpdatedNotification",{folderOrPackageName:i}))}},_updateTeamRoot:function(){this.inTeamRoot?a("body").addClass("inTeamRootNav"):a("body").removeClass("inTeamRootNav")},_updateAppBar:function(){return this.inTeamRoot=this.ancestors&&1===this.ancestors.length&&".public_folders"===this.ancestors[0].id,this._updateTeamRoot(),this.getParentProperties().then(function(){var e=r.hasPermissions(this.parentObj,["write"]);if(this.showParentPropertiesButton){var t=this.inTeamRoot&&e?"inline-block":"none";this._updateAppbarButton(".parentProperties",t)}this.showAddFolder&&this._updateAppbarButton(".addNewFolder",e?"inline-block":"none"),!this.isAllowNewFolder()&&this.inTeamRoot?this._updateAppbarButton(".newItemButton","none"):this._updateAppbarButton(".newItemButton","inline-block")}.bind(this))},isAllowNewFolder:function(){var e=this.glassContext.services.userProfile&&this.glassContext.services.userProfile.userProfileSettings;return!(e&&e.ui_excludedFeatures&&e.ui_excludedFeatures.ids&&0<=e.ui_excludedFeatures.ids.indexOf("com.ibm.bi.contentApps.Folder"))},_updateAppbarButton:function(e,t){if(this.$contentbar){var i=this.$contentbar.find(e).parent();i.css("display",t);var n=i.next(),a=i.prevAll(":visible:first");(0===a.length||a.hasClass("appbarSeparatorItem"))&&n.hasClass("appbarSeparatorItem")&&n.css("display",t)}},refreshBreadcrumbs:function(e){this.logger.debug("ContentListPageView.refreshBreadcrumbs",e);var t=r.buildAncestorEntry(e);this.ancestors.push(t),this.showBreadcrumbs&&this.contentBar.getAddedItem("breadcrumbs").then(function(e){e.updateBreadcrumb(this.ancestors)}.bind(this)),this.navigateCallback&&this.navigateCallback(this.ancestors)},isEnabledAction:function(e){return!(this.disabledActions&&-1<this.disabledActions.indexOf(e))},_getFilterItems:function(e,t,i,n){return o.map(e,function(e){return{name:t+e.name,icon:"wft_checkmark",label:e.label,checked:e.value===i,action:function(){n(e.name)}}})},getFilterSpec:function(){return[]},getSortSpec:function(){return{sortBy:{name:"name",modificationTime:"modificationTime"},order:{sortedAscending:"asc",sortedDescending:"desc"}}},getSortMappingSpec:function(){return{name:["groupByFolder","name"],modificationTime:["groupByFolder","modificationTime"],type:["groupByType","name"]}},getListControl:function(){return this._listControl},sort:function(){if(this.getListControl()){var e=localStorage.getItem("sortColumnName_"+this.stateId),t=localStorage.getItem("sortColumnDir_"+this.stateId),i=[];if(this.getListControl())for(var n=this.getListControl().getDatatable(),a=-1,o=0;o<this.sortMappingSpec[e].length;o++)0<=(a=n.api().column(this.sortMappingSpec[e][o]+":name").index())&&i.push([a,t]);0<i.length&&n.api().order(i).draw()}},updateSortColumn:function(e){this.stateId&&n.isLocalStorageSupported()&&(localStorage.setItem("sortColumnName_"+this.stateId,e.sortBy),localStorage.setItem("sortColumnDir_"+this.stateId,e.order))},_getSortItems:function(e,t,i,n,a){return o.map(e,function(e){return{name:t+e.name,label:e.label,icon:"sortDirection",sorted:e.value===i?n:null,action:function(){a(e.value)}}})},filterViewClicked:function(){},getContainer:function(){return this.contentListContainer||this.$el},hideMultiSelectBar:function(){this.multiselectBar&&this.multiselectBar.hide();var e=this.folderSearchBar&&this.folderSearchBar.isVisible()?this.folderSearchBar:this.contentBar;e&&e.show()},showMultiSelectBar:function(e){if(!this.selectAcrossFolders){var t=this.folderSearchBar&&this.folderSearchBar.isVisible()?this.folderSearchBar:this.contentBar;if(t&&t.hide(),this.multiselectBar){if(e){var i=this.multiselectBar.$el.find("div.appbarLeading");a(i[0]).css("visibility","hidden")}this.multiselectBar.show()}}},updateMultiSelectBarText:function(t){this.multiselectBar&&this.multiselectBar.getAddedItem("selectedLabel").then(function(e){e.text(t)}.bind(this))},getNewItemSpec:function(){return Promise.resolve([])},createNewItem:function(e){},_getNewItems:function(){return this.getNewItemSpec().then(function(e){return o.map(e,function(e){var t=n.getSVGIconForType(e.type).replace(/^#/,"");return{label:n.getTypeName(e.type),icon:t,onSelect:this.createNewItem.bind(this,e.type)}}.bind(this))}.bind(this))},_createNewItemDropDown:function(t){return this._getNewItems().then(function(e){return this.newItemDropDown=new p({dropDownMenuSpec:{title:s.get("newItemMenuLabel"),id:"newItemMenu",label:"newItemMenu",icon:"",items:e,actionElement:t[0],ddMenuPlacement:"bottom",class:"newItemDropDown"}}),this.newItemDropDown.render()}.bind(this))},_openNewItemMenu:function(){if(!this.newItemDropDown)return new Promise(function(t,i){var n=this.$el.find(".newItemButton");n.attr("tabindex","0"),this._createNewItemDropDown(n).then(function(e){n.trigger("click"),t(e)}.bind(n)).catch(function(e){i(e)})}.bind(this));this.newItemDropDown.show()}});return o.extend(m),m}),define("bacontentnav/common/ui/FolderSearchBar",["jquery","lodash","../../lib/@waca/core-client/js/core-client/ui/View","../../lib/@waca/core-client/js/core-client/utils/Utils","../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../nls/StringResource","jquery-ui"],function(t,i,e,n,a,o){var s=e.extend({events:{clicktap:"action"},init:function(e){i.extend(this,e),s.inherited("init",this,arguments),this.folderSearchbarInitialized=!1,this.$input=t('<input class="searchinput">').attr({type:"search",value:this.value,placeholder:o.get("searchFolder"),title:this.label,maxlength:256,role:"combobox","aria-autocomplete":"list"}).on("search",this.search.bind(this)).on("change",this.resetState.bind(this)).on("focus",this.setCaret.bind(this)).keydown(function(e){27===e.which&&(i.isEmpty(this.getSearchString())||(this.hadTypeaheadContent=!0,this.controller.onClear(),e.stopPropagation()))}.bind(this)).keyup(function(e){27===e.which?this.hadTypeaheadContent&&(this.hadTypeaheadContent=!1,e.stopPropagation()):9!==e.which&&16!==e.which&&this.search(e)}.bind(this)),a.initElementForBidi(this.$input[0]),this.$searchButton=t('<button class="s4h" disabled/>').attr({type:"button",title:o.get("search")}),n.setIcon(this.$searchButton,"common-search"),this.$clearSearchButton=t('<button class="s4hReset" />').attr({type:"reset",title:o.get("clear")}).on("clicktap",this.clear.bind(this)),n.setIcon(this.$clearSearchButton,"common-close-cancel-error"),this.hadTypeaheadContent=!1},setCaret:function(e){e.stopPropagation(),window.setTimeout(function(){this.moveCaretToEnd(this.$input[0])}.bind(this),0)},moveCaretToEnd:function(e){if("number"!=typeof e.selectionStart||this.folderSearchbarInitialized){if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}}else e.selectionStart=e.selectionEnd=e.value.length,this.folderSearchbarInitialized=!0},render:function(){return this.$el.empty().addClass("searchbar appbarIcon appbarItem filled s4hBar").append(this.$searchButton,[this.$input,this.$clearSearchButton]),this.value||this.$el.removeClass("filled"),this.setFocus(),Promise.resolve(this)},show:function(e){this.isHidden()&&(this.$input.fadeIn("fast"),this.$searchButton.fadeIn("fast"),this.$clearSearchButton.fadeIn("fast"),this.$el.slideDown("fast"),e||(this.setFocus(),this.$input.select()))},search:function(e){var t=this.getSearchString();this.controller.applyFilter(t),this.setFocus(),this.showHideClearSearchButton(),e&&e.preventDefault()},clear:function(){""!==this.$input.val()&&(this.gainFocus=!0,this.$input.val(""),this.$input.select(),this.setFocus(),this.showHideClearSearchButton(),this.controller.renderFromReact?this.controller.clearSearch():this.controller.clearFilter())},setSearchString:function(e){var t=i.isString(e)?e:"";this.getSearchString()!==t&&this.$input.val(t),this.showHideClearSearchButton()},getSearchString:function(){return this.$input.val().trim()},hide:function(e){this.$el.is(":hidden")||(this.$el.slideUp("fast"),this.$input.fadeOut("fast").blur(),e||this.$input.val(""),this.$searchButton.fadeOut("fast"),this.$clearSearchButton.fadeOut("fast"))},isHidden:function(){return this.$el.is(":hidden")},showHideClearSearchButton:function(){this.$input.val()?this.$el.addClass("filled"):this.$el.removeClass("filled")},setFocus:function(){this.$input.is(":focus")||this.$input.focus()},resetState:function(){this.showHideClearSearchButton()}});return s}),define("bacontentnav/utils/TextUtils",[],function(){"use strict";return{escapeRegexChars:function(e){var t=e;return e&&"string"==typeof e&&(t=t.replace(/[-[\]{}()*+?.\\^$|#]/g,"\\$&")),t}}}),define("bacontentnav/common/FolderSearchController",["../lib/@waca/core-client/js/core-client/ui/core/Class","jquery","lodash","./ui/ContentBar","./ui/FolderSearchBar","../utils/TextUtils"],function(e,a,o,s,t,i){"use strict";var n=e.extend({init:function(e){o.extend(this,e),n.inherited("init",this,arguments),this._filterColumnIndex=this._getFilterColumnIndex("MultipleProperties"),this.value=""},_folderSearchBarItems:function(){return new Promise(function(e){e([{name:"searchInput",module:t,position:"leading",glassContext:this.pageView.glassContext,controller:this,label:"",value:this.value}])}.bind(this))},createFolderSearchBar:function(e,t,i,n){return this.onSearchFilter=e,this.onClearFilter=t,this.onClearSearchFilter=i,this.renderFromReact=n,this._folderSearchBarItems().then(function(e){return this.$folderSearchBar=a('<div id="'+o.uniqueId("contentsearchbar_")+'" class="'+this.class+'"></div>'),this.getContainer().prepend(this.$folderSearchBar),this._contentBar=new s({el:this.$folderSearchBar,items:e,appController:this.pageView.appController,appBarConfig:{showHome:!1,showLogout:!1}}),this.$folderSearchBar.attr("aria-live","polite"),this._contentBar.hide(),this._contentBar.render().then(function(){return this._contentBar.getAddedItem("searchInput").then(function(e){return(this.searchInput=e).search(),this._contentBar}.bind(this))}.bind(this))}.bind(this))},applyFilter:function(e){var t=this.value;this.onSearchFilter&&this.onSearchFilter(e),e=i.escapeRegexChars(e),this.value=e,this.pageView&&(this.pageView.getListControl()&&this.pageView.getListControl().filter(e,this._filterColumnIndex,!0),this._isStateChange(t,e)&&this.pageView.trigger("filterState:change"))},clearFilter:function(){this.onClear()},clearSearch:function(){this.searchInput&&(this.searchInput.clear(),this.onClearSearchFilter&&this.onClearSearchFilter())},onClear:function(){this.searchInput&&this.searchInput.clear(),this.onClearFilter&&this.onClearFilter(),this.applyFilter("")},_getFilterColumnIndex:function(e){var t,i=this.pageView._getColumnSpecification();for(t=0;t<i.length;t++)if(i[t].type===e)return t;return-1},_isEditableTag:function(e){return"input"===e||"textArea"===e},_isCurrentFocusEditable:function(){var e=a(document.activeElement);return!(!e||!this._isEditableTag(e[0].localName))},getContainer:function(){return this.pageView.getContainer()},getContentBar:function(){return this.pageView.contentBar},setInputValue:function(e){var t=this.value;this.value=e,this._isStateChange(this.value,t)&&this.pageView.trigger("filterState:change")},_isStateChange:function(e,t){return""===e&&""!==t||""!==e&&""===t},shouldHandle:function(e){var t=[9,13,16,17,18,27,37,38,39,40];return!(!(-1===t.indexOf(e.which)&&-1===t.indexOf(e.keyCode)&&!e.ctrlKey&&!e.metaKey&&!e.altKey)||this._isCurrentFocusEditable())},isDirty:function(){return this.value&&""!==this.value.trim()}});return n}),define("bacontentnav/common/FilterViewController",["lodash","moment","../lib/@waca/core-client/js/core-client/ui/core/Class"],function(a,t,e){"use strict";var i=e.extend({propertyUIControlModule:"bi/commons/ui/properties/PropertyUIControl",init:function(e){i.inherited("init",this,arguments),this.minRange=null,this.maxRange=null,this.dateModifiedLabel="",this.view=e.view,this.filterSpecs=e.filterSpecs,this.filterColumn=this.findTypeFilterColumn("Icon"),this.filterObject={type:e.filterObject,modificationTime:e.modificationTime||{}},this.strokeShown=!1,this.resetSelected(),this.filteredClassShown=!1},filter:function(e){this.view.trigger("filterState:change",{filterQuery:e,column:this.filterColumn})},onChangeModificationTime:function(e){var t=e.split("|");this.minRange=t[0]||null,this.maxRange=t[1]||null,this._dateModifiedLabelSetter(e),this.selected.modificationTime!==e&&(this.selected.modificationTime=e,this.view.trigger("filterState:changeDate",{minRange:this.minRange,maxRange:this.maxRange,modificationTime:this.selected.modificationTime}))},findTypeFilterColumn:function(e){for(var t=this.filterSpecs(),i=0;i<t.length;i++)if(t[i].type===e)return i;return-1},getSelectedTypes:function(){var t=[];return a.each(this.selected.types,function(e){t=t.concat(e.split("|"))}.bind(this)),t},getSelectedTypesQuery:function(){return this.selected.types.join("|")},onChangeTypeFilter:function(e,t){var i=this.filterObject.type[e],n=!1;return t?-1===this.selected.types.indexOf(i)&&(this.selected.types.push(i),n=!0):this.selected.types=a.without(this.selected.types,i),n},setDefaultFilters:function(){this.filterObject.modificationTime={};var e=t().hour(0).minute(0).second(0).millisecond(0).add(1,"d");this.filterObject.modificationTime.today=e.clone().subtract(1,"d").toISOString()+"|"+e.toISOString(),this.filterObject.modificationTime.yesterday=e.clone().subtract(2,"d").toISOString()+"|"+e.clone().subtract(1,"d").toISOString(),this.filterObject.modificationTime.pastWeek=e.clone().subtract(1,"w").toISOString()+"|"+e.toISOString(),this.filterObject.modificationTime.pastMonth=e.clone().subtract(1,"M").toISOString()+"|"+e.toISOString()},addFilter:function(e){return this.onChangeTypeFilter(e,!0)&&this.filter(this.getSelectedTypesQuery(),this.filterColumn),this.filterView?this.filterView.render():Promise.resolve()},isFiltered:function(e){return-1!==this.selected.types.indexOf(e)},isDirty:function(){return 0<this.selected.types.length||null!==this.minRange&&null!==this.maxRange},resetSelected:function(){this.setDefaultFilters(),this.selected={types:[],modificationTime:null},this.minRange=null,this.maxRange=null,this.dateModifiedLabel=""},removeFilteredClass:function(e){0==this.selected.types.length&&null===this.minRange&&null===this.maxRange&&($(e).removeClass("filtered"),this.filteredClassShown=!1)},addFilteredClass:function(e){this.filteredClassShown||($(e).addClass("filtered"),this.filteredClassShown=!0)},getModificationTime:function(){return this.selected.modificationTime},getMinRange:function(){return this.minRange},getMaxRange:function(){return this.maxRange},_dateModifiedLabelSetter:function(e){this.dateModifiedLabel=""===e?"":e||this.dateModifiedLabel}});return i}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"));else if("function"==typeof define&&define.amd)define("bacontentnav/lib/@ba/ba-graphics/dist/icons-js/filter-applied_16",["@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"],t);else{var i=t("object"==typeof exports?require("@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"):e["@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}("undefined"!=typeof self?self:this,function(i){return webpackJsonPBaGraphics([1254],{"47a4fa6d8010c58f1e00":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6873601dfe1d9459c1a9"),a=(i.n(n),i("e21347f38ade5a747478"));t.default=a.a},"6873601dfe1d9459c1a9":function(e,t){e.exports=i},e21347f38ade5a747478:function(e,t,i){"use strict";var n=i("9689a9c94ae38b47fa2c"),a=i.n(n),o=i("9ce58a7deea14f49ef01"),s=i.n(o),r=new a.a({id:"filter-applied_16_v7",use:"filter-applied_16_v7-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="filter-applied_16_v7"><path d="M10,7c0.8,0,1.5,0.7,1.5,1.5S10.8,10,10,10S8.5,9.3,8.5,8.5S9.2,7,10,7z M13,2H3C2.4,2,2,2.4,2,3v1.8c0,0.3,0.1,0.5,0.3,0.7\tL6,9.2V13c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1v-1.5c-0.3,0-0.7-0.1-1-0.2V13H7V8.8l-4-4V3h10v1.8l-1.3,1.3c0.3,0.2,0.5,0.4,0.7,0.7\tl1.3-1.3C13.9,5.3,14,5.1,14,4.8V3C14,2.4,13.6,2,13,2z" /></symbol>'});s.a.add(r),t.a=r}},["47a4fa6d8010c58f1e00"])}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"));else if("function"==typeof define&&define.amd)define("bacontentnav/lib/@ba/ba-graphics/dist/icons-js/filter_16",["@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"],t);else{var i=t("object"==typeof exports?require("@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"):e["@ba/ba-graphics/dist/icons-js/ba-graphics-icons-commons.js"]);for(var n in i)("object"==typeof exports?exports:e)[n]=i[n]}}("undefined"!=typeof self?self:this,function(i){return webpackJsonPBaGraphics([1248],{"2a291322f8aea355dd92":function(e,t,i){"use strict";var n=i("9689a9c94ae38b47fa2c"),a=i.n(n),o=i("9ce58a7deea14f49ef01"),s=i.n(o),r=new a.a({id:"filter_16_v7",use:"filter_16_v7-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="filter_16_v7"><path d="M9,14H7c-0.6,0-1-0.4-1-1V9.2L2.3,5.5C2.1,5.3,2,5.1,2,4.8V3c0-0.6,0.4-1,1-1h10c0.6,0,1,0.4,1,1v1.8c0,0.3-0.1,0.5-0.3,0.7\tL10,9.2V13C10,13.6,9.6,14,9,14z M3,3v1.8l4,4V13h2V8.8l4-4V3H3z" /></symbol>'});s.a.add(r),t.a=r},"6873601dfe1d9459c1a9":function(e,t){e.exports=i},e7be0695235c82fb118e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6873601dfe1d9459c1a9"),a=(i.n(n),i("2a291322f8aea355dd92"));t.default=a.a}},["e7be0695235c82fb118e"])}),define("bacontentnav/common/BaseContentWideView",["./ContentListPageView","../nls/StringResource","../utils/ContentStoreObject","../utils/UIHelper","./FolderSearchController","./FilterViewController","moment","text!./templates/EmptyListTemplate.html","../lib/@ba/ba-graphics/dist/icons-js/filter-applied_16","../lib/@ba/ba-graphics/dist/icons-js/filter_16","../lib/@waca/core-client/js/core-client/utils/Utils","jquery"],function(e,t,a,o,i,n,r,s,l,c,d,u){"use strict";var h=e.extend({init:function(e){h.inherited("init",this,arguments),this.addURLParameters({nav_filter:"true",fields:"userInterfaces,defaultName,disabled,hidden,permissions,runInAdvancedViewer,modificationTime,canBurst,iconURI,defaultScreenTip,searchPath,defaultPortalAction,base.defaultName,tags,target.searchPath,target.disabled,effectiveUserCapabilities,base.permissions,options,base.options"}),this.folderSearchController=new i({pageView:this,class:"contentsearchbar"}),this.getContainer().on("keypress",this.handleKeyboard.bind(this)),this.filterViewController=new n({filterSpecs:this._getColumnSpecification.bind(this),view:this,filterObject:o.getFilterFacets(["content"])}),this._filterRangeCallback(),this.on("filterState:change",this.onFilterStateChange.bind(this)),this.on("filterState:changeDate",this.onFilterStateChangeDate.bind(this))},remove:function(){h.inherited("remove",this,arguments),this.off("filterState:change"),this.off("filterState:changeDate")},onFilterStateChange:function(e){e&&void 0!==e.filterQuery&&this.getListControl()&&this.getListControl().filter(e.filterQuery,e.column,!0);var t=this.$el.find(".contentNavFilter");t.find(".svgIcon").remove(),this.folderSearchController.isDirty()||this.filterViewController.isDirty()?d.setIcon(t,l.default.id):d.setIcon(t,c.default.id)},onFilterStateChangeDate:function(){this.onFilterStateChange(),this.getListControl()&&this.getListControl().getDatatable().fnDraw()},getSlideoutWidth:function(){return"300px"},saveSlideoutWidth:function(){var e=this.$el.width();o.saveSlideoutWidth(this.id,e)},handleKeyboard:function(e){this.folderSearchController.shouldHandle(e)&&(this.folderSearchController.setInputValue(String.fromCharCode(e.which)),this.filterViewClicked())},renderContent:function(){var n=null;return this.renderContentList({disableColumnHeaders:!0,columns:this._getColumnSpecification(),url:this.url||this._getDefaultRequestURL(),selfDefindedEmptyListTemplate:s,emptyIcon:this.emptyIcon,resizeCallback:function(){var e=this.$el.find(".navigationAncestor");if(0<e.length){var t=e[0],i=u(t).closest(".dataTables_scrollBody");u(i).scrollTop(t.offsetTop-i.offsetTop)}n&&clearTimeout(n),n=setTimeout(this.saveSlideoutWidth.bind(this),500)}.bind(this),dataManipulationCallback:this.dataManipulationCallback,groupByColumnAPI:this.getGroupByColumnAPI()})},getListControlOptions:function(){return{setFocusOnDraw:!0}},getViewContainerClass:function(){return"ContentListPageView ContentWideView"},_addFolder:function(){this.folderSearchController.clearFilter(),this.filterViewController.isDirty()?(this.filterViewController.onChangeModificationTime(""),this.filterViewController.addFilter("folders").then(function(){h.inherited("_addFolder",this,arguments)}.bind(this))):h.inherited("_addFolder",this,arguments)},_getColumnSpecification:function(){return[{type:"Icon",accessibleLabel:t.get("itemType")},{type:"Name",scope:"row"},{type:"Time",propertyName:a.MODIFICATION_TIME},{type:"ContextMenu"}]},navigate:function(e,t){if(o.isContainer(a.getType(e)))this.slideout&&this.slideout.$el.attr("aria-label",a.getName(e));else{var i=a.getAncestors(this);if(i){var n=i[i.length-1];arguments[0]=n,this.ancestors.pop()}}h.inherited("navigate",this,arguments)},filterViewClicked:function(){var e=!1;null==this._filterSlideout&&this.contentBar.itemMap.contentNavFilter&&(!1===this.contentBar.itemMap.contentNavFilter.$el.find("button").prop("disabled")&&(e=!0,this._showFilterSlideout()));e||this._onFilterSlideoutHide()},_showFilterSlideout:function(){if(null==this._filterSlideout){if(this.contentBar.itemMap.contentNavFilter){var e=this.contentBar.itemMap.contentNavFilter.$el.find("button");this.filterViewController.addFilteredClass(e)}this._filterSlideout=this.glassContext.appController.showSlideOut({parent:this.slideout,label:t.get("filterBy"),width:"200px",hideOnParentClick:!1,content:{module:"bacontentnav/common/FilterView",view:this,searchBarController:this.folderSearchController,filterController:this.filterViewController}}),this._filterSlideout.on("hide",function(){this._onFilterSlideoutHide()}.bind(this))}},_onFilterSlideoutHide:function(){if(!this.folderSearchController.isDirty()&&!this.filterViewController.isDirty()){var e=this.contentBar.itemMap.contentNavFilter.$el.find("button");this.filterViewController.removeFilteredClass(e)}this._filterSlideout&&(this._filterSlideout.hide(),this._filterSlideout=null)},_filterRangeCallback:function(){this.registeredCallback||(u.fn.dataTable.ext.search.push(this._checkFilterRange.bind(this)),this.registeredCallback=!0)},_checkFilterRange:function(e,t,i){if(this.getListControl()){var n=this.getListControl().getDatatable().fnSettings();if((e&&e.sTableId)===(n&&n.sTableId)){var a=t[2],o=this.filterViewController.getMinRange(),s=this.filterViewController.getMaxRange();if(o&&s)return r(a).isSameOrAfter(o)&&r(a).isSameOrBefore(s)}}return!0},getGroupByColumnAPI:function(){}});return h}),define("bi/content_apps/nls/ContentExplorerResources",{root:!0,cs:!0,da:!0,de:!0,es:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,it:!0,ja:!0,kk:!0,ko:!0,no:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-br":!0,ro:!0,ru:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-cn":!0,"zh-tw":!0}),define("bi/content_apps/nls/root/ContentExplorerResources",{allContent:"All content",allGenericItems:"All",myContent:"My content",copy:"Copy to",confirmDelete:"Confirm delete",confirmDeleteMessage:"Deleting entries can break links. Are you sure you want to delete the selected entries?",dashboards:"Dashboards",delete:"Delete",edit:"Edit",notebooks:"Notebooks",modificationTime:"Modified",modifiedWithColon:"Modified:",move:"Move to",name:"Name",tenant:"Tenant",tenantSettings:"Tenant settings",tenantSet:"Tenant updated",tenantSetError:"Error setting tenant",tenantClear:"Tenant cleared",tenantClearError:"Error clearing tenant",owner:"Owner",reports:"Reports",copyMove:"Copy or move:",copyOnly:"Copy",goToCloudLocation:"Go to cloud location",noOfItemSelected:"%{noOfItems} selected",selectDestination:"Select a destination",selectAccountGroupOrRole:"Select groups, users or roles",members:"Members",teamFolders:"Team content",folders:"Folders",type:"Type",folderTeamContent:"Folder (Team Content)",typeWithColon:"Type:",unknown:"Unknown",description:"Description",general:"General",advancedProperties:"Advanced",location:"Location",schedule:"Schedule",created:"Created",createdWithColon:"Created:",disableThisEntry:"Disable this entry",hideThisEntry:"Hide this entry",indexed:"Indexed",language:"Language",reportOutputVersions:"Report output versions",reportOutputVersion:"Report output version",rowsPerPageHtmlReport:"Rows per page in HTML Reports",package:"Package",data:"Data",dataModule:"Data module",mode:"Mode",live:"Live",snapshot:"Snapshot",noSnapshotsFound:"No Snapshot found",uploadedFile:"Uploaded file",fileUpload:"Upload files",dataSetEx:"Data set",externalRepository:"External repository",queryMode:"Query mode",queryModeCompatible:"Compatible",queryModeDynamic:"Dynamic",report:"Report",activeReport:"Active Report",query:"Query",analysis:"Analysis",permission:"Permissions",capabilities:"Capabilities",newFolderDefaultName:"New Folder",newFolderLabel:"New folder",switchViewsLabel:"Switch Views",emptyTableContentMessage:"There's nothing in this folder",emptyRecentList:"You haven't viewed any content recently.",back:"Back",optionsMenuLabel:"Options",defaultAction:"Default action",reportOptions:"Report options",promptValues:"Prompt values",runTheReport:"Run the report",viewMostRecentReport:"View most recent report",openWithReportStudio:"Open with Report Studio",comingSoon:"Coming soon",recentlyViewed:"Recently viewed",destination:"Destination:",lastUsed:"Last Used",reportView:"Report View",folder:"Folder",dashboard:"Dashboard",story:"Story",workspace:"Workspace",pagelet:"Page",content:"Content",directory:"Namespaces",dataSet:"Data set",powerPlayCube:"PowerPlay Cube",powerPlayReport:"PowerPlay Report",powerPlay8Report:"PowerPlay Report",powerPlay8ReportView:"PowerPlay Report View",reportTemplate:"Report Template",agent:"Agent",agentDefinition:"Agent Definition",agentDefinitionView:"Agent View",dataMovementTask:"Data Movement Task",dataMovementTaskAlias:"Data Movement Task Alias",document:"Document",DocumentRetention:"Document properties",jobDefinition:"Job Definition",job:"Job",metricsDataSourceETLTask:"Metrics Data Source ETL Task",metricsExportTask:"Metrics Export Task",metricsFileImportTask:"Metrics File Import Task",metricsMaintenanceTask:"Metrics Maintenance Task",planningTask:"Planning Task",shortcut:"Shortcut",URL:"URL",launchable:"Launchable",dataSetFolder:"Data Set Folder",ViewAccessibleLabel:"View %{label}",overrideReportOptions:"Override the default report options",format:"Format",formats:"Formats",saveReport:"Save the report",promptForValues:"Prompt me",promptGenerationHint:"You will be prompted for input before the report runs in background.",html:"HTML",pdf:"PDF",spreadsheetML:"Excel",xlsxData:"Excel Data",csv:"CSV",xml:"XML",runAs:"Run as",permissionHeader:"Permission",read:"Read",write:"Write",execute:"Execute",setPolicy:"Set Policy",full:"Full",traverse:"Traverse",toastDoneMoving:"%{noOfItems} items were moved.",toastDoneCopying:"%{noOfItems} items were copied.",toastDoneShortcutting:"%{noOfItems} shortcuts were created.",toastDoneDeleting:"%{noOfItems} items were deleted.",toastDoneMovingSingular:"%{nameOfItem} was moved.",toastDoneCopyingSingular:"%{nameOfItem} was copied.",toastDoneShortcuttingSingular:"%{nameOfItem} was created.",toastDoneShortcuttingPortalPage:"Shortcut to %{nameOfItem} was created in My portal pages.",toastCreateNewFolder:"%{nameOfFolder} was created.",toastDoneDeletingSingular:"%{nameOfItem} was deleted.",toastLaunchPerspectiveError:"Cannot open object %{objectType}.",toastItemsWereAdded:"%{noOfItems} items were added to the profile.",toastItemsWereAddedSingular:"%{noOfItems} item was added to the profile.",toastItemsAlreadyAddedSingular:"Item has already been added to the profile.",toastItemsAlreadyAdded:"Items have already been added to the profile.",toastItemsWereDeleted:"%{noOfItems} items in the profile were deleted.",toastItemsWereDeletedSingular:"%{noOfItems} item in the profile was deleted.",toastRunRequestWasSubmitted:"Run request was submitted.",toastRunRequestFailed:"Run request failed.",shortCutName:"%{nameOfItem}%{shortCutLabel}",ok:"OK",cancel:"Cancel",permissionDetails:"Permission Details",grant:"Grant",deny:"Deny",overrideParentPermissions:"Override parent permissions",applyToAllChildren:"Apply to all children",policiesTableLable:"Policies",policesAddButtonLabel:"Member",policesAddMemberButtonLabel:"Add",policesRemove:"Remove",policiesFindAUserHint:"Search",policiesFindModeMenuTip:"Search method",policiesFindMode:"Search",policiesTypeInMode:"Type in",policyFilterAccounts:"Users",policyFilterRoles:"Roles",policyFilterGroups:"Groups",policyToastMessageSyntax:"Type the names of the entries to find, separated by semi-colons. Use the format namespace/user, group or role; For example, type Cognos/Everyone",policyToastMessageNamespace:"You must first select a namespace.",emptyPolicyList:"Nothing found",applyLabel:"Apply",permissionRead:"Read",permissionRun:"Run",permissionWrite:"Write",permissionFull:"Full",permissionCustom:"Custom",permissionDetailsColumnAccess:"Access",permissionDetailsColumnPermission:"Permission",permissionDetailsColumnAction:"Action",permissionSetAccess:"Set access",preferencesMyCredentials:"My credentials",preferencesCredentialsLabel:"Credentials",preferencesDataSourceCredentialsLabel:"Data Servers",preferencesDatasourceTitle:"Data server credentials",preferencesDatasourceHeader:"Data server name",preferencesGroupsAndRoles:"Groups and Roles",preferencesMyCapabilities:"My Capabilities",preferencesCredentialsHintText:"Specify the users, groups or roles that can use your credentials to run activities:",preferencesCapabilitiesHintText:"These capabilities are available to you:",preferencesGroupsAndRolesHintText:"In this session, you can use the access permissions of these groups and roles:",preferencesDataSourceCredentialsHintText:"You have saved credentials for these data servers:",enableAccessibilitySupport:"Enable accessibility support",languages:"Languages",True:"True",False:"False",id:"ID",run:"Run",createVersion:"Create a version",create:"Create",size:"Size",sizeByte:"%{value} B",sizeKiloByte:"%{value} KB",sizeMegaByte:"%{value} MB",sizeGigaByte:"%{value} GB",sizeTeraByte:"%{value} TB",sizePetaByte:"%{value} PB",refreshedDatetime:"Refreshed time",dataRefreshed:"Data refreshed",dataRefWithColon:"Data refreshed:",missingPermissions:"You need permissions to view the properties for this item.",missingPolicies:"You only see entries that you have permissions for. You might see different entries if you sign in to a different namespace",versions:"Versions",archives:"Archives",occurrences:"Occurrences",days:"Day(s)",months:"Month(s)",errorMessages:"Messages",errorMessageApostropheError:"Please enter a file name that does not contain both ' and \" characters",error:"Error",warn:"Warning",fatal:"Fatal",debug:"Debug",info:"Information",runTime:"Run time",requestTime:"Request time",startTime:"Start time",endTime:"End time",successful:"Successful",failed:"Failed",noSavedOutputs:"There are no saved outputs.",noVersions:"No versions available",noReportOptionsAvailable:"No report options record available.",showDetails:"Open details panel",unavailable:"Unavailable",unkownSource:"Unknown, open report for details",runInBackgroundOption:"Run in background",selectAFormat:"Please select a format",delivery:"Delivery",now:"Now",later:"Later",invalidTime:"Time selected is earlier than current time.  Please select again.",executionPrompt:"Prompt for values",currentValues:"Current values",noPromptsValuesSet:"You currently have no prompt values set",setValues:"Set values",numOfPromptValues:"prompt values",selectionBasedFeatures:"Enable selection-based interactivity",allowNotifications:"Enable alerts about new versions",advancedOutput:"Enable enhanced user features in saved output versions",allowAnnotations:"Enable comments in saved output versions",clear:"Clear",sourceReport:"Source report",sourceAgent:"Source agent",burst:"Burst the report",associatedSource:"Source package or data module",associatedSourceAgent:"Source package",linkPackageOrModule:"Link the %{itemName} to a package or data module",linkPackage:"Link the %{itemName} to a package",confirmTakeOwnership:"Confirm Take Ownership",confirmTakeOwnershipMessage:"Are you sure you want to take ownership of the selected entries?",SetLabel:"Set...",externalRepositories:"External Repositories",toastTakeOwnership:"You own %{noOfItemsClaimed} of %{noOfItems} selected items.",runAsUser:"With user's credentials",runWithOwnerCapabilities:"With owner capabilities",runAsOwner:"As %{ownerName}",pdfOptions:"PDF options",set:"Set",passwordNotMatched:"Passwords don't match or are missing",Orientation:"Orientation",default:"Default",portrait:"Portrait",landscape:"Landscape",pageSize:"Paper size",letter:"Letter",legal:"Legal","11x17":"11x17",A3:"A3",A4:"A4",B4JIS:"B4 JIS",B5JIS:"B5 JIS",requiresPasswordToOpenReport:"Requires a password to open the report",requiresPasswordToAccessOptions:"Requires a password to access options",password:"Password:",confirmPassword:"Confirm Password:",runHistory:"Run History",viewRunHistory:"View...",runHistoryDetails:"View run history details",jobAdvancedProperties:"Properties",scheduleAJob:"Schedule Job",viewCurrentVersions:"View document versions",viewArchivedVersions:"View archived versions",unknownUpdateError:"Item update failed. Contact your administrator for further assistance.",renameCollisionError:"%{name} already exists. Try a different name.",nameCollision:"An item with this name already exists:",nameCollisionMessage:"What do you want to do?",copyReplace:"Copy and replace",keepBoth:"Keep both",copySkip:"Don't copy",moveReplace:"Move and replace",moveSkip:"Don't move",repeatNameCollisionAction:"Do this for the next %{noItems} conflicts",repeatNameCollisionActionSingular:"Do this for the next conflict",bulkNameCollision:"There are %{noOfItems} items with names that already exist",overwrite:"Overwrite",rename:"Rename",role:"Role",account:"Account",group:"Group",namespace:"Namespace",SetLanguagesLabel:"Set...",SetExternalRespostoryLabel:"Set...",SetCapabilitiesLabel:"Set...",JobAdvancedSettings:"Set...",JobSchedule:"Set...",JobAdvancedRunHistory:"View...",packageConfiguration:"Package configuration",editPackageConfiguration:"Edit...",invalidNumber:"The value entered is not a number. Type a number.",exceedMaxLength:"The text is too long. Shorten to %{maxLength} characters.",invalidInput:"Invalid input",invalidEmailMessage:"Email address is not valid.",typeInHintText:"Example: Namespace1/name; Namespace2/name;",importDeployment:"Import deployment",exportDeployment:"Export deployment",between:"Between",and:"and",properties:"Properties - %{objectName}",none:"None",objectDeleted:"This object doesn't exist",PageLayout:"Page Layout",PageStyle:"Style",Gateway:"Gateway",PowerPlayReport:"PowerPlay Report",more:"More",title:"Title",itemName:"Item name",showMissingPolicies:"show",hideMissingPolicies:"hide",nowOrLaterRadioOptions:"Run now or later options",runHistoryUnits:"Run history units",reportOutputVersionsUnits:"Report output versions units",breadCrumbsAccessibleLabel:"Ancestor Folders",a11yContentListUpdatedNotification:"Now showing contents of %{folderOrPackageName}",a11yPropertyPane:"Properties of object %{nameOfObject}",moreActionsMenu:"More Actions Menu",itemType:"Item type",confirmCancelMessage:"Do you want to discard your changes?",confirmCancel:"Confirm cancel",formatOptions:"Format options",listControlColumns:"List Columns",source:"Source",external:"External",removeSelectedItem:"Remove selected item",deleteReportVersion:"Delete report version",dataset:"Data set",numberRows:"Number of rows",numberColumns:"Number of columns",TimeToRefresh:"Time to refresh",LastRefreshedBy:"Refreshed by",OverwriteFileSuccessfully:"Successfully overwrote the object %{nameOfObject}",RenameFileSuccessfully:"Successfully renamed the object from %{originalNameOfObject} to %{newNameOfObject}",showAllHistory:"Show all history",history:"History",user:"User",confirmDeleteAllowed:"You do not have permission to delete: %{number} item(s). Would you like to proceed and delete the rest?",download:"Download",personal:"Personal",customization:"Customization",schemas:"Schemas",connections:"Connections",numberOutOfRange:"The value entered must be a number between %{min} and %{max}",numberTooSmall:"The value entered must be a number greater than %{min}",numberTooBig:"The value entered must be a number less than %{max}",searchReturnedNoResults:"Your search returned no results.",tryChangingSearchTerms:"Try changing your search terms.",searchAllYourData:"Search all your data",search:"Search",saveSearch:"Save search",narrowYourSearch:"Narrow your search",all:"All",packages:"Packages",savedSearch:"Saved searches",haventSavedSearches:"You haven't saved any searches.",clickTheSaveButton:"You can click the save button after you search.",remove:"Remove",searchWasDeleted:"Search was deleted",searchWasntDeleted:"Search wasn't deleted",searchWasSaved:"Search was saved",searchWasntSaved:"Search wasn't saved",socialInsightsProject:"Social Insights",saveTenSearches:"You can save 10 searches.",deleteASearch:"Delete one to save another.",models:"Models",today:"Today",yesterday:"Yesterday",date:"Date",clearAll:"Clear all",EnterSearchTerms:"Enter a search term before you select a filter type.",pastWeek:"Past Week",pastMonth:"Past Month",createShortcut:"Create shortcut",createShortcutDialogTitle:"Create shortcut:",shortcutTo:"Shortcut to",shortcutToItem:"Shortcut to %{itemName}",add:"Add",close:"Close",confirmClearTenant:"Confirm clear tenant",confirmClearTenantText:'Clearing the tenant will change the value to "None" and might allow other tenants to access the content.<br><br>Click OK to make the entry public or Cancel to keep the current tenant',changeTenantWarning:"Changing the tenant of an entry also changes the tenant of child entries.",dataSource:"Data Server",dataSourceConnection:"Data Server Connection",setSourceLocation:"Set Source %{itemName} Location",defaultPortalAction:"Default Portal Action",openReport:"Edit",openAnalysis:"Open with Analysis Studio",openQuery:"Open with Query Studio",openPowerPlay8Report:"Open with PowerPlay Studio",openInteractiveReport:"Edit",searchPath:"Search path",itemsOverLimit:"The specified name '%{itemName}' has exceeded the maximum (20) limit. Please specify a different name to continue.",newURLLabel:"Create URL",newURLDesc:"Specify a name and URL. Optionally, specify a description.",urlNamePlaceholder:"Add a name for the URL",descriptionPlaceholder:"Add a description",urlPlaceholder:"Add a URL that uses an acceptable domain",viewAcceptableDomains:"View acceptable domains",acceptableDomains:"Acceptable domains",noEntries:"There are no entries in the acceptable domains list. Contact your administrator.",fieldsAreMandatory:"The name and URL are mandatory.",errorMessageLengthURLName:"Please enter a URL name that does not exceed 255 characters.",unacceptableDomain:"Your URL uses an invalid domain. Click 'View acceptable domains' to see a list of domains you can use.",toastCreateNewURL:"%{nameofURL} was created.",myPortalPages:"My portal pages",classicView:"Classic view",showUnavailablePolicies:"Show unavailable policies",performanceDetails:"Performance details",clickHere:"Click here",agentViewOf:"Agent view of %{agentName}"}),define("bi/content_apps/nls/StringResource",["i18n!bi/content_apps/nls/ContentExplorerResources","polyglot"],function(e,t){"use strict";var i=new t({phrases:e}),n=function(){};return n.prototype.get=function(e,t){return i.t(e,t)},new n}),define("bi/content_apps/utils/C10Utils",["lodash"],function(a){"use strict";var e=null,t=function(){if(t.prototype._singletonInstance)return t.prototype._singletonInstance;this.typeToStudioMap={analysis:"AnalysisStudio",query:"QueryStudio",agentDefinition:"EventStudio",package:"MetricsStudio",powerPlay8Report:"PowerplayStudio"},this.typeToCapabilityMap={analysis:"canUseAnalysisStudio",query:"canUseQueryStudio",agentDefinition:"canUseEventStudio"},this.propGeneralTitanActionEnum={lang:"languages",repo:"repository",routing:"routing",url:"url",pp:"powerplay",document:"document"},this.morphletMap={propGeneral:"portal/properties_general_titan.xts",pageLayout:"portal/properties_pagelet_layout_titan.xts",pageStyle:"portal/properties_pagelet_style_titan.xts",capabilities:"portal/properties_capabilities_titan.xts",archive:"portal/outputs_titan.xts",runOptsPP8:"portal/properties_powerplay_8_run_options.xts",propPP8:"portal/properties_powerplay_8_run_options_titan.xts",proppowerplay:"portal/properties_powerplay_run_options_titan.xts",agent:"portal/properties_agent_titan.xts",metricsExport:"portal/properties_metrics_export_titan.xts",metricsImport:"portal/properties_metrics_import _titan.xts",metricsMainTask:"portal/properties_metrics_maintenance_titan.xts",launch:"portal/launch.xts",package:"portal/properties_packageconfiguration.xts",newPackage:"portal/new_packageconfiguration.xts",viewHistory:"portal/history/view_details.xts"},this.openWindow=function(e){window.open(e,"_blank")},t.prototype._singletonInstance=this};return t.prototype.openC10Morphlet=function(e,t,i,n){var a=[{m_class:t},{m_obj:'storeID("'+i+'")'}];n&&(a=a.concat(n)),this.openC10Tab(e,a)},t.prototype.openC10MorphletWithParams=function(e,t){this.openC10Tab(e,t||[])},t.prototype.openC10General=function(e,t,i){this.openC10Morphlet(this.morphletMap.propGeneral,t,i,[{titanAction:e}])},t.prototype.getC10DeliveryOptArray=function(e,t){var i="",n="",a=0,o=0;t.forEach(function(e){-1!==e.address.indexOf("@")?(i+='<item xsi:type="bus:addressSMTP">'+e.address+"</item>",a++):(n+='<item xsi:type="bus:searchPathMultipleObject">'+e.address+"</item>",o++)});var s="";if(0<a){var r='<item xsi:type="bus:deliveryOptionAddressSMTPArray"><name xsi:type="bus:deliveryOptionEnum">'+e+'Address</name><value xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="bus:addressSMTP[##CA_NUM_ITEMS##]">##CA_ITEMS##</value></item>';s+=r=(r=r.replace("##CA_ITEMS##",i)).replace("##CA_NUM_ITEMS##",a)}if(0<o){var l='<item xsi:type="bus:deliveryOptionSearchPathMultipleObjectArray"><name xsi:type="bus:deliveryOptionEnum">'+e+'</name><value xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="bus:searchPathMultipleObject[##CA_NUM_ITEMS##]">##CA_ITEMS##</value></item>';s+=l=(l=l.replace("##CA_ITEMS##",n)).replace("##CA_NUM_ITEMS##",o)}return s},t.prototype.getPowerPlayC10DeliveryOptions=function(e){var t='<options xmlns:cm="http://developer.cognos.com/schemas/xts-cm/1/" xmlns:send="http://developer.cognos.com/schemas/xts/logic-sheet/xslt/brl/1/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="bus:optionArrayProp"><value xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/" xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="bus:option[##CA_NUMBER_OPTIONITEMS##]">##CA_ITEMS##</value></options>',i="",n=0;(e.to&&0<e.to.length&&(i+=this.getC10DeliveryOptArray("to",e.to),n++),e.cc&&0<e.cc.length&&(i+=this.getC10DeliveryOptArray("cc",e.cc),n++),e.bcc&&0<e.bcc.length&&(i+=this.getC10DeliveryOptArray("bcc",e.bcc),n++),e.subject&&(i+='<item xsi:type="bus:deliveryOptionString"><name xsi:type="bus:deliveryOptionEnum">subject</name><value xsi:type="xsd:string">'+e.subject+"</value></item>",n++),i+='<item xsi:type="bus:powerPlay8OptionBoolean"><name xsi:type="bus:powerPlay8OptionEnum">emailAsAttachment</name><value xsi:type="xsd:boolean">'+(!0===e.emailAsAttachment)+"</value></item>",n++,i+='<item xsi:type="bus:powerPlay8OptionBoolean"><name xsi:type="bus:powerPlay8OptionEnum">emailAsURL</name><value xsi:type="xsd:boolean">'+(!0===e.emailAsURL)+"</value></item>",n++,e.memoPart)&&(n++,i+='<item xsi:type="bus:deliveryOptionMemoPart"><name xsi:type="bus:deliveryOptionEnum">memoPart</name><value xsi:type="bus:memoPartComposite"><contentDisposition xsi:type="bus:smtpContentDispositionEnum">inline</contentDisposition><contentType xsi:type="bus:smtpContentTypeEnum">alternative</contentType><parts xsi:type="SOAP-ENC:Array" SOAP-ENC:arrayType="bus:memoPart[2]"><item xsi:type="bus:memoPartString"><contentDisposition xsi:type="bus:smtpContentDispositionEnum">inline</contentDisposition><text xsi:type="xsd:string">fred</text></item><item xsi:type="bus:memoPartMIMEAttachment"><contentDisposition xsi:type="bus:smtpContentDispositionEnum">inline</contentDisposition><name xsi:type="xsd:string"/><data xsi:type="xsd:base64Binary">'+window.btoa(a.unescape(e.memoPart))+'</data><dataSize xsi:type="xsd:integer">0</dataSize><dataType xsi:type="xsd:string">text/html</dataType></item></parts></value></item>');return(t=t.replace("##CA_ITEMS##",i)).replace("##CA_NUMBER_OPTIONITEMS##",n)},t.prototype.openC10Studio=function(e,t,i){var n=this.typeToStudioMap[e.type],a=[{"ui.tool":n},{"ui.object":'storeID("'+e.id+'")'},{"ui.action":"edit"},{"ui.gateway":t.gateway+"/v1/disp"},{"launch.launchinWindow":"true"}];i&&a.push({"ui.crngnd":"true"}),"MetricsStudio"===n&&(a["ui.action"]="run"),this.openC10Tab(this.morphletMap.launch,a)},t.prototype.isPowerPlay=function(e){return"powerPlay8Report"===e||"powerPlay8ReportView"===e},t.prototype.openC10Tab=function(e,t){var i=[{b_action:"xts.run"},{backURL:encodeURIComponent("disp?b_action=xts.run&m=portal/close.xts&ui.compid=ps")},{m:e}];i=i.concat(t);var n="v1/disp",a=0;i.forEach(function(e){n+=0===a?"?":"&",$.each(e,function(e,t){n+=e+"="+t}),a+=1}),this.openWindow(n)},function(){return e||(e=new t),e}()}),define("bacontentnav/utils/PolicyHelper",["../nls/StringResource","lodash"],function(a,o){"use strict";var e=null,t=function(){if(t.prototype._singletonInstance)return t.prototype._singletonInstance;t.prototype._singletonInstance=this,t.prototype.permissionEnum={r:"read",w:"write",x:"execute",sp:"setPolicy",t:"traverse"},t.prototype.read=[this.permissionEnum.r,this.permissionEnum.t],t.prototype.run=[this.permissionEnum.r,this.permissionEnum.t,this.permissionEnum.x],t.prototype.write=[this.permissionEnum.r,this.permissionEnum.t,this.permissionEnum.w,this.permissionEnum.x],t.prototype.full=[this.permissionEnum.r,this.permissionEnum.t,this.permissionEnum.w,this.permissionEnum.x,this.permissionEnum.sp],t.prototype.clonePermissionArray=function(e){var t=[];return e.forEach(function(e){t.push(o.clone(e))}),t},t.prototype.simplePermEnum={read:[{access:"grant",name:this.permissionEnum.r},{access:"grant",name:this.permissionEnum.t}],run:[{access:"grant",name:this.permissionEnum.r},{access:"grant",name:this.permissionEnum.t},{access:"grant",name:this.permissionEnum.x}],write:[{access:"grant",name:this.permissionEnum.r},{access:"grant",name:this.permissionEnum.t},{access:"grant",name:this.permissionEnum.x},{access:"grant",name:this.permissionEnum.w}],full:[{access:"grant",name:this.permissionEnum.r},{access:"grant",name:this.permissionEnum.t},{access:"grant",name:this.permissionEnum.x},{access:"grant",name:this.permissionEnum.w},{access:"grant",name:this.permissionEnum.sp}]}};return t.prototype.getDisplayPermissionsList=function(e){return e.map(function(e){return a.get(e)})},t.prototype.getIconsForPermissionValues=function(e){var t={};return["read","write","execute","traverse","setPolicy"].forEach(function(e){t[e]={icon:"#common-default_perm",tooltip:a.get("default"),label:a.get(e)}}),e.forEach(function(e){"grant"===e.access?(t[e.name].icon="#common-grant_perm",t[e.name].tooltip=a.get("grant")):(t[e.name].icon="#common-deny_perm",t[e.name].tooltip=a.get("deny"))}),t},t.prototype._flattenPermission=function(e){var t={};return o.each(e,function(e){"default"!==e.access&&(t[e.name]=e.access)}),t},t.prototype.getMySimplifiedPermissions=function(e){return this.getSimplifiedPermissions(e.map(function(e){return{access:"grant",name:e}}))},t.prototype.getSimplifiedPermissions=function(e){var t=this._flattenPermission(e);for(var i in this.simplePermEnum){var n=this._flattenPermission(this.simplePermEnum[i]);if(o.isEqual(t,n))return a.get(i)}return a.get("permissionCustom")},function(){return e||(e=new t),e}()}),define("bi/content_apps/PropertiesGeneralTab",["underscore","bi/commons/ui/properties/PropertyTabView","bi/commons/i18n/Formatter","bi/commons/utils/DateTimeUtils","bi/commons/utils/Utils","bi/content_apps/utils/C10Utils","bi/content_apps/nls/StringResource","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/PolicyHelper","bacontentnav/utils/GlassContextHelper","bacontentnav/utils/UIHelper"],function(i,e,o,t,n,a,s,r,l,c,d){"use strict";var u=["sizeKiloByte","sizeMegaByte","sizeGigaByte","sizeTeraByte","sizePetaByte"],h=["base.defaultName","base.defaultDescription","base.ancestors","base.metadataModelPackage","base.module"],p=["metadataModelPackage.defaultName","metadataModelPackage.ancestors","owner.id","retentions","defaultPortalAction","runAsOwner","runWithOwnerCapabilities","options","executionPrompt","parameters","module.defaultName","module.ancestors","allowNotification"],m={PROPERTIES_TO_QUERY:{common:["id","defaultName","owner.defaultName","ancestors","defaultDescription","modificationTime","creationTime","contact","type","disabled","hidden","name.locale","permissions","tenantID","searchPath"],metricsExportTask:["retentions"],report:p,query:p,jobDefinition:["retentions"],agentDefinition:["retentions"],planningTask:["retentions"],metricsFileImportTask:["retentions"],metricsDataSourceETLTask:["retentions"],metricsMaintenanceTask:["retentions"],reportView:p.concat(h),powerPlay8ReportView:p.concat(h),agentDefinitionView:p.concat(h),package:["repositoryRules","queryMode","routingHints"],folder:["repositoryRules"],uploadedFile:["history"],dataSet2:["metadataModelPackage","module"],shortcut:["target"],agent:["retentions"]}},g=e.extend({init:function(e){g.inherited("init",this,arguments),i.extend(this,e)},render:function(){this._id=i.uniqueId("prop_");var t=Math.max(1024,this._getDescription().length);return this._checkCanSetTenant().then(function(e){return this._canSetTenant=e,this.renderPropertyUIControl({el:this.$el,glassContext:this.glassContext,readOnly:!r.hasPermissions(this.objectInfo,["write"]),items:[{name:"defaultDescription",label:s.get("description"),value:this._getDescription(),type:"TextArea",editable:!0,multiline:!0,validator:{maxLength:t}},{type:"CollapsibleSection",label:s.get("advancedProperties"),items:this._getAdvancedPropertyItems()}]})}.bind(this))},_getLocation:function(){return r.getLocation(this.objectInfo)},_getSearchPath:function(){return r.getSearchPath(this.objectInfo)},_getShortcutTargetLocation:function(){return r.getLocation(this.objectInfo.target[0],!0)||s.get("unavailable")},_getDescription:function(){return r.getDescription(this.objectInfo)||""},_getModificationTime:function(){return r.getModificationTime(this.objectInfo,!0,"medium")},_getDisableThisEntry:function(){return this.objectInfo.disabled},_getHideThisEntry:function(){return this.objectInfo.hidden},_getLanguage:function(){return this.objectInfo.name?this.objectInfo.name.locale:null},_getScreenTip:function(){return this.objectInfo.defaultScreenTip||""},_getQueryMode:function(){var e=this.objectInfo.options&&this.objectInfo.options[0].value;return e?-1===e.indexOf("compatible")?s.get("queryModeDynamic"):s.get("queryModeCompatible"):null},_getExternalRepository:function(){return this.objectInfo.repositoryRules?this.objectInfo.repositoryRules[0].dataSourceName:null},_getSizeOfFile:function(){var e=r.getHistoryConfig(this.objectInfo);return e?this._abbreviateNumber(e.sizeOnDisk):null},_getDataSetSize:function(){return this.objectInfo.dataSetOutputInfo&&this.objectInfo.dataSetOutputInfo.dataSize?this._abbreviateNumber(this.objectInfo.dataSetOutputInfo.dataSize):null},_setPowerPlayGateway:function(){a.openC10General(a.propGeneralTitanActionEnum.pp,this.objectInfo.type,this.objectInfo.id)},_setPageLayoutProperty:function(){a.openC10Morphlet(a.morphletMap.pageLayout,this.objectInfo.type,this.objectInfo.id)},_setPageStyleProperty:function(){a.openC10Morphlet(a.morphletMap.pageStyle,this.objectInfo.type,this.objectInfo.id)},_setURLProperty:function(){a.openC10General(a.propGeneralTitanActionEnum.url,this.objectInfo.type,this.objectInfo.id)},_setLanguageValues:function(){a.openC10General(a.propGeneralTitanActionEnum.lang,this.objectInfo.type,this.objectInfo.id)},_setExternalRepository:function(){a.openC10General(a.propGeneralTitanActionEnum.repo,this.objectInfo.type,this.objectInfo.id)},_editPackageConfiguration:function(){var e={dataType:"json",type:"GET",url:"v1/objects/"+this.objectInfo.id+"/items?types=packageConfiguration"};this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){var t='storeID("'+this.objectInfo.id+'")',i=[{m_name:this.objectInfo.defaultName},{m_obj_search_path:t},{m_path:""}];e&&e.data&&e.data.data&&e.data.data.length?(i=i.concat([{m_class:"packageConfiguration"},{m_new_class:""},{m_obj:'storeID("'+e.data.data[0].id+'")'}]),a.openC10MorphletWithParams(a.morphletMap.package,i)):(i=i.concat([{m_class:"package"},{m_new_class:"packageConfiguration"},{m_obj:t}]),a.openC10MorphletWithParams(a.morphletMap.newPackage,i))}.bind(this))},_getRefreshTime:function(){var e=r.getHistoryConfig(this.objectInfo);return e&&t.formatDateTime(e.refreshTime,"short",c.getLocaleTime(this.glassContext))||null},_abbreviateNumber:function(e,t){for(var i="sizeByte",n=Math.round(100*e)/100,a=0;a<u.length&&1024<=Math.round(10*e)/10;a+=1)e/=1024,i=u[a],n=Math.round(10*e)/10;return s.get(i,{value:o.formatNumber(n,{type:"decimal",locale:t})})},_getSourceLocation:function(){var e=r.getBase(this.objectInfo);return e&&r.getLocation(e,!0)||s.get("unavailable")},_getSourcePackageOrModuleLocation:function(e,t,i){var n=r.getMetadataModelPackage(e)||r.getModule(e),a=i?s.get("unkownSource"):s.get("unavailable");return n&&r.getLocation(n,t)||a},_buildTenantsList:function(){var e=this.glassContext.getCoreSvc(".UserProfile").tenants,t=[{label:"",value:null,selected:!0}];for(var i in e)t.push({label:e[i].defaultName,value:e[i]});return t},_getTenantNameByID:function(e){if(""===e)return s.get("none");var t=this.glassContext.getCoreSvc(".UserProfile").tenants;for(var i in t)if(t[i].tenantID===e)return t[i].defaultName;return e},_checkCanSetTenant:function(){return new Promise(function(t){this._canSeeTenant()?this.glassContext.getCoreSvc(".UserProfile").isSysAdmin().then(function(e){t(e)}.bind(this),function(){t(!1)}):t(!1)}.bind(this))},_canSeeTenant:function(){return(this.glassContext.getCoreSvc(".UserProfile").tenants||[]).length&&(r.isTeamContent(this.objectInfo.ancestors&&0<this.objectInfo.ancestors.length&&this.objectInfo.ancestors[0])||d.hasTenantOption(this.objectInfo))},_getAdvancedPropertyItems:function(){var e=r.isTeamContent(this.objectInfo);if(this._advancedProperties=[],this._canSeeTenant()&&(this.currentTenantID=this.objectInfo.tenantID,this._advancedProperties.push({type:"SingleLineValue",name:"changeTenant",label:s.get("tenant"),value:this._getTenantNameByID(this.objectInfo.tenantID),disabled:!this._canSetTenant,editCallback:function(){this.changeTenantSlideout=this.glassContext.appController.showSlideOut({parent:this.slideout,position:"left",width:"400",overlay:!0,label:s.get("tenantSettings"),content:{module:"bi/content_apps/TenantSlideoutView",glassContext:this.glassContext,title:s.get("Tenants"),objectInfo:this.objectInfo,currentTenantID:this.currentTenantID,onChangeCallback:this.updateTenant.bind(this)}})}.bind(this)},{type:"Separator"})),this._advancedProperties.push({name:"disabled",label:s.get("disableThisEntry"),checked:this._getDisableThisEntry(),type:"CheckBox"}),!e){var t=this.glassContext.getCoreSvc(".UserProfile");t.capabilities&&0<=t.capabilities.indexOf("canUseShowHiddenObjectsPreference")&&$.merge(this._advancedProperties,[{type:"Separator"},{name:"hidden",label:s.get("hideThisEntry"),checked:this._getHideThisEntry(),type:"CheckBox"}]),$.merge(this._advancedProperties,[{type:"Separator"},{name:"location",label:s.get("location"),value:this._getLocation(),type:"SingleLineValue",isSTT:!0}]),$.merge(this._advancedProperties,[{type:"Separator"},{name:"searchPath",label:s.get("searchPath"),ariaLabel:s.get("searchPath"),newLook:!0,value:this._getSearchPath(),type:"InputLabel",inputStyles:"width: 210px",readOnly:!0,isSTT:!0}]),"shortcut"===this.objectInfo.type&&$.merge(this._advancedProperties,[{type:"Separator"},{name:"shortcutTo",label:s.get("shortcutTo"),value:this._getShortcutTargetLocation(),type:"SingleLineValue"}])}switch($.merge(this._advancedProperties,[{type:"Separator"},{name:r.ID,label:s.get("id"),value:r.getObjectId(this.objectInfo),type:"SingleLineValue"},{type:"Separator"},{name:"myPermissions",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",value:s.get("permissionHeader"),name:"permissionsLab"}]},{align:"right",items:[{type:"text",value:l.getMySimplifiedPermissions(r.getPermissions(this.objectInfo)),name:"PermissionValue"},{type:"icon",class:"permissionInformation displayToolTip",svgIcon:"common-info-moreinfo",iconTooltip:l.getDisplayPermissionsList(r.getPermissions(this.objectInfo))}]}]}]),e||$.merge(this._advancedProperties,[{type:"Separator"},{name:"languages",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"languagesText",value:s.get("languages")}]},{align:"right",items:[{type:"text",name:"languagesLink",value:s.get("SetLanguagesLabel"),clickCallback:this._setLanguageValues.bind(this),ariaLabelledby:"languagesText languagesLink"}]}]}]),this.objectInfo.type){case"powerPlayCube":case"powerPlayReport":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"layoutProperty",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"layoutPropertyText",value:s.get("Gateway")}]},{align:"right",items:[{type:"text",name:"layoutPropertyLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setPowerPlayGateway.bind(this),ariaLabelledby:"layoutPropertyText layoutPropertyLink"}]}]}]);break;case"pagelet":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"layoutProperty",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"layoutPropertyText",value:s.get("PageLayout")}]},{align:"right",items:[{type:"text",name:"layoutPropertyLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setPageLayoutProperty.bind(this),ariaLabelledby:"layoutPropertyText layoutPropertyLink"}]}]},{type:"Separator"},{name:"pageStyleProperty",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"pageStylePropertyText",value:s.get("PageStyle")}]},{align:"right",items:[{type:"text",name:"pageStylePropertyLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setPageStyleProperty.bind(this),ariaLabelledby:"pageStylePropertyText pageStylePropertyLink"}]}]}]);break;case"URL":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"urlProperty",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"urlPropertyText",value:s.get("URL")}]},{align:"right",items:[{type:"text",name:"urlPropertyLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setURLProperty.bind(this),ariaLabelledby:"urlPropertyText urlPropertyLink"}]}]}]);break;case"folder":case"content":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"expernalRepository",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"expernalRepositoryText",value:s.get("externalRepositories")}]},{align:"right",items:[{type:"text",name:"expernalRepositoryLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setExternalRepository.bind(this),ariaLabelledby:"expernalRepositoryText expernalRepositoryLink"}]}]}]);break;case"package":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"queryMode",label:s.get("queryMode"),value:this._getQueryMode(),type:"SingleLineValue"},{type:"Separator"},{name:"expernalRepository",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"expernalRepositoryText",value:s.get("externalRepositories")}]},{align:"right",items:[{type:"text",name:"expernalRepositoryLink",value:s.get("SetExternalRespostoryLabel"),clickCallback:this._setExternalRepository.bind(this),ariaLabelledby:"expernalRepositoryText expernalRepositoryLink"}]}]},{type:"Separator"},{name:"packageConfiguration",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"editPackageConfiguration",value:s.get("packageConfiguration")}]},{align:"right",items:[{type:"text",name:"editPackageConfigurationLink",value:s.get("editPackageConfiguration"),clickCallback:this._editPackageConfiguration.bind(this),ariaLabelledby:"editPackageConfiguration editPackageConfigurationLink"}]}]}]);break;case"uploadedFile":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"size",label:s.get("size"),value:this._getSizeOfFile(),type:"SingleLineValue"},{type:"Separator"},{name:"refreshedDatetime",label:s.get("refreshedDatetime"),value:this._getRefreshTime(),type:"SingleLineValue"}]);break;case"powerPlay8Report":case"query":case"report":case"interactiveReport":case"agentDefinition":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"setSourceData",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"associatedSourceDataText",value:"agentDefinition"===this.objectInfo.type?s.get("associatedSourceAgent"):s.get("associatedSource")}]},{align:"right",items:[{type:"text",name:"setAssociatedSourceDataLink",value:s.get("SetLanguagesLabel"),clickCallback:this._selectPackage.bind(this,this.objectInfo.type),ariaLabelledby:"associatedSourceDataText setAssociatedSourceDataLink"}]}]},{name:"sourceDataLocationName",label:"",value:this._getSourcePackageOrModuleLocation(this.objectInfo,!0,!0),type:"SingleLineValue"}]);break;case"powerPlay8ReportView":case"reportView":case"agentDefinitionView":this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"setSourceReport",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"associatedSourceText",value:"agentDefinitionView"===this.objectInfo.type?s.get("sourceAgent"):s.get("sourceReport")}]},{align:"right",items:[{type:"text",name:"setAssociatedSourceLink",value:s.get("SetLanguagesLabel"),clickCallback:this._selectSource.bind(this,this.objectInfo.type),ariaLabelledby:"associatedSourceText setAssociatedSourceLink"}]}]},{name:"sourceLocationName",label:"",value:this._getSourceLocation(),type:"SingleLineValue"}]);break;case"dataSet2":var i=s.get("unknown");this._advancedProperties=this._advancedProperties.concat([{type:"Separator"},{name:"setSourceDataSet",type:"SingleLineLinks",items:[{align:"left",items:[{type:"text",name:"associatedSourceDataText",value:s.get("associatedSourceAgent")}]},{align:"right",items:[{type:"text",name:"setAssociatedSourceDataLink",value:s.get("SetLanguagesLabel"),clickCallback:this._selectPackage.bind(this,this.objectInfo.type),ariaLabelledby:"associatedSourceDataText setAssociatedSourceDataLink"}]}]},{name:"sourceDataLocationName",label:"",value:this._getSourcePackageOrModuleLocation(this.objectInfo,!0),type:"SingleLineValue"},{type:"Separator"},{name:"size",label:s.get("size"),value:this._getDataSetSize()||i,type:"SingleLineValue"},{type:"Separator"},{name:"numRows",label:s.get("numberRows"),value:r.getDataDescriptor(this.objectInfo.dataSetOutputInfo).numRows||i,type:"SingleLineValue"},{type:"Separator"},{name:"numColumns",label:s.get("numberColumns"),value:r.getDataDescriptor(this.objectInfo.dataSetOutputInfo).numColumns||i,type:"SingleLineValue"},{type:"Separator"},{name:"timeToRefresh",label:s.get("TimeToRefresh"),value:n.formatDuration(r.getDataDescriptor(this.objectInfo.dataSetOutputInfo).elapsedTimeMilli),type:"SingleLineValue"},{type:"Separator"},{name:"refreshedBy",label:s.get("LastRefreshedBy"),value:r.getOwnerName(this.objectInfo.dataSetOutputInfo),type:"SingleLineValue"},{type:"Separator"}])}return this._advancedProperties},onClose:function(){return this.getPropertyUIControl().onClose()},getModifiedProperties:function(){if(!r.hasPermissions(this.objectInfo,["write"]))return null;var e=this.getPropertyUIControl().getModifiedProperties();return void 0!==this.modifiedBaseReport?i.extend(e,{base:[this.modifiedBaseReport]}):void 0!==this.modifiedBasePackage&&("module"===this.modifiedBasePackage.type?i.extend(e,{module:[this.modifiedBasePackage],metadataModelPackage:null,metadataModel:null}):i.extend(e,{metadataModelPackage:[this.modifiedBasePackage],module:null,metadataModel:null})),this.logger.debug("PropertiesGeneralTab.getModifiedProperties",e),e},updateTenant:function(e){this._oPropertyUIControl.getProperty("changeTenant").setValue(this._getTenantNameByID(e)),this.currentTenantID=e},_selectSource:function(n){r.getBaseObjectType(this.objectInfo).then(function(e){var t=r.getType(this.objectInfo),i=e||d.getBaseTypes(t).join("|");this.glassContext.getSvc(".ContentDialogFactory").then(function(e){var t={glassContext:this.glassContext,typesToOpen:i.split("|"),filtersByTypes:["folder|package|"+i],multiSelect:!1,ancestors:r.getAncestors(this.objectInfo),onOpenCallback:function(e){this._setBase(e[0])}.bind(this),dialogTitle:s.get("setSourceLocation",{itemName:s.get(n)})};e.createOpenDialog(t).open()}.bind(this))}.bind(this))},_selectPackage:function(i){this.glassContext.getSvc(".ContentDialogFactory").then(function(e){var t={glassContext:this.glassContext,typesToOpen:"agentDefinition"===i?["package"]:["package","module"],filtersByTypes:["folder|package|module"],multiSelect:!1,ancestors:r.getAncestors(this.objectInfo),capabilitiesRequired:"report"===i?["canUseReportStudio"]:void 0,onOpenCallback:function(e){this._setBasePackage(e[0])}.bind(this),dialogTitle:"agentDefinition"===i?s.get("linkPackage",{itemName:s.get(this.objectInfo.type)}):s.get("linkPackageOrModule",{itemName:s.get(this.objectInfo.type)})};e.createOpenDialog(t).open()}.bind(this))},_setBasePackage:function(e){this.modifiedBasePackage={searchPath:'storeID("'+e.id+'")',type:r.getType(e)},this._oPropertyUIControl.getProperty("sourceDataLocationName").setValue(r.getLocation(e,!1))},_setBase:function(e){this.modifiedBaseReport={searchPath:'storeID("'+e.id+'")',type:r.getType(e)},this._oPropertyUIControl.getProperty("sourceLocationName").setValue(r.getLocation(e,!0))}});return g.getPropertiesToQuery=function(e){return g.PROPERTIES_TO_QUERY.common.concat(g.PROPERTIES_TO_QUERY[e]).join(",")},i.extend(g,m),g}),define("text!bi/content_apps/propertiespageview.json",[],function(){return'{\n\t"copyright": "Licensed Materials - Property of IBM. IBM Cognos Products: BI Cloud(C) Copyright IBM Corp.2014, 2022. US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.",\n\t"tabs": {\n\t\t"jobDefinition": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "job",\n\t\t\t"module": "bi/content_apps/PropertiesJobTab"\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"report": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "report",\n\t\t\t"module": "bi/content_apps/PropertiesReportTab",\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"dataSet2": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}],\n\t\t"reportView": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "report",\n\t\t\t"module": "bi/content_apps/PropertiesReportTab",\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"package": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}, {\n\t\t\t"name": "capabilities",\n\t\t\t"module": "bi/content_apps/PropertiesCapabilitiesTab",\n\t\t\t"requiredCapabilities": ["canUseObjectCapabilities"]\n\t\t}],\n\t\t"folder": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}, {\n\t\t\t"name": "capabilities",\n\t\t\t"module": "bi/content_apps/PropertiesCapabilitiesTab",\n\t\t\t"requiredCapabilities": ["canUseObjectCapabilities"]\n\t\t}],\n\t\t"content": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}, {\n\t\t\t"name": "capabilities",\n\t\t\t"module": "bi/content_apps/PropertiesCapabilitiesTab",\n\t\t\t"requiredCapabilities": ["canUseObjectCapabilities"]\n\t\t}],\n\t\t"dashboard": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"jupyterNotebook": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}],\n\t\t"unknown": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"powerPlayReport": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "PowerPlayReport",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"document": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "document",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"agent": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "agent",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"agentDefinitionView": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "agent",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"planningTask": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "planningTask",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"metricsExportTask": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "metricsExportTask",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"metricsDataSourceETLTask": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "metricsDataSourceETLTask",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"metricsFileImportTask": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "metricsFileImportTask",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"metricsMaintenanceTask": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "metricsMaintenanceTask",\n\t\t\t"module": "bi/content_apps/PropertiesC10Tab"\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}],\n\t\t"powerPlay8ReportView": [{\n\t\t\t"name": "general",\n\t\t\t"module": "bi/content_apps/PropertiesGeneralTab"\n\t\t}, {\n\t\t\t"name": "report",\n\t\t\t"module": "bi/content_apps/PropertiesReportTab",\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "schedule",\n\t\t\t"module": "bi/schedule/views/SchedulesView",\n\t\t\t"requiredCapabilities": ["canUseScheduling"],\n\t\t\t"requiredPermissions": ["read"]\n\t\t}, {\n\t\t\t"name": "permission",\n\t\t\t"module": "bi/content_apps/PropertiesPermissionsTab",\n\t\t\t"requiredPermissions": ["setPolicy"]\n\t\t}]\n\t}\n}\n'}),define("bi/content_apps/PropertiesPageView",["underscore","bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/PropertyPageView","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/GlassContextHelper","bacontentnav/utils/UIHelper","bacontentnav/utils/ContentManagement","bi/content_apps/nls/StringResource","bi/content_apps/PropertiesGeneralTab","text!bi/content_apps/propertiespageview.json"],function(i,e,l,r,n,c,d,t,a){"use strict";var o=e.extend({_isSaved:!1,init:function(e){o.inherited("init",this,arguments),i.extend(this,e),this._oPropertiesPageViewDefinitions=JSON.parse(a)},render:function(){return this._getPropertiesInfo().then(function(){if(!this.objectInformation.objectDeleted){var e=l.isTeamContent(this.objectInformation),t=l.getObjectName(this.objectInformation),i=e?d.get("teamFolders"):t;return this.renderPropertyUIControl({el:this.$el,glassContext:this.glassContext,slideout:this.slideout,readOnly:!l.hasPermissions(this.objectInformation,["write"]),ariaLabel:d.get("a11yPropertyPane",{nameOfObject:i}),items:[{name:"defaultName",editable:!e,svgIcon:n.getTypeSVGIconFromObject(this.objectInformation),svgToolTip:n.getTypeNameFromObject(this.objectInformation),value:i,type:"Banner",ariaLabel:d.get("itemName"),handleReturnKey:!0,enterKeyCallback:this.update.bind(this),isString:!0},{type:"OwnerRow",owner:e?d.get("none"):l.getOwnerName(this.objectInformation),creationTime:l.getCreationDate(this.objectInformation,!0,"short",!0),modificationTime:l.getModificationTime(this.objectInformation,!0,"short",!0),refreshTime:this.objectInformation.dataSetOutputInfo?this.objectInformation.dataSetOutputInfo.creationTime:null,fileType:n.getTypeNameFromObject(this.objectInformation)},{type:"TabControl",items:this._getTabItems()}]})}n.renderInfoMessage(this.$el,d.get("objectDeleted"))}.bind(this))},updateObjectInformationModel:function(e,t){return this.update().finally(function(){return this._oPropertyUIControl&&this._oPropertyUIControl.remove(),this._oPropertyUIControl=null,this.objectInformation=e,t&&t(),this.render()}.bind(this))},update:function(){if(l.hasPermissions(this.objectInformation,["read write"]))return Promise.resolve(!0);if(!this.getPropertyUIControl())return Promise.resolve(!0);var t=this.getPropertyUIControl().getModifiedProperties();return 0===i.size(t)?Promise.resolve(!0):t.defaultName&&"string"==typeof t.defaultName&&-1<t.defaultName.indexOf("'")&&-1<t.defaultName.indexOf('"')?(r.displayToast(this.glassContext,d.get("errorMessageApostropheError"),{type:"error"}),Promise.resolve(!0)):this._directSave(t).then(function(){"function"==typeof this.parentView.refresh?this.parentView.refresh():this.glassContext.getCoreSvc(".Events").trigger("content:refresh"),t.id=this.objectInformation.id,t.selfUrl=l.getSelfLink(this.objectInformation),this.glassContext.getSvc(".Content").then(function(e){e.updateMRUEntry(t)})}.bind(this))},_doSave:function(){return this.update()},_directSave:function(e){var t=null,i=null;return i=l.getMetadataModelPackage(e)&&this.objectInformation.refReportSelfLink?(t="report",this.objectInformation.refReportSelfLink):(t=l.getType(this.objectInformation),l.getSelfLink(this.objectInformation)),e.type=t,e.defaultName&&"string"==typeof e.defaultName&&-1<e.defaultName.indexOf("'")&&-1<e.defaultName.indexOf('"')?r.displayToast(this.glassContext,d.get("errorMessageApostropheError"),{type:"error"}):this._sendUpdateRequest(e,i)},_sendUpdateRequest:function(e,t){var i={headers:{Accept:"application/json","Content-Type":"application/json"},type:"PUT",url:t,data:JSON.stringify(e)};return this._sendRequest(i,!1,e)},_sendRequest:function(t,i,o,s){return this.logger.debug("PropertiesPageView._sendRequest",t,o),i=i||function(){},t.cache=!1,new Promise(function(e,a){this.glassContext.getCoreSvc(".Ajax").ajax(t).then(i.bind(this)).catch(function(e){if(!s){var t=c.isNameConflict(e),i=!t&&c.isUnknownUpdateError(e);if(t||i){var n=t?d.get("renameCollisionError",{name:o&&o.defaultName||""}):d.get("unknownUpdateError");r.displayToast(this.glassContext,n,{type:"error"})}else r.showAjaxServiceErrorMessage(this.glassContext,e.jqXHR);a(new Error)}}.bind(this)).finally(function(){e()})}.bind(this))},_getPropertiesInfo:function(){var e=this._getRequestOptions(l.getSelfLink(this.objectInformation),this._getPropertiesToQuery());return this._sendRequest(e,this._handleGetInfoSuccess).then(function(){return Promise.all(this._getAdditionalInfo())}.bind(this))},_getAdditionalInfo:function(){var e=[];switch(this.objectInformation.type){case"package":var t=l.getModelsLink(this.objectInformation);t&&e.push(this._sendRequest(this._getRequestOptions(t,"options"),this._handleGetModelSuccess));break;case"reportView":case"powerPlay8ReportView":var i=l.getBaseMetadataModelPackage(this.objectInformation)||l.getBaseModule(this.objectInformation);if(i){var n=l.getSelfLink(i);n&&e.push(this._sendRequest(this._getRequestOptions(n,"defaultName,ancestors"),this._handleGetPackageSuccess))}break;case"dataSet2":var a=l.getMetadataModelPackage(this.objectInformation)||l.getModule(this.objectInformation);if(a){var o=l.getSelfLink(a);o&&e.push(this._sendRequest(this._getRequestOptions(o,"defaultName,ancestors"),this._handleGetPackageSuccess))}e.push(this._sendRequest(this._getRequestOptions(l.getSelfLink(this.objectInformation)+"/default_output","creationTime,dataSize,dataDescriptor,owner.defaultName"),this._handleGetDataSetOutputResponse));break;case"shortcut":var s=this.objectInformation.target&&this.objectInformation.target[0]._meta.links.path.url;s&&e.push(this._sendRequest(this._getRequestOptions(s,"defaultName,ancestors"),this._handleGetShortcutTargetDataSuccess,null,!0));break;case"agentDefinition":var r=l.getItemsLink(this.objectInformation);r&&e.push(this._sendRequest(this._getRequestOptions(r,"metadataModelPackage{defaultName,ancestors}"),this._handleGetReportMetadataModelPackageSuccess,null,!0))}return e},_getRequestOptions:function(e,t){return{dataType:"json",type:"GET",url:e,data:{fields:t}}},_getFirstInResponseArray:function(e){var t=i.isArray(e.data&&e.data.data)?e.data.data:null;return t&&0!==t.length?t[0]:null},_handleGetInfoSuccess:function(e){var t=this._getFirstInResponseArray(e);t?$.extend(this.objectInformation,t):this.objectInformation.objectDeleted=!0},_handleGetModelSuccess:function(e){var t=this._getFirstInResponseArray(e);t&&(this.objectInformation.options=t.options)},_handleGetDataSetOutputResponse:function(e){var t=this._getFirstInResponseArray(e);t&&(this.objectInformation.dataSetOutputInfo={creationTime:l.getCreationDate(t,!0,"short",!0),dataSize:t.dataSize,dataDescriptor:t.dataDescriptor,owner:t.owner})},_handleGetPackageSuccess:function(e){var t=this._getFirstInResponseArray(e);if(t){var i=l.getBaseMetadataModelPackage(this.objectInformation)||l.getMetadataModelPackage(this.objectInformation)||l.getBaseModule(this.objectInformation)||l.getModule(this.objectInformation);i[l.DEFAULT_NAME]=t.defaultName,i[l.ANCESTORS]=t.ancestors}},_handleGetShortcutTargetDataSuccess:function(e){var t=this._getFirstInResponseArray(e);if(t){var i=this.objectInformation.target&&this.objectInformation.target[0];i&&(i.defaultName=t.defaultName,i.ancestors=t.ancestors)}},_handleGetReportMetadataModelPackageSuccess:function(e){if(e&&e.data&&e.data.data){var t=i.find(e.data.data,function(e){return"report"===e.type});this.objectInformation.refReportSelfLink=l.getSelfLink(t),this.objectInformation.metadataModelPackage=t.metadataModelPackage}},_getObjectType:function(){return n.getProperties(l.getType(this.objectInformation))},_getPropertiesToQuery:function(){return this._objType=this._getObjectType(),"unknown"===this._objType&&this.logger.log("PropertiesPageView: No mapping for object type "+this.objectInformation.type),t.getPropertiesToQuery(this._objType)},_getTabItems:function(){var t=[],e=this._getObjectType(),i=this._oPropertiesPageViewDefinitions.tabs;return i[e]||(e="unknown"),i[e].forEach(function(e){this._isTabDisplayed(e)&&t.push({name:d.get(e.name),module:e.module,objectInfo:this.objectInformation,glassContext:this.glassContext,slideout:this.slideout})}.bind(this)),t},_isTabDisplayed:function(e){var t=!1;return e.requiredCapabilities&&(t=e.requiredCapabilities.some(function(e){return!this.glassContext.hasCapability(e)}.bind(this))),!(!this.glassContext.isDevInstall()&&e.devMode||e.requiredPermissions&&!n.hasPermissions(this.objectInformation.permissions,e.requiredPermissions)||t)}});return o}),define("bi/content_apps/common/ui/list_actions/LegacyArtifactDefaultActionHandlerBase",["bi/glass/core/Class","bi/content_apps/utils/C10Utils","lodash"],function(Class,C10Utils,_){"use strict";var LegacyArtifactDefaultActionHandlerBase=Class.extend({init:function(e){LegacyArtifactDefaultActionHandlerBase.inherited("init",this,arguments),_.extend(this,e)},canExecute:function(e){return!0},_replaceBackURL:function(e){var t=e.indexOf("backURL="),i=e;if(-1!==t){i=e.substring(0,t-1);var n=e.indexOf("&",t);-1!==n&&(i+=e.substring(n))}var a="../utils/close.html";return e=i+"&backURL="+encodeURIComponent(a),e+="&ui.backURL="+encodeURIComponent(a)},_getLegacyLaunchURL:function(options){var selectedContext=options.target.activeObject.aSelectedContext,navServiceEndpoint=LegacyArtifactDefaultActionHandlerBase.NAVService+selectedContext[0].id+"?json=";return this.options=options,options.glassContext.getCoreSvc(".Ajax").ajax({url:navServiceEndpoint,dataType:"text",type:"GET"}).then(function(result){if(result=result&&result.data,result){var parsedResponse=eval("parsedResponse="+result);if(parsedResponse.feed){for(var oType=parsedResponse.feed.cm$objectClass,oTargetType=parsedResponse.feed.cm$targetObjectClass,launchURL,links=parsedResponse.feed.link,i=0;i<links.length;i+=1)"alternate"===links[i].rel&&"application/octet-stream"===links[i].type&&(launchURL=links[i].href);launchURL&&C10Utils.isPowerPlay(oType)&&this.options.target.runOptions&&(launchURL=launchURL.replace("&ui.crnfrm=HTML","&ui.crnfrm=PDF"),this.options.target.runOptions.prompt?launchURL+="&ui.crnp=true":launchURL=launchURL.replace("&ui.crnp=true","")),launchURL&&"URL"!==oType&&"URL"!==oTargetType&&(launchURL=this._replaceBackURL(launchURL));var payLoad={launchURL:launchURL,oType:oType,oTargetType:oTargetType,navFeed:parsedResponse};return Promise.resolve(payLoad)}return Promise.reject(new Error)}Promise.reject(new Error)}.bind(this))}});return LegacyArtifactDefaultActionHandlerBase.NAVService="v1/disp/atom/cm/id/",LegacyArtifactDefaultActionHandlerBase}),define("bi/content_apps/common/ui/list_actions/LegacyArtifactActionHandler",["lodash","bi/content_apps/common/ui/list_actions/LegacyArtifactDefaultActionHandlerBase","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/GlassContextHelper"],function(d,e,u,h){"use strict";var t=e.extend({init:function(e){t.inherited("init",this,arguments),d.extend(this,e)},canExecute:function(){return!0},doAction:function(t){var i=t.target.activeObject.aSelectedContext[0];return"myPageletRef"===i.type||"pagelet"===i.type?t.glassContext.getCoreSvc(".Config").getConfigValue("ContentApps/enableMyPortalPages").then(function(e){return"true"===e?("myPageletRef"===i.type&&(i.id=i.target),i.objRef=i.id,t.glassContext.appController.openAppView("pagelet",{content:i})):this._doLegacyAction(t)}.bind(this)):this._doLegacyAction(t)},_doLegacyAction:function(c){return this._getLegacyLaunchURL(c).then(function(e){var t=e.launchURL,i=c.target.activeObject.aSelectedContext[0],n=u.hasPermissions(i,["execute"]);if(t)return void 0!==c.target.runOptions&&(t=t.replace("ui.action=edit","ui.action=run"),c.target.runOptions.prompt?t+="&ui.crnp=true":t+="&ui.crnp=false"),this._openUrl(t)||0===t.indexOf("file:")||0===t.indexOf("\\\\")?Promise.resolve():Promise.reject(new Error("Could not launch a new tab."));if(t||-1===c.target.itemId.indexOf("powerPlay8Report")||!n)return Promise.reject(new Error("No URL associated with the artifact."));var a=h.getUserPreference(c.glassContext,"contentLocale"),o=h.getUserPreference(c.glassContext,"productLocale"),s=c.target.activeObject.aSelectedContext[0].id,r=c.target.activeObject.aSelectedContext[0].defaultName,l="v1/disp?b_action=powerPlayService&ui.gateway=/bi/v1/disp&ui.action=run&ui.crnfrm=PDF&ui.crnp=true&LA="+o+"&LO="+a+"&crnobj="+c.glassContext.getCoreSvc(".CAFEncoding").cafEncodeQSValue(encodeURIComponent(i.searchPath))+"&ui.tool=PowerplayStudio&ui.format=PDF&ui.object=storeID(%22"+s+"%22)&ui.name="+d.escape(r);return l+="&cv.header=false&ui.backURL=%2fcps4%2fportlets%2fcommon%2fclose.html",this._openUrl(l),Promise.resolve()}.bind(this))},_openUrl:function(e){return window.open(e)}});return t}),define("bi/content_apps/common/ui/list_actions/AddURLAction",["lodash","bacontentnav/common/ui/list_actions/ListAction","bi/content_apps/nls/StringResource","bacontentnav/utils/ContentManagement","bacontentnav/utils/GlassContextHelper","bacontentnav/utils/ActionHelper","bi/content_apps/common/ui/list_actions/LegacyArtifactActionHandler","bi/commons/utils/BidiUtil"],function(t,e,r,n,a,o,i,s){"use strict";return e.extend({init:function(e){t.extend(this,e),this.contentList=this.hostView.view,this.listControl=this.hostView.listControl,this.glassContext=this.hostView.glassContext,this.logger=this.glassContext.getCoreSvc(".Logger"),this.legacyHandler=new i,this.renderFromReact=this.hostView.renderFromReact,this.listControl&&!this.renderFromReact?(this.url=this.listControl.url,this.aData=this.listControl._dTable.fnGetData()):(this.url=this.hostView.url,this.aData=this.contentList&&this.contentList.state&&this.contentList.state.files)},execute:function(o){var s=o.defaultName;o.type="URL";var e={headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",url:this.url,data:JSON.stringify(o)};return this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){var i=e.jqXHR.getResponseHeader("location"),t=this._extractIDFromLocation(i),n={id:t,type:o.type,defaultName:o.defaultName},a={glassContext:this.glassContext,target:{activeObject:{aSelectedContext:[{id:t}]}}};return this.legacyHandler._getLegacyLaunchURL(a).then(function(e){if(e.launchURL)return this._onSuccess(s,n);var t={type:"DELETE",url:i};return this.glassContext.getCoreSvc(".Ajax").ajax(t).then(function(){this._showError(r.get("unacceptableDomain",{viewAcceptableDomains:r.get("viewAcceptableDomains")}))}.bind(this)).catch(function(e){return this._handleError(o,e)}.bind(this))}.bind(this)).catch(function(e){return this.logger.error("problem fetching info on newly-created URL",e),o.id=t,this._onSuccess(s,n)}.bind(this))}.bind(this)).catch(function(e){return this._handleError(o,e)}.bind(this))},_onSuccess:function(e,t){return this.listControl&&!this.renderFromReact?this.listControl.updateDatatable():this.contentList.fetchListData(this.url),a.displayToast(this.glassContext,r.get("toastCreateNewURL",{nameofURL:s.enforceTextDirection(e)})),this.hostView.close(),this.glassContext.getSvc(".Content").then(function(e){return e.addToMRU(t)}),Promise.resolve()},_handleError:function(e,t){var i={itemsOverLimit:r.get("itemsOverLimit",{itemName:e.defaultName}),nameLengthError:r.get("errorMessageLengthURLName")};return this.listControl&&!this.renderFromReact?o.handleAddItemError(this.listControl,e,t,i).then(function(){return this.execute(e)}.bind(this)).fail(function(e){return this._showError("",e),Promise.reject(e)}.bind(this)):this.handleAddItemError(e,t).then(function(e){return this.execute(e)}.bind(this)).fail(function(e){return this._showError("",e),Promise.reject(e)}.bind(this))},_showError:function(e,t){this.listControl&&!this.renderFromReact?this.listControl.updateDatatable():this.contentList.fetchListData(this.url),t?a.showAjaxServiceError(this.glassContext,t):this.hostView.showErrorMessage(e,"warn"),this.hostView.enableSubmitButton()},_getNewNameString:function(i){var e,n=[];this.aData.forEach(function(e){var t=e.defaultName.toLowerCase();0===t.indexOf(i.defaultName.toLowerCase())&&n.push(t)});for(var t=1;t<=n.length&&(e=i.defaultName+" ("+t+")",n.includes(e.toLowerCase()));t++);return this.count=t,e},handleAddItemError:function(e,t){if(400!==t.code)return Promise.reject(t);if(n.isNameConflict(t)){var i=this._getNewNameString(e);return this.count<20?(e.defaultName=i,Promise.resolve(e)):(a.displayToast(this.glassContext,r.get("itemsOverLimit",{itemName:e.defaultName}),{type:"error"}),Promise.reject(t.message))}return 255<e.defaultName.length?(a.displayToast(this.glassContext,r.get("errorMessageLengthURLName"),{type:"error"}),Promise.reject(t.message)):void 0},_extractIDFromLocation:function(e){return e.slice(e.lastIndexOf("/")+1)}})}),define("bi/content_apps/ui/dialogs/DomainsDialog",["bacontentnav/lib/@waca/core-client/js/core-client/ui/core/Class","jquery","lodash"],function(e,i,n){var t=null;return t=e.extend({_buttons:["ok"],init:function(e){this._options=e,this.id="com-ibm-ca-domainsDialogTitle",this.contentId="com-ibm-ca-domainsDialogContent",t.inherited("init",this,[this._options])},open:function(){this._options.glassContext.showMessage(this.renderContent(),this._options.title,"info",this._buttons,"",void 0,!0,"domainsDialog")},renderContent:function(){var t=i("<ul>",{class:"itemListing"});n.forEach(this._options.list,function(e){t.append(i("<li>",{class:"listItem",html:e}))});var e=i("<div>");return e.append(t),e.html()}})}),define("bi/content_apps/ui/views/AddURLView",["lodash","bi/glass/app/ContentView","bi/content_apps/common/ui/list_actions/AddURLAction","bi/content_apps/nls/StringResource","bacontentnav/utils/GlassContextHelper","bi/content_apps/ui/dialogs/DomainsDialog","bi/commons/ui/KeyCodes"],function(n,e,t,i,a,o,s){"use strict";var r=e.extend({propertyUIControlModule:"bi/commons/ui/properties/PropertyUIControl",init:function(e){n.extend(this,e),r.inherited("init",this,arguments),this.CONFIGVALUE_VALIDDOMAINLIST="CAF.caf_validDomainList",this.url=this.url&&this.url._meta&&this.url._meta.links&&this.url._meta.links.items&&this.url._meta.links.items.url,this.contentList=this.view,this.renderFromReact=e.renderFromReact,this.addURLAction=new t({hostView:this})},render:function(){return new Promise(function(e){this._renderFormItems(e,this._buildFormItems())}.bind(this))},_renderFormItems:function(t,i){require([this.propertyUIControlModule],function(e){this.$el.addClass(this._getAddURLViewClass()),this._oPropertyUIControl=new e({glassContext:this.glassContext,el:this.$el,items:i}),this._oPropertyUIControl.render().then(function(){this.submitButton=this.$el.find(".primary"),$("input",this.$el).each(function(e,t){$(t).on("keydown",this._onKeydown.bind(this,$(t)))}.bind(this)),t(this._oPropertyUIControl)}.bind(this))}.bind(this))},_getAddURLViewClass:function(){return"AddURLView"},_buildFormItems:function(){var e=i.get("newURLLabel");return[{value:e,type:"Banner",svgIcon:"#common-url",svgToolTip:"URL",ariaLabel:e},{name:"instructions",label:i.get("newURLDesc"),type:"HintText"},{name:"defaultName",label:i.get("name"),placeHolderText:i.get("urlNamePlaceholder"),newLook:!0,value:"",type:"InputLabel",multiline:!0,readOnly:!1},{type:"Separator"},{name:"defaultDescription",label:i.get("description"),placeHolderText:i.get("descriptionPlaceholder"),value:"",type:"TextArea",editable:!0,multiline:!0,validator:{maxLength:1024}},{type:"Separator"},{name:"uri",label:i.get("URL"),placeHolderText:i.get("urlPlaceholder"),newLook:!0,value:"",type:"InputLabel",multiline:!0,readOnly:!1},{type:"SingleLineLinks",name:"viewAcceptableDomains",items:[{align:"right",items:[{type:"text",value:i.get("viewAcceptableDomains"),clickCallback:function(){this._showAcceptableDomains()}.bind(this)}]}]},{type:"Footer",items:[{type:"Button",label:i.get("ok"),onSelect:this._onSubmitClick.bind(this),primary:!0},{type:"Button",label:i.get("cancel"),onSelect:this._onCancelClick.bind(this),primary:!1}]}]},_onCancelClick:function(){this.slideout.hide()},_onSubmitClick:function(){var e=this._processSubmittedData();if(0===e.missing.length)return this.disableSubmitButton(),this.addURLAction.execute(e.props).then(function(){this.listControl&&!this.renderFromReact?this.listControl.updateDatatable():this.contentList.fetchListData(this.url)}.bind(this));var t=i.get("fieldsAreMandatory");this.showErrorMessage(t,"warn"),this.enableSubmitButton()},_onKeydown:function(e,t){t.keyCode===s.ENTER&&(e.blur(),this._onSubmitClick(),t.stopPropagation())},_processSubmittedData:function(){var e={props:this._oPropertyUIControl.getModifiedProperties(),missing:[]};return this._checkInputValue("defaultName",e,i.get("name")),this._checkInputValue("uri",e,i.get("URL")),e},_checkInputValue:function(e,t,i){(void 0===t.props[e]||n.isNaN(t.props[e])||""===t.props[e].trim())&&(t.props[e]="",i&&t.missing.push(i))},showErrorMessage:function(e,t){this.glassContext.appController.showErrorMessage(e,i.get(t))},_showAcceptableDomains:function(){if(!this.domainsDialog)return this.glassContext.getCoreSvc(".Config").getConfigValue(this.CONFIGVALUE_VALIDDOMAINLIST).then(function(e){"myDefault"===e&&(e=i.get("noEntries"));var t={glassContext:this.glassContext,type:"acceptableDomains",title:i.get("acceptableDomains"),list:e&&e.split(","),width:"600px"};this.domainsDialog=new o(t),this.domainsDialog.open()}.bind(this)).catch(function(e){a.showAjaxServiceError(this.glassContext,e)}.bind(this));this.domainsDialog.open()},disableSubmitButton:function(){this.submitButton.prop("disabled",!0)},enableSubmitButton:function(){this.submitButton.prop("disabled",!1)},close:function(){this._onCancelClick()}});return r}),define("bi/content_apps/CABaseContentView",["bacontentnav/utils/GlassContextHelper","bacontentnav/common/BaseContentWideView","bacontentnav/nls/StringResource","./PropertiesPageView","bi/content_apps/ui/views/AddURLView","bacontentnav/utils/UIHelper","bi/commons/utils/BrowserUtils","lodash"],function(t,e,n,a,i,o,s,r){"use strict";var l=".my_folders",c=e.extend({init:function(e){c.inherited("init",this,arguments),this.contentListFacets=o.getFilterFacets(["content"]),this.contentListFilterItems=o.getConfiguration("filter").items||[],this.contentListSortIndexes=o.getConfiguration("sort").indexes,this.allowUploadFiles=!s.isIPad(),this.options=e,this.options.slideout&&this.options.slideout.el&&(this.contentPane=this.options.slideout.el.querySelector(".pane-content"))},showProperties:function(i,e){this._propertiesOpen?e&&e.target&&e.target.activeObject&&e.target.activeObject.onPropertiesClose?this.propertiesSlideout.contentView.updateObjectInformationModel(i,e.target.activeObject.onPropertiesClose):this.propertiesSlideout.contentView.updateObjectInformationModel(i):(this.togglePropertiesMode(),e&&e.glassContext&&e.target.activeObject.parentSlideout&&e.target.activeObject.onPropertiesClose?this.propertiesSlideout=e.glassContext.appController.showSlideOut({label:n.get("properties",{objectName:i.defaultName}),position:e.target.activeObject.parentSlideout?null:"right",parent:e.target.activeObject.parentSlideout,width:"400",enableTabLooping:!0,hideOnParentClick:!1,onHide:function(){this._focus(),this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){e.target.activeObject.onPropertiesClose(),this.propertiesSlideout.hide(),this._propertiesOpen=!1}.bind(this)).catch(function(){var e=this.propertiesSlideout.contentView.getPropertyUIControl();if(e){var t=e.getProperty("defaultName");t.getHTMLControl().val(i.defaultName),t._onBlur(),t.remove(),t.render()}this._propertiesOpen=!1}.bind(this))}.bind(this),content:{module:a,parentView:this,objectInformation:i,glassContext:e.glassContext},resizable:!0}):this.propertiesSlideout=this.glassContext.appController.showSlideOut({label:n.get("properties",{objectName:i.defaultName}),position:this.slideout?null:"right",parent:this.slideout,width:"400",enableTabLooping:!0,hideOnParentClick:!1,onHide:function(){this._focus(),this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){this.propertiesSlideout.hide(),this._propertiesOpen=!1}.bind(this)).catch(function(){var e=this.propertiesSlideout.contentView.getPropertyUIControl();if(e){var t=e.getProperty("defaultName");t.getHTMLControl().val(i.defaultName),t._onBlur(),t.remove(),t.render()}this._propertiesOpen=!1}.bind(this))}.bind(this),content:{module:a,parentView:this,objectInformation:i,glassContext:this.glassContext},resizable:!0}))},getFilterSpec:function(){var t=[];return r.forEach(this.contentListFilterItems,function(e){t.push({name:e,label:e.displayLabel||n.get(e),value:e})}),t},getSortSpec:function(){return{sortBy:{name:"name",modificationTime:"modificationTime"},order:{sortedAscending:"asc",sortedDescending:"desc"}}},getSortMappingSpec:function(){return{name:["groupByFolder","name"],modificationTime:["groupByFolder","modificationTime"],type:["groupByType","name"]}},commonDataManipulationCallback:function(e,i){null!==i&&e.data.forEach(function(e){var t=o.getDisplayType(e);o.isContainer(t)?(e.groupByFolder=i.folders,o.isGroup(t,"packages")?e.groupByType=i.packages:e.groupByType=e.groupByFolder):(e.groupByFolder=i.others,o.isGroup(t,"report")?e.groupByType=i.reports:o.isGroup(t,"dashboard")?e.groupByType=i.dashboards:o.isGroup(t,"data")?e.groupByType=i.data:o.isGroup(t,"exploration")?e.groupByType=i.explorations:o.isGroup(t,"stories")?e.groupByType=i.stories:e.groupByType=i.others)})},getGroupByColumnAPI:function(){return{columnIndex:this.GROUP_BY_TYPE_COLUMN_INDEX,getGroupName:function(t){var e=r.find(Object.keys(this.contentListSortIndexes),function(e){return this.contentListSortIndexes[e]===t}.bind(this));return e&&n.get(e)||t}.bind(this),shouldGroup:function(e){var t=e.order();return t&&t[0]&&t[0][0]===this.GROUP_BY_TYPE_COLUMN_INDEX}.bind(this)}},getNewItemSpec:function(){var o=[];return new Promise(function(e){var t=this.glassContext.services.userProfile&&this.glassContext.services.userProfile.userProfileSettings,i=!(t&&t.ui_excludedFeatures&&t.ui_excludedFeatures.ids&&0<=t.ui_excludedFeatures.ids.indexOf("com.ibm.bi.contentApps.URL")),n=!(t&&t.ui_excludedFeatures&&t.ui_excludedFeatures.ids&&0<=t.ui_excludedFeatures.ids.indexOf("com.ibm.bi.contentApps.Folder")),a=this.ancestors&&".public_folders"===this.ancestors[0].id;!n&&a||o.push({type:"folder"}),i&&o.push({type:"URL"}),this.canUploadFiles()&&this.allowUploadFiles&&o.push({type:"fileUpload"}),e(o)}.bind(this))},showNewURL:function(){this._newURLOpen||this.toggleNewURLMode(),this.newURLSlideout=this.glassContext.appController.showSlideOut({label:n.get("newURLLabel"),position:this.slideout?null:"right",parent:this.slideout,width:"400",enableTabLooping:!0,onHide:function(){this._newURLOpen&&this.toggleNewURLMode(),this.newURLSlideout&&this.newURLSlideout.contentView&&this.newURLSlideout.contentView.onHide?this.newURLSlideout.contentView.onHide().then(function(){this.newURLSlideout.hide()}.bind(this)):this.newURLSlideout.hide()}.bind(this),content:{module:i,view:this,glassContext:this.glassContext,listControl:this._listControl}})},getFileUploader:function(){return this.fUploaderPromise||(this.fUploaderPromise=this.glassContext.getSvc(".FileUpload").then(function(e){return void 0===e.el&&(e.el=this.glassContext.cachedPerspectives[0].currentContentView.el,e.container=document.createElement("div")),e}.bind(this)).catch(function(e){return this.glassContext.appController.showErrorMessage(e),null}.bind(this))),this.fUploaderPromise},getSearchPath:function(){var e={url:this.selfUrl,dataType:"json",type:"GET",data:{fields:"searchPath"}};return this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){this.parentObj=e.data.data[0],-1<this.selfUrl.indexOf(l)&&(this.parentObj.searchPath=void 0)}.bind(this)).catch(function(e){throw t.showAjaxServiceError(this.glassContext,e),e}.bind(this))},uploadFile:function(){return this.canUploadFiles()&&this.allowUploadFiles?this.getFileUploader().then(function(e){var t;if(this.parentObj&&!this.parentObj.searchPath&&-1<this.selfUrl.indexOf(l))t=l,e.showFilePicker(null,null,null,{destination:t});else{if(!this.parentObj||!this.parentObj.searchPath)return this.getSearchPath().then(function(){t=this.parentObj.searchPath||l,e.showFilePicker(null,null,null,{destination:t})}.bind(this));t=this.parentObj.searchPath||l,e.showFilePicker(null,null,null,{destination:t})}}.bind(this)):Promise.resolve()},canUploadFiles:function(){return this.glassContext.hasCapability("canUploadFiles")},createNewItem:function(e){"folder"===e?this._addFolder():"URL"===e?this.showNewURL():"fileUpload"===e?this.uploadFile():this.logger.warn("Attempting to create unsupported item: "+e)},_focus:function(){this.$el.focus()}});return c}),define("bi/content_apps/LegacyCATeamFoldersView",["./CABaseContentView","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/ContentServiceUrls","bacontentnav/nls/StringResource"],function(e,i,t,n){"use strict";var a=e.extend({stateId:"TeamFoldersView",GROUP_BY_TYPE_COLUMN_INDEX:4,init:function(){this.showParentPropertiesButton=!0,a.inherited("init",this,arguments),this.addURLParameters({fields:"tenantID"}),this.filterMenuNamePrefix="TEAMCONTENT_",this.emptyIcon="#ba_content_nav-shared_64",this.dataManipulationCallback=this.commonDataManipulationCallback},_getDefaultRequestURL:function(){return t.getPublicFoldersURL()+"/items"},_getDefaultSelfURL:function(){return t.getPublicFoldersURL()},_getColumnSpecification:function(){var e=[{type:"Icon",accessibleLabel:n.get("itemType")}],t={type:"MultipleProperties",orientation:"horizontal",items:[{type:"Time",displayInline:!0,propertyName:i.MODIFICATION_TIME}]};return this._showTenantInfo()&&t.items.push({type:"Tenant",propertyName:i.TENANT_NAME,showAsActiveLink:!1}),e.push({type:"MultipleProperties",orientation:"vertical",items:[{type:"Name"},t]}),e.push({type:"Time",propertyName:i.MODIFICATION_TIME,visible:!1}),e.push({type:"Text",propertyName:"groupByFolder",visible:!1}),e.push({type:"Text",propertyName:"groupByType",visible:!1}),this._showTenantInfo()&&e.push({type:"Tenant",propertyName:i.TENANT_NAME,visible:!1}),e.push({type:"ContextMenu"}),e},getSortSpec:function(){var e=a.inherited("getSortSpec",this,arguments);return this._showTenantInfo()&&(e.sortBy.tenant="tenantName"),e.sortBy.type="type",e},_showTenantInfo:function(){var e=this.glassContext.getCoreSvc(".UserProfile");return e.tenants&&0<e.tenants.length},getDefaultSort:function(){return[[3,"asc"],[1,"asc"]]}});return a}),define("bi/content_apps/LegacyCAMyContentView",["./CABaseContentView","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/ContentServiceUrls","bacontentnav/nls/StringResource"],function(e,t,i,n){"use strict";var a=e.extend({stateId:"CAMyContentView",GROUP_BY_TYPE_COLUMN_INDEX:4,init:function(){a.inherited("init",this,arguments),this.filterMenuNamePrefix="MYCONTENT_",this.emptyIcon="#ba_content_nav-personal_64",this.dataManipulationCallback=this.commonDataManipulationCallback},_getDefaultRequestURL:function(){return i.getMyFoldersURL()+"/items"},_getDefaultSelfURL:function(){return i.getMyFoldersURL()},getRootAncestor:function(){return t.getRootMyFoldersAncestors()},_getColumnSpecification:function(){var e=[{type:"Icon",accessibleLabel:n.get("itemType")}];return e.push({type:"MultipleProperties",orientation:"vertical",items:[{type:"Name"},{type:"Time",displayInline:!0,propertyName:t.MODIFICATION_TIME}]}),e.push({type:"Time",propertyName:t.MODIFICATION_TIME,visible:!1}),e.push({type:"Text",propertyName:"groupByFolder",visible:!1}),e.push({type:"Text",propertyName:"groupByType",visible:!1}),e.push({type:"ContextMenu"}),e},getSortSpec:function(){var e=a.inherited("getSortSpec",this,arguments);return e.sortBy.type="type",e},getDefaultSort:function(){return[[3,"asc"],[1,"asc"]]}});return a}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/Label",["jquery","../../util/View","lodash"],function(e,t,i){var n=null;return n=t.extend({baseClass:"toolbar",init:function(e){i.extend(this,e),this._initLabel(),n.inherited("init",this,arguments)},render:function(){return this.$el.empty().addClass(this.baseClass+"InactiveItem").attr("id",this.viewId),this._updateLabel(),this.style&&this.$el.addClass(this.style),this.isStatusLabel&&this.$el.attr("role","status"),this.editable&&this.$el.attr("tabindex","0").inlineEditor(this.changedAction,{style:{width:"auto"},noEmptyText:!0}),this},_initLabel:function(){"object"===e.type(this.label)&&(this._getLabel=this.label.get,this.label.onChange(this._updateLabel,this))},_getLabel:function(){return this.label},_updateLabel:function(){this.text(this._getLabel())},text:function(e){this.$el.text(e)}})}),define("bacontentnav/common/ui/EllipsisLabel",["../../lib/gemini/app/ui/toolbar_components/Label","../../lib/@waca/core-client/js/core-client/utils/ContentFormatter","lodash"],function(e,t,i){"use strict";return e.extend({text:function(e){this.$el.text(i.unescape(e)),this.style&&this.$el.addClass(this.style),t.middleShortenString(this.$el[0])}})}),define("bacontentnav/MRUView",["./common/BaseContentWideView","./common/ui/EllipsisLabel","./utils/ContentServiceUrls","./nls/StringResource"],function(e,t,i,n){"use strict";var a=e.extend({stateId:"MRUView",requiresAssetVerification:!0,init:function(e){a.inherited("init",this,arguments),this.filterMenuNamePrefix="MRU_",this.emptyIcon="#ba_content_nav-time_64"},_getDefaultRequestURL:function(){return i.getMRUURL()},_getModuleName:function(){return"bi/content_apps/MRUView"},contentbarItems:function(){return[{name:"nameLabel",position:"leading",style:"nameLabel",module:t,label:n.get("recentlyViewed")}]},renderContent:function(){return this.glassContext.getSvc(".Content").then(function(e){return this._contentSvc=e,a.inherited("renderContent",this,arguments)}.bind(this))},getListControlOptions:function(){return{ajaxProp:"",emptyFolderString:n.get("emptyRecentList"),showEmptyNewFolderButton:!1,rowLimit:this._contentSvc.getMRUMaxSize(),getJSONDataCallback:this._contentSvc.getMRUList.bind(this._contentSvc)}},getDefaultSort:function(){return[]},_getColumnSpecification:function(){return[{type:"Icon"},{type:"MultipleProperties",items:[{type:"Name"},{type:"Text",propertyName:"formatedPath",clickCallback:this.openSlideoutView.bind(this),showAsActiveLink:!1}]},{type:"ContextMenu"}]}});return a}),define("bi/content_apps/CAMRUView",["bacontentnav/MRUView","bacontentnav/nls/StringResource","bacontentnav/utils/ContentStoreObject","./PropertiesPageView"],function(e,t,i,n){"use strict";var a=e.extend({stateId:"CAMRUView",init:function(){a.inherited("init",this,arguments)},showProperties:function(e){this._propertiesOpen||this.togglePropertiesMode(),this.propertiesSlideout=this.glassContext.appController.showSlideOut({label:t.get("properties",{objectName:e.defaultName}),position:this.slideout?null:"right",parent:this.slideout,width:"400",enableTabLooping:!0,onHide:function(){this._propertiesOpen&&this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){this.propertiesSlideout.hide()}.bind(this))}.bind(this),content:{module:n,parentView:this,objectInformation:e,glassContext:this.glassContext},resizable:!0})}});return a}),define("bacontentnav/search/SearchBar",["jquery","lodash","../lib/@waca/core-client/js/core-client/ui/View","../lib/@waca/core-client/js/core-client/utils/Utils","../lib/@waca/core-client/js/core-client/utils/BidiUtil","../nls/StringResource","jquery-ui"],function(n,i,e,t,a,o){var s=null;return s=e.extend({events:{clicktap:"action"},baseClass:"toolbar",getSuggestUrl:"v1/suggest/cm",init:function(e){i.extend(this,e),s.inherited("init",this,arguments),this.searchBarCutDetected=!1,this.$input=n('<input class="searchinput">').attr({type:"search",value:this.value,placeholder:this.label,title:this.label,maxlength:256,role:"combobox","aria-autocomplete":"list"}).on("search",this.search.bind(this)).on("change",this.updateButtonItems.bind(this)).bind("cut",function(){setTimeout(function(){this.reinitializeSearchBar()}.bind(this))}.bind(this)).keyup(function(e){13===e.which?this.search(e):9!==e.which&&16!==e.which&&this.updateButtonItems(),setTimeout(function(){this.$input.val()||this.searchBarCutDetected||this.clear()}.bind(this))}.bind(this)).autocomplete({source:function(e,t){if(0<(e.term?e.term.trim():"").length){var i={filter:"type|"+this.view.defaultTypes.join("|"),term:e.term,hide_internal:"all"};this.glassContext.getCoreSvc(".Ajax").ajax({url:this.getSuggestUrl+"?"+n.param(i,!0)}).then(function(e){t(e.data.results)})}}.bind(this),open:function(){return this.$input.autocomplete("widget").addClass("search-autocomplete"),this.$input.autocomplete("widget").find("li").on("clicktap",function(e){e.stopPropagation(),this.setSearchString(n(e.target).text()),this.search(e)}.bind(this)).each(function(){this.dir=a.resolveBaseTextDir(this.innerHTML)}),!1}.bind(this)}),a.initElementForBidi(this.$input[0]),this.$searchButton=n('<button class="s4h" disabled/>').attr({type:"button",title:o.get("search")}),t.setIcon(this.$searchButton,"common-search"),this.$clearSearchButton=n('<button class="s4hReset" />').attr({type:"reset",title:o.get("clear")}).on("clicktap",this.clear.bind(this)),t.setIcon(this.$clearSearchButton,"common-close-cancel-error")},render:function(){return this.$el.empty().addClass("searchbar appbarIcon appbarItem filled s4hBar").append(this.$searchButton,[this.$input,this.$clearSearchButton]),this.value||this.$el.removeClass("filled"),Promise.resolve(this)},show:function(e){this.isHidden()&&(this.$input.fadeIn("fast"),this.$searchButton.fadeIn("fast"),this.$clearSearchButton.fadeIn("fast"),this.$el.slideDown("fast"),e||(this.setFocus(),this.$input.select()))},search:function(e){this.searchBarCutDetected=!1;var t=this.getSearchString();t&&(this.$input.blur(),this.view.searchTerm=t,this.view.execSearch(!0),e&&e.preventDefault())},resetState:function(){this.view.resetState()},clear:function(){this.view.clearView(),this.showHideClearSearchButton(),this.setFocus()},setSearchString:function(e){var t=i.isString(e)?e:"";this.getSearchString()!==t&&this.$input.val(t),this.showHideClearSearchButton()},getSearchString:function(){return this.$input.val().trim()},hide:function(e){this.$el.is(":hidden")||(this.$el.slideUp("fast"),this.$input.fadeOut("fast").blur(),e||this.$input.val(""),this.$searchButton.fadeOut("fast"),this.$clearSearchButton.fadeOut("fast"))},isHidden:function(){return this.$el.is(":hidden")},showHideClearSearchButton:function(){this.$input.val()?this.$el.addClass("filled"):this.$el.removeClass("filled")},setFocus:function(){this.$input.focus()},updateButtonItems:function(){this.view.showHideContentBarItems(),this.showHideClearSearchButton()},reinitializeSearchBar:function(){this.$input.val()||(this.clear(),this.searchBarCutDetected=!0)}})}),define("bacontentnav/search/SearchFolderView",["../common/BaseContentWideView","../utils/ContentStoreObject","../utils/UIHelper","../nls/StringResource"],function(e,t,i,n){"use strict";var a=e.extend({stateId:"SearchFolderView",emptyIcon:"#ba_content_nav-personal_64",init:function(){a.inherited("init",this,arguments),this.contentListFacets=i.getFilterFacets(["content"])},getModuleName:function(){return"bacontentnav/search/SearchFolderView"},renderContent:function(){var e=this.ancestors&&0<this.ancestors.length&&this.ancestors[0].type;return"directory"===e?(this.stateId="MyContentView",this.emptyIcon="#ba_content_nav-personal_64"):"content"===e?(this.stateId="TeamFoldersView",this.emptyIcon="#ba_content_nav-shared_64"):this.stateId="SearchFolderView",this.renderContentList({columns:this._getColumnSpecification(),url:this.url,selectedRow:this.selectedRow,emptyIcon:this.emptyIcon})},_getColumnSpecification:function(){var e=[{type:"Icon",accessibleLabel:n.get("itemType")}];return e.push({type:"MultipleProperties",orientation:"vertical",items:[{type:"Name"},{type:"Time",displayInline:!0,propertyName:t.MODIFICATION_TIME}]}),e.push({type:"Time",propertyName:t.MODIFICATION_TIME,visible:!1}),e.push({type:"ContextMenu"}),e},getFilterSpec:function(){var e=i.getConfiguration("filter").items;return Array.isArray(e)?e.map(function(e){return{name:e,label:e.displayLabel||n.get(e),value:e}}):[]},showProperties:function(e){this.propertiesView&&(this._propertiesOpen||this.togglePropertiesMode(),this.propertiesSlideout=this.glassContext.appController.showSlideOut({label:n.get("properties",{objectName:e.defaultName}),position:this.slideout?null:"right",parent:this.slideout,width:"400",enableTabLooping:!0,onHide:function(){this._propertiesOpen&&this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){this.propertiesSlideout.hide()}.bind(this))}.bind(this),content:{module:this.propertiesView,parentView:this,objectInformation:e,glassContext:this.glassContext},resizable:!0}))}});return a}),define("bacontentnav/common/SearchFilterViewController",["lodash","./FilterViewController"],function(e,t){"use strict";var i=t.extend({init:function(e){i.inherited("init",this,arguments)},setDefaultFilters:function(){i.inherited("setDefaultFilters",this,arguments),this.filterObject.modificationTime.today+="|true|false",this.filterObject.modificationTime.yesterday+="|true|false",this.filterObject.modificationTime.pastWeek+="|true|false",this.filterObject.modificationTime.pastMonth+="|true|false"}});return i}),define("bacontentnav/search/BaseSearchView",["jquery","./SearchBar","./SearchFolderView","../lib/@waca/core-client/js/core-client/utils/BidiUtil","../nls/StringResource","../common/ContentListPageView","../utils/ContentStoreObject","../utils/UIHelper","../common/SearchFilterViewController","lodash"],function(i,n,t,a,o,e,s,r,l,c){"use strict";var d="#ba_content_nav-search_64",u=e.extend({init:function(e){u.inherited("init",this,arguments);var t=r.getConfiguration("search");this.searchURL=t.URL,this.savedSearchURL=t.savedURL,this.searchReturnParams=t.returnParams||"",this.disabledActions=t.disabledActions||[],this.defaultTypes=r.getTypes(["content"])||[],this.glassContext&&s.setGlassContext(this.glassContext),this.filterViewController=e.filterViewController||new l({filterSpecs:this._getColumnSpecification.bind(this),view:this,filterObject:r.getFilterFacets(["content"])}),this.filterViewController.resetSelected(),this.resultsetSize=0,this.searchTerm="",this.savedSearchDeleteClicked=!1,this.savedSearchclicked=!1,this.searchBar=new n({name:"searchInput",module:n,position:"leading",glassContext:this.glassContext,view:this,label:o.get("searchAllYourData"),value:""}),this.searchBarRendered=!1,this.on("filterState:change",this.onFilterStateChange.bind(this)),this.on("filterState:changeDate",this.onFilterStateChange.bind(this))},remove:function(){u.inherited("remove",this,arguments),this.off("filterState:change"),this.off("filterState:changeDate")},onFilterStateChange:function(){this._updateStroke(),this.execSearch(!1)},_getColumnSpecification:function(){return this._getBaseColumnSpec()},getListControlOptions:function(){return{setFocusOnDraw:!1}},_updateStroke:function(){var e=this.$el.find(".facetButton .svgIcon");e&&(this.filterViewController.isDirty()?r.addStroke(e):r.removeStroke(e))},setSearchTerm:function(e){this.searchTerm=(c.isString(e)?e:"").trim(),this.searchBar.setSearchString(this.searchTerm)},getSearchTerm:function(){return this.searchTerm.trim()},setFocus:function(){c.isFunction(this.searchBar&&this.searchBar.setFocus)?this.searchBar.setFocus():u.inherited("setFocus",this,arguments)},showHideContentBarItems:function(){if(this.contentBar){var e=this.contentBar.itemMap.facetButton.$el.find("button"),t=this.contentBar.itemMap.savedSearchButton.$el.find("button"),i=!1===this.filterViewController.isDirty()&&0===this.resultsetSize;e.prop("disabled",i),t.prop("disabled",i),this.filterViewController.isDirty()||this.filterViewController.removeFilteredClass(e)}},getViewContainerClass:function(){return"ContentListPageView ContentWideView SearchPageView"},contentbarItems:function(){return[{name:"nameLabel",module:"bacontentnav/lib/gemini/app/ui/toolbar_components/Label",className:"searchLabel",responsive:!1,label:o.get("search")},{name:"savedSearchButton",module:"bacontentnav/common/ui/contentbar_components/Button",position:"trailing",label:o.get("saveSearch"),responsive:!1,className:"saveSearchButton",icon:"ba_content_nav-save_16",bSVG:!0,disabled:!0,action:this.saveSearchClicked.bind(this)},{name:"facetButton",module:"bacontentnav/common/ui/contentbar_components/Button",position:"trailing",label:o.get("narrowYourSearch"),responsive:!1,className:"facetButton",icon:"common-filter",bSVG:!0,disabled:!0,pushed:!1,action:this.facetClicked.bind(this)}]},renderContent:function(){return this.renderSavedSearch()},saveSlideoutWidth:function(){var e=this.$el.width();r.saveSlideoutWidth(this.id,e)},_calcExtraNonTableHeight:function(e){return(e.$el.children(".SearchPageView .searchbar").outerHeight(!0)||40)+(e.$el.find(".ca-listContainer .propertyRow").outerHeight(!0)||40)},_renderContentList:function(e,t){return c.isObject(e)&&(e="?"+i.param(e,!0)),e=c.isString(e)?e:"",this.renderContentList({disableColumnHeaders:this.disableColumnHeaders,columns:this._getColumnSpecification(),ajaxProp:"results",showEmptyNewFolderButton:!1,multiSelect:!1,emptyFolderString:o.get("searchReturnedNoResults"),emptyParagraphString:o.get("tryChangingSearchTerms"),url:this.searchURL+e,defaultSort:[],emptyIcon:d,calcExtraNonTableHeight:this._calcExtraNonTableHeight,dataManipulationCallback:function(e,t){t.results=t.results||[];var i=this._getSelectedDisplayTypes();0!==i.length&&(t.results=c.filter(t.results,function(e){return-1!==i.indexOf(r.getDisplayType(e))}.bind(this))),this.resultsetSize=t.results.length,e&&this.showHideContentBarItems(),this._showSearchResultsCaption(this.resultsetSize),0===this.resultsetSize&&this.setFocus()}.bind(this,t)}).catch(function(e){throw this.glassContext.appController.showToast(o.get("errorWithSearch"),{type:"error",preventDuplicates:!1}),e}.bind(this))},renderSavedSearch:function(){var e=null;return this.renderContentList({disableColumnHeaders:!0,columns:this._getSavedSearchColumnSpecification(),ajaxProp:"",showEmptyNewFolderButton:!1,emptyFolderString:o.get("haventSavedSearches"),emptyParagraphString:o.get("clickTheSaveButton"),url:this.savedSearchURL,defaultSort:[],rightClickContextMenu:!1,multiSelect:!1,rowLimit:10,emptyIcon:d,calcExtraNonTableHeight:this._calcExtraNonTableHeight,resizeCallback:function(){e&&clearTimeout(e),e=setTimeout(this.saveSlideoutWidth.bind(this),500)}.bind(this),dataManipulationCallback:function(e){e.sort(function(e,t){var i=new Date(e.timestamp);return new Date(t.timestamp)-i}),0!==e.length&&this._showSavedSearchLabel()}.bind(this)})},execSearch:function(e){if(this.getSearchTerm()&&0<this.getSearchTerm().length){this.removeContentList(),!0===e&&this.resetState();var t={fields:this.searchReturnParams,results:50,query:this.getSearchTerm(),hide_internal:"all",filter:[]};return this.filterViewController.getModificationTime()&&t.filter.push("modificationTime|"+this.filterViewController.getModificationTime()),0<this._getFilteredTypes().length&&t.filter.push("type|"+this._getFilteredTypes().join("|")),this._debouncedDraw||(this._debouncedDraw=c.debounce(this._renderContentList.bind(this),300)),this._debouncedDraw(t,e)}},resetState:function(){this.resultsetSize=0,this.filterViewController.resetSelected(),this.showHideContentBarItems(),this._updateStroke()},_renderContentBar:function(){return this._createContentBar().then(function(e){return e&&e.show(),this._updateAppBar().then(function(){return this.searchBarRendered||(this.$el.append(this.searchBar.$el),this.searchBar.render(),this.searchBarRendered=!0),e}.bind(this))}.bind(this))},clearView:function(e){this.resetState(),this._updateStroke(),this.setSearchTerm(e),this.removeContentList(),this.renderContent(),this.showHideContentBarItems()},_getBaseColumnSpec:function(){var e=[];e.push({type:"Icon"});var t=[];return t.push({type:"Name"}),t.push({type:"Location",clickCallback:this._navigateParent.bind(this),showAsActiveLink:!1}),e.push({type:"MultipleProperties",items:t}),e.push({type:"ContextMenu"}),e},_getSavedSearchColumnSpecification:function(){return[{type:"Text",propertyName:"name",clickCallback:this._savedSearch.bind(this)},{type:"ClickableIcon",name:"remove",a11yLabel:o.get("remove"),icon:"common-close-cancel-error",clickCallback:this._deleteSavedSearch.bind(this)}]},_savedSearch:function(e){this.setSearchTerm(e.name),this.execSearch(!0)},_showSavedSearchLabel:function(){var e=this.$el.find(".ca-listContainer");e.hasClass("savedSearch")||e.addClass("savedSearch").prepend('<div id="savedSearchLabel" class="propertyRow">'+o.get("savedSearch")+"</div>")},_showSearchResultsCaption:function(e){var t=this.$el.find(".ca-listContainer");0!==e&&(t.hasClass("searchResults")||t.addClass("searchResults").prepend('<div class="propertyRow">'+a.enforceNumericShaping(e)+" "+o.get("results")+"</div>"))},_deleteSavedSearch:function(e){if(this.savedSearchDeleteClicked)return Promise.resolve();this.savedSearchDeleteClicked=!0;var t={dataType:"json",type:"DELETE",url:e.url};return this.glassContext.getCoreSvc(".Ajax").ajax(t).then(function(){this.savedSearchDeleteClicked=!1,this.refresh(),this.glassContext.appController.showToast(o.get("searchWasDeleted"),{type:"success",preventDuplicates:!1})}.bind(this)).catch(function(e){return this.savedSearchDeleteClicked=!1,this.glassContext.appController.showToast(o.get("searchWasntDeleted"),{type:"error",preventDuplicates:!1}),Promise.reject(e)}.bind(this))},_showSlideOut:function(e){this.glassContext.appController.showSlideOut({parent:this.slideout,label:s.getName(e.oData),position:"left",width:e.width||"400",closeSlideouts:!0,content:{showBreadcrumbs:!0,showFilter:!0,showAddFolder:!1,showNewItem:!0,module:t,url:e.selfLink+"/items",selfUrl:e.selfLink,selectedRow:e.selectedRow,ancestors:e.ancestors,propertiesView:this.propertiesView,getNewItemSpec:function(){return Promise.resolve([{type:"folder"}])},createNewItem:function(){this._addFolder()}},resizable:!0})},navigate:function(e){var t=s.getSelfLink(e),i=[];for(var n in e.ancestors)i.push(s.buildAncestorEntry(e.ancestors[n]));i.push(s.buildAncestorEntry(e)),this._showSlideOut({oData:e,width:"576",selfLink:t,ancestors:i})},_navigateParent:function(e){var t=s.getSelfLink(e.ancestors[e.ancestors.length-1]);this.propertiesOverride=!0;var i=[];for(var n in e.ancestors)i.push(s.buildAncestorEntry(e.ancestors[n]));this._showSlideOut({oData:e,selfLink:t,selectedRow:["id",e.id],ancestors:i})},facetClicked:function(){if(!1===this.contentBar.itemMap.facetButton.pushed&&!1===this.contentBar.itemMap.facetButton.$el.find("button").prop("disabled")){var e=this.contentBar.itemMap.facetButton.$el.find("button");this.contentBar.itemMap.facetButton.pushed=!0,this.filterViewController.addFilteredClass(e),this.glassContext.appController.showSlideOut({parent:this.slideout,label:o.get("narrowYourSearch"),width:"200px",content:{module:"bacontentnav/common/FilterView",view:this,searchBarController:null,filterController:this.filterViewController}}).on("hide",function(){this.filterViewController.removeFilteredClass(e),this.contentBar.itemMap.facetButton.pushed=!1,this.setFocus()}.bind(this))}},saveSearchClicked:function(){this.savedSearchclicked||(this.savedSearchclicked=!0,this.glassContext.getCoreSvc(".Ajax").ajax({url:this.savedSearchURL}).then(this.saveSearchValidate.bind(this)).catch(function(e){this.glassContext.appController.showToast(o.get("searchWasntSaved"),{type:"error",preventDuplicates:!1}),this.logger.error("Could not get saved searches"),this.savedSearchclicked=!1}.bind(this)))},saveSearchValidate:function(e){var t=e.data;if(10<=t.length)this.glassContext.appController.showToast(o.get("saveTenSearches")+" "+o.get("deleteASearch"),{type:"warning",preventDuplicates:!1}),this.savedSearchclicked=!1;else{var i=!0;for(var n in t)if(t[n].query===this.getSearchTerm()){i=!1;var a={dataType:"json",type:"DELETE",url:t[n].url};this.glassContext.getCoreSvc(".Ajax").ajax(a).then(this.saveSearch.bind(this));break}i&&this.saveSearch()}},saveSearch:function(){var e=this.getSearchTerm(),t=JSON.stringify({name:e,query:e}),i={url:this.savedSearchURL,type:"POST",contentType:"application/json",data:t};return this.glassContext.getCoreSvc(".Ajax").ajax(i).then(function(){this.glassContext.appController.showToast(o.get("searchWasSaved"),{type:"success",preventDuplicates:!1})}.bind(this)).catch(function(){this.glassContext.appController.showToast(o.get("searchWasntSaved"),{type:"error",preventDuplicates:!1}),this.logger.error("Could not post saved search")}.bind(this)).finally(function(){this.savedSearchclicked=!1}.bind(this))},_getSelectedDisplayTypes:function(){return this.filterViewController?this.filterViewController.getSelectedTypes():""},_getFilteredTypes:function(){var t=[];return c.each(this._getSelectedDisplayTypes(),function(e){t.push(r.getType(e))}),0===t.length?this.defaultTypes:t}});return u}),define("bacontentnav/search/SearchFlyoutView",["./BaseSearchView"],function(e){"use strict";return e.extend({disableColumnHeaders:!0,getModuleName:function(){return"bacontentnav/search/SearchFlyoutView"},_getColumnSpecification:function(){return this._getBaseColumnSpec()}})}),define("bi/content_apps/CASearchFlyoutView",["bacontentnav/search/SearchFlyoutView","bacontentnav/nls/StringResource","./PropertiesPageView"],function(e,t,i){"use strict";var n=e.extend({stateId:"CASearchFlyoutView",init:function(e){n.inherited("init",this,arguments),this.propertiesView=i},showProperties:function(e){this._propertiesOpen||this.togglePropertiesMode(),this.propertiesSlideout=this.glassContext.appController.showSlideOut({label:t.get("properties",{objectName:e.defaultName}),position:this.slideout?null:"right",parent:this.slideout,width:"400",enableTabLooping:!0,onHide:function(){this._focus(),this._propertiesOpen&&this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){this.propertiesSlideout.hide()}.bind(this))}.bind(this),content:{module:i,parentView:this,objectInformation:e,glassContext:this.glassContext},resizable:!0})},_focus:function(){this.$el.focus()}});return n}),define("bi/content_apps/CustomFoldersSlideoutView",["bi/content_apps/LegacyCATeamFoldersView","bacontentnav/utils/ContentServiceUrls"],function(e,t){"use strict";var i=e.extend({init:function(e){i.inherited("init",this,arguments);var t=this.glassContext.getCoreSvc(".UserProfile").userProfileSettings.ui_teamFolders;t&&(this.folder=t.pathRef)},_getModuleName:function(){return"bi/content_apps/CustomFoldersSlideoutView"},_getSwitchedModuleName:function(){this.logger.error("CustomFolders slideout does not support a wide view")},_getDefaultRequestURL:function(){var e=i.inherited("_getDefaultRequestURL",this,arguments);return this.folder&&(e=t.getBaseObjectsURL()+"/"+this.folder+"/items"),e},_getDefaultSelfURL:function(){var e=i.inherited("_getDefaultSelfURL",this,arguments);return this.folder&&(e=t.getBaseObjectsURL()+"/"+this.folder),e}});return i}),define("bacontentnav/common/ui/list_actions/TargetListAction",["./ListAction"],function(e){"use strict";return e.extend({getSelectedContext:function(e){var t=e&&e.target&&e.target.activeObject;return t&&(t.targetSelectedContext||t.aSelectedContext)}})}),define("bacontentnav/ui/dialogs/ErrorDialog",["../../lib/@waca/core-client/js/core-client/ui/core/Class","../../nls/StringResource","jquery","lodash"],function(e,t,i,n){var a=null;return a=e.extend({_buttons:["ok"],init:function(e){this._options=e,n.defaults(this._options,{details:!0}),a.inherited("init",this,[this._options])},open:function(){this._options.glassContext.showMessage(this.renderContent(),this._options.title,"error",this._buttons,this._options.width,void 0,!0,"errorDialog")},renderContent:function(){var e=i("<div>");return this._options.details&&this._options.msg?(e.append("<h3>"+t.get("details")+"</h3>"),e.append(i("<textarea>",{class:"errorDetails",html:n.escape(this._options.msg)}))):e.append(i("<div>",{class:"messageBox "+this.type,html:n.escape(this._options.msg)})),e.html()}})}),define("bacontentnav/common/ui/list_actions/DeleteAction",["lodash","./TargetListAction","../../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../../utils/ContentServiceUrls","../../../utils/ContentStoreObject","../../../utils/GlassContextHelper","../../../nls/StringResource","../../../ui/dialogs/ErrorDialog"],function(c,e,d,u,h,p,m,g){"use strict";var b=[],i=e.extend({isItemVisible:function(e){if(i.inherited("isItemVisible",this,[e])){var t=this.getSelectedContext(e);if(t)return c.every(t,function(e){return h.hasPermissions(e,["write"])})}return!1},execute:function(e){var t=this.getSelectedContext(e);if(t){var i=[];if(Array.isArray(t)&&(i=t.filter(function(t){return b.some(function(e){return t.id===e.id})})),0<i.length)this.showDuplicateDeleteError(e.glassContext);else{var n=[],a=t.length;t=c.filter(t,function(e,t){return!!h.hasPermissions(e,["write"])||(n.push(t),!1)});var o,s=this.onConfirm.bind(this,t,e,n);if(t.length===a)o=m.get("confirmDeleteMessage");else{var r=a-t.length;o=m.get("confirmDeleteAllowed",{number:r})}e.glassContext.appController.Glass.showMessage(o,m.get("confirmDelete"),"info",["cancel","ok"],void 0,function(e){"ok"===e.btn&&s()})}}},onConfirm:function(i,e,n){b=i;var t,a,o=e.glassContext,s=o.getCoreSvc(".Events"),r=this.getListControl(e);if(r&&!e.target.activeObject.renderFromReact&&(r.aSelectedRows=c.filter(r.aSelectedRows,function(e,t){return!n.includes(t)})),1===i.length)t=h.getSelfLink(i[0])+"?force=true&recursive=true",a=m.get("toastDoneDeletingSingular",{nameOfItem:d.enforceTextDirection(i[0].defaultName)});else{for(var l=0;l<i.length;l+=1)0===l?t=u.getBaseObjectsURL()+"?ids="+i[l].id:t+=","+i[l].id;t+="&force=true&recursive=true",a=m.get("toastDoneDeleting",{noOfItems:i.length})}s.trigger("deleteAction:begin",i),o.getCoreSvc(".Ajax").ajax({dataType:"json",type:"DELETE",url:t}).then(function(){b=[],r&&!e.target.activeObject.renderFromReact&&(r.removeSelectedRows(),r.contentView.slideout&&r.contentView.slideout.child&&r.contentView.slideout.child.remove()),i.forEach(function(t){o.getSvc(".Content").then(function(e){e.removeFromMRU(t)})}),p.displayToast(o,a),s.trigger("deleteAction:done",i),e.target.activeObject.onDelete&&e.target.activeObject.onDelete(i)}).catch(function(e){if(e&&"caf"===e.requestInfo.jqXHR.responseJSON.errorCode){var t={type:"repeatedDeleteError",title:m.get("repeatedDeleteError"),msg:e.jqXHR.responseJSON.messages.join("\n"),width:"600px",glassContext:o};new g(t).open()}else p.showAjaxServiceError(o,e);s.trigger("deleteAction:fail",i)})},showDuplicateDeleteError:function(e){var t={type:"repeatedDeleteError",title:m.get("repeatedDeleteErrorTitle"),msg:m.get("repeatedDeleteError"),width:"600px",glassContext:e};new g(t).open()}});return i}),define("bi/content_apps/DeleteMyPortalPageAction",["bacontentnav/common/ui/list_actions/DeleteAction"],function(e){"use strict";return e.extend({isItemVisible:function(e){var t=e&&e.target&&e.target.activeObject,i=t&&t.aSelectedContext&&t.aSelectedContext[0];return"myPageletRef"===(i&&i.type)}})}),define("bi/content_apps/GenericFolderWideView",["bacontentnav/nls/StringResource","bacontentnav/utils/ContentStoreObject","bacontentnav/common/BaseContentWideView","./PropertiesPageView","lodash"],function(t,e,i,n,a){"use strict";var o=i.extend({stateId:"GenericFolderView",init:function(e){this.showParentPropertiesButton=!0,a.extend(this,e),o.inherited("init",this,arguments),this.addURLParameters({fields:"owner.defaultName,modificationTime"})},_getColumnSpecification:function(){return[{type:"Icon",accessibleLabel:t.get("itemType")},{type:"MultipleProperties",orientation:"vertical",items:[{type:"Name"},{type:"Time",displayInline:!0,propertyName:e.MODIFICATION_TIME}]},{type:"Time",propertyName:e.MODIFICATION_TIME,visible:!1},{type:"ContextMenu"}]},showProperties:function(e){this._propertiesOpen||this.togglePropertiesMode(),this.propertiesSlideout=this.glassContext.appController.showSlideOut({label:t.get("properties",{objectName:e.defaultName}),position:this.slideout?null:"left",parent:this.slideout,width:"400",enableTabLooping:!0,onHide:function(){this._propertiesOpen&&this.togglePropertiesMode(),this.propertiesSlideout&&this.propertiesSlideout.contentView&&this.propertiesSlideout.contentView.onHide().then(function(){this.propertiesSlideout.hide()}.bind(this))}.bind(this),content:{module:n,parentView:this,objectInformation:e,glassContext:this.glassContext}})}});return o}),define("bi/content_apps/MyPortalPagesView",["./LegacyCAMyContentView","./nls/StringResource"],function(e,t){"use strict";var i=e.extend({stateId:"PortalPagesView",init:function(e){e.getListControlOptions=function(){return{contextMenuId:"com.ibm.bi.contentApps.pageletRefListViewMenu",getJSONDataCallback:e.glassContext.services.userProfile.getPortalPages}},i.inherited("init",this,arguments),this.filterMenuNamePrefix="MYPORTALPAGES_",this.emptyIcon="#ba_content_nav-folder-portal-pages_32"},getRootAncestor:function(){var e=i.inherited("getRootAncestor",this,arguments);return e.defaultName=t.get("myPortalPages"),e.type="pageletRefs",e.id=".my_portalPages",e}});return i}),define("text!bi/content_apps/common/templates/PageletViewTemplate.html",[],function(){return'\x3c!-- Licensed Materials - Property of IBM\n \n     IBM Cognos Products: Content Explorer\n \n     (C) Copyright IBM Corp. 2018\n \n   US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.\n--\x3e\n<div class="genericIframe_container">\n\t<iframe src="{{=it.genericIframe_url}}" title="{{=it.genericIframe_title}}" class="genericIframe_iframe"/>\n</div>\n'}),define("bi/content_apps/PageletView",["bi/glass/app/ContentView","text!bi/content_apps/common/templates/PageletViewTemplate.html","bi/glass/api/Url","jquery","doT"],function(e,i,a,o,n){"use strict";var s=e.extend({init:function(e,t){if(o.extend(this,e),t){var i="common.navBarAction.hideNavBarItemLabelsAction",n=t.glassContext;n.appController.canExecuteAction(i,{glassContext:n}).then(function(e){if(e)return n.appController.performAction(i,{glassContext:n})})}this._url=new a,s.inherited("init",this,arguments)},setFocus:function(){e.inherited("setFocus",this,arguments),this.trigger("change:state")},render:function(){return this._url.getObjInfoFromContent(this.glassContext.services.ajax,{objRef:this.id},["defaultName"]).then(function(e){this.defaultName=e.defaultName;var t="v1/disp?b_action=dashboard&pathinfo=/pagelet&path=storeID("+encodeURIComponent('"'+this.id+'"')+")&frag-header=false";return this._injectiFrame({genericIframe_url:t})}.bind(this))},getContent:function(){return{objRef:this.id,id:this.id}},getType:function(){return"pagelet"},getTitle:function(){return this.defaultName},execute:function(e){return{perspective:"pagelet",objRef:e.urlMap.objRef}},_injectiFrame:function(e){o.extend(e,{genericIframe_title:this.getTitle()});var t=n.template(i)(e);return this.$el.append(t),Promise.resolve()}});return s}),define("bi/content_apps/ui/CA_DateTimePicker",["bi/commons/ui/widgets/DatePicker","bi/commons/ui/widgets/TimePicker","bi/commons/utils/DateTimeUtils","bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/BaseProperty","bacontentnav/utils/GlassContextHelper","bacontentnav/utils/UIHelper","lodash"],function(i,n,a,t,o,e,s){"use strict";return t.extend({init:function(e){t.inherited("init",this,arguments),s.extend(this,e),this._time={}},doRender:function(){this._container=$("<div>",{class:"ca_timeDatePickerContainer"});var e=$("<div/>");this._container.append(e),this.$el.append(this._container);var t={attributes:{firstDay:1},drawNoEndDate:!1,$el:e,timezone:o.getUserPreference(this.glassContext,"timeZoneID"),locale:o.getUserPreference(this.glassContext,"contentLocale")};return this._datePicker=new i(t),this._datePicker.render().then(function(){var e=new Date;this._datePicker.setDateFormat("yy-mm-dd"),this._datePicker.setDate(e);var t=$("<div/>");this._container.append(t),this._timePicker=new n({$el:t,timezone:o.getUserPreference(this.glassContext,"timeZoneID"),attributes:{showMeridian:!a.is24HrFormat(o.getUserPreference(this.glassContext,"contentLocale"))}}),this._timePicker.render(),this._container.hide()}.bind(this))},getModifiedProperties:function(){return this._time[this.name]=this._timePicker.getDateTimeUTC(this._datePicker.getDateObj()),this._time},show:function(){this._container.slideDown(e.SLIDE_DURATION)},hide:function(){this._container.slideUp(e.SLIDE_DURATION)}})}),define("bi/content_apps/ui/CA_DeliveryPickerView",["bi/schedule/views/DeliveryPickerView","bi/content_apps/nls/StringResource","bi/schedule/views/OptionsSlideoutView"],function(i,t,e){"use strict";var n=e.extend({init:function(e){e.title=t.get("delivery"),n.inherited("init",this,arguments)},render:function(){return this._renderContent(),n.inherited("render",this,arguments)},shouldShowMobile:function(){var e=["interactiveReport","report","query","analysis"];return-1!==e.indexOf(this.objectInformation.type)||"reportView"===this.objectInformation.type&&-1!==e.indexOf(this.objectInformation.base[0].type)},_renderContent:function(){if(!this.content){var e={reportName:this.objectInformation.defaultName,showMobile:this.shouldShowMobile(),enableAdvancedSettings:!0,glassContext:this.glassContext,deliveryOptions:this.deliveryOptions||{},$toggler:$("<div></div>"),slideout:this.slideout,hasPermission:this.objectInformation.permissions,rawOptions:this.objectInformation.rawOptions};this._deliveryPickerView=new i(e),this._deliveryPickerView.render();var t=this._deliveryPickerView.getDeliveryContent(!this.burstSelected);this.content=$(t)}},_close:function(){this.remove(),this.slideout.hide({hideOnly:!0})},remove:function(){this.closeCallback&&"function"==typeof this.closeCallback&&this.closeCallback(this._deliveryPickerView.getDeliveryOptions())},setUpCallback:function(e){this._deliveryPickerView.setDeliveryOptions(e,null)}});return n}),define("bi/content_apps/utils/Utils",[],function(){"use strict";var t=/[<>&]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;"},n=/[<>&'"]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};return{htmlEncode:function(e){return(e||"").replace(t,function(e){return i[e]})},xmlEncode:function(e){return e||0===e?String(e).replace(n,function(e){return a[e]}):""}}}),define("bi/content_apps/PdfOptionsView",["jquery","lodash","bi/content_apps/nls/StringResource","bi/content_apps/utils/Utils","bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/PropertyPageView","bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/PropertyUIControl","bacontentnav/utils/GlassContextHelper"],function(s,t,r,n,e,i,a){"use strict";var o=e.extend({init:function(e){o.inherited("init",this,arguments),t.extend(this,e)},_getBannerSpec:function(){var e={type:"Banner",name:"pdfOptionsBanner",value:r.get("pdfOptions"),centerLabel:!0,backButton:this.slideout.overlay,editable:!1,readOnly:!0,onClose:function(){var e=this.getModifiedProperties();if(this._validatePasswords(e)){if(this.slideout.hide(),this.closeCallback){var t=this._getFullPdfOptions(this._getOptions(),e);this.closeCallback(t)}}else a.displayToast(this.glassContext,r.get("passwordNotMatched"),{type:"warning"})}.bind(this)};return this.showCancel&&(e.clickables=[{type:"text",value:r.get("cancel"),class:"cancelPdfOptions",clickCallback:function(){this.cancelled=!0,this.slideout.hide(),this.cancelCallback&&this.cancelCallback()}.bind(this)}]),e},render:function(){var e=this._getOption(this._getOptions(),"outputPageOrientation"),t=this._getOption(this._getOptions(),"outputPageDefinition"),i=this._getOption(this._getOptions(),"ownerPassword"),n=this._getPasswordValue(i),a=this._getOption(this._getOptions(),"userPassword"),o=this._getPasswordValue(a);return this.renderPropertyUIControl({el:this.$el,glassContext:this.glassContext,slideout:this.slideout,items:[this._getBannerSpec(),{type:"DropDown",name:"outputPageOrientation",label:r.get("Orientation"),options:[{label:r.get("default"),value:"default",selected:void 0===e},{label:r.get("portrait"),value:"portrait",selected:e&&"portrait"===e.value},{label:r.get("landscape"),value:"landscape",selected:e&&"landscape"===e.value}]},{type:"Separator"},{type:"DropDown",name:"outputPageDefinition",label:r.get("pageSize"),options:[{label:r.get("default"),value:"default",selected:void 0===t},{label:r.get("letter"),value:"/configuration/pageDefinition[@name='Letter']",selected:t&&"/configuration/pageDefinition[@name='Letter']"===t.value},{label:r.get("legal"),value:"/configuration/pageDefinition[@name='Legal']",selected:t&&"/configuration/pageDefinition[@name='Legal']"===t.value},{label:r.get("11x17"),value:"/configuration/pageDefinition[@name='11x17']",selected:t&&"/configuration/pageDefinition[@name='11x17']"===t.value},{label:r.get("A3"),value:"/configuration/pageDefinition[@name='A3']",selected:t&&"/configuration/pageDefinition[@name='A3']"===t.value},{label:r.get("A4"),value:"/configuration/pageDefinition[@name='A4']",selected:t&&"/configuration/pageDefinition[@name='A4']"===t.value},{label:r.get("B4JIS"),value:"/configuration/pageDefinition[@name='B4 JIS']",selected:t&&"/configuration/pageDefinition[@name='B4 JIS']"===t.value},{label:r.get("B5JIS"),value:"/configuration/pageDefinition[@name='B5 JIS']",selected:t&&"/configuration/pageDefinition[@name='B5 JIS']"===t.value}]},{type:"Separator"},{name:"checkboxUserPassword",checked:void 0!==a,label:r.get("requiresPasswordToOpenReport"),type:"CheckBox",onChange:function(e,t){this._passwordCheckOnChange(t,"userPassword","userPasswordConfirm")}.bind(this)},{name:"userPassword",label:r.get("password"),ariaLabel:r.get("requiresPasswordToOpenReport"),value:o,indent:2,editable:!0,disabled:void 0===a,type:"SingleLineValue",multiline:!0,inputType:"password",showEmptyBorder:!0,highlightTextOnFocus:!0},{name:"userPasswordConfirm",label:r.get("confirmPassword"),ariaLabel:r.get("requiresPasswordToOpenReport")+" "+r.get("confirmPassword"),value:o,indent:2,editable:!0,disabled:void 0===a,type:"SingleLineValue",multiline:!0,inputType:"password",showEmptyBorder:!0,highlightTextOnFocus:!0},{type:"Separator"},{name:"checkboxOwnerPassword",checked:void 0!==i,label:r.get("requiresPasswordToAccessOptions"),type:"CheckBox",onChange:function(e,t){this._passwordCheckOnChange(t,"ownerPassword","ownerPasswordConfirm")}.bind(this)},{name:"ownerPassword",label:r.get("password"),ariaLabel:r.get("requiresPasswordToAccessOptions"),value:n,indent:2,editable:!0,disabled:void 0===i,type:"SingleLineValue",multiline:!0,inputType:"password",showEmptyBorder:!0,highlightTextOnFocus:!0},{name:"ownerPasswordConfirm",label:r.get("confirmPassword"),ariaLabel:r.get("requiresPasswordToAccessOptions")+" "+r.get("confirmPassword"),value:n,indent:2,editable:!0,disabled:void 0===i,type:"SingleLineValue",multiline:!0,inputType:"password",showEmptyBorder:!0,highlightTextOnFocus:!0}]})},_getPasswordValue:function(e){var t="";if(!e)return t;if(!this.isEncrypedPassword(e.value)){var i=e.value,n=this._createOption(e.name,e.value);return e.value=n.value,i}if(0<e.value.length){var a=s.parseXML(e.value),o=s(a).find("password");o.text().length?t=o.text():(o=s(a).find("encryptedValue")).text().length&&(t="********")}return t},_passwordCheckOnChange:function(e,t,i){var n=this._oPropertyUIControl.getProperty(t),a=this._oPropertyUIControl.getProperty(i);e?(n.enable(),a.enable()):(n.disable(),n.setValue(""),a.disable(),a.setValue(""))},onClose:function(){if(this._oPropertyUIControl)return this._oPropertyUIControl.onClose()},getModifiedProperties:function(){return this.cancelled?null:this._oPropertyUIControl?this._oPropertyUIControl.getModifiedProperties():null},_validatePasswords:function(e){if(!e)return!0;if((e.userPassword||e.userPasswordConfirm)&&e.userPassword!==e.userPasswordConfirm)return this._oPropertyUIControl.getProperty("userPassword").getHTMLControl().focus(),!1;if((e.ownerPassword||e.ownerPasswordConfirm)&&e.ownerPassword!==e.ownerPasswordConfirm)return this._oPropertyUIControl.getProperty("ownerPassword").getHTMLControl().focus(),!1;if(void 0!==e.checkboxUserPassword){if(e.checkboxUserPassword){if(!e.userPassword||!e.userPasswordConfirm)return!1}else if(e.userPassword||e.userPasswordConfirm)return!1}else if(void 0!==e.userPassword&&!e.userPassword)return!1;if(void 0!==e.checkboxOwnerPassword){if(e.checkboxOwnerPassword){if(!e.ownerPassword||!e.ownerPasswordConfirm)return!1}else if(e.ownerPassword||e.ownerPasswordConfirm)return!1}else if(void 0!==e.ownerPassword&&!e.ownerPassword)return!1;return!0},_setOption:function(e,t,i){for(var n=0;n<e.length;n+=1)if(e[n].name===t.name)return void(i?e.splice(n,1):e[n].value=t.value);i||e.push(t)},_getFullPdfOptions:function(e,t){var i=[];if(e.forEach(function(e){i.push(e)}),t){if(t.outputPageDefinition){var n=this._createOption("outputPageDefinition",t.outputPageDefinition);this._setOption(i,n,"default"===t.outputPageDefinition)}if(t.outputPageOrientation){var a=this._createOption("outputPageOrientation",t.outputPageOrientation);this._setOption(i,a,"default"===t.outputPageOrientation)}if(void 0!==t.userPassword){var o=this._createOption("userPassword",t.userPassword);this._setOption(i,o,0===t.userPassword.length)}if(void 0!==t.ownerPassword){var s=this._createOption("ownerPassword",t.ownerPassword);this._setOption(i,s,0===t.ownerPassword.length)}if(void 0!==t.checkboxOwnerPassword)for(var r=this._getCheckOptions(t.checkboxOwnerPassword),l=0;l<r.length;l+=1)this._setOption(i,r[l],!1)}return i},_getOption:function(e,t){for(var i,n=0;n<e.length;n+=1)if(e[n].name===t){i=e[n];break}return i},_getOptions:function(){return this.pdfOptions||(this.pdfOptions=[]),this.pdfOptions},_getCheckOptions:function(e){return[{name:"allowPrintQuality",type:"pdfOptionPrintQuality",value:e?"none":"lowOrHigh"},{name:"allowModifications",type:"pdfOptionBoolean",value:!e},{name:"allowAnnotations",type:"pdfOptionBoolean",value:!e},{name:"allowFieldCompletion",type:"pdfOptionBoolean",value:!e},{name:"allowAssembly",type:"pdfOptionBoolean",value:!e},{name:"allowContentCopy",type:"pdfOptionBoolean",value:!e},{name:"allowAccessibilitySupport",type:"pdfOptionBoolean",value:!0}]},_canClose:function(){return!0},_createOption:function(e,t){var i;return"outputPageDefinition"===e?i={name:"outputPageDefinition",type:"runOptionString",value:t}:"outputPageOrientation"===e?i={name:"outputPageOrientation",type:"runOptionString",value:t}:"userPassword"===e?i={name:"userPassword",type:"pdfOptionXMLEncodedXML",value:"<credential><password>"+n.xmlEncode(t)+"</password></credential>"}:"ownerPassword"===e&&(i={name:"ownerPassword",type:"pdfOptionXMLEncodedXML",value:"<credential><password>"+n.xmlEncode(t)+"</password></credential>"}),i},remove:function(){this.slideout.overlay||this.onClose()},isEncrypedPassword:function(e){return/<credential><encryptedValue>.*<\/encryptedValue><\/credential>/.test(e)||/<credential><password>.*<\/password><\/credential>/.test(e)},setFocus:function(){this.slideout.overlay?this._oPropertyUIControl.setFocus("pdfOptionsBanner"):this._oPropertyUIControl.setFocus("outputPageOrientation")}});return o}),define("text!bi/content_apps/ui/templates/PowerPlayPromptPickerView.html",[],function(){return'\x3c!-- Licensed Materials - Property of IBM\n \n     IBM Cognos Products: Content Explorer\n \n     (C) Copyright IBM Corp. 2017\n \n   US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.\n--\x3e\n<form id="ppForm" name="ppForm" action="v1/disp" method="post" >\n\t\t\t<input type="hidden" name="b_action" value="xts.run"/>\n\t\t\t{{?it.runNow}}\n\t\t\t\t<input type="hidden" name="m" value="portal/launch.xts"/>\n\t\t\t\t<input type="hidden" name="ui.tool" value="PowerplayStudio"/>\n\t\t\t\t<input type="hidden" name="ui.crnfrm" value="PDF"/>\n\t\t\t\t<input type="hidden" name="ui.crnp" value="true"/>\n\t\t\t\t<input type="hidden" name="ui.object" value="storeID(\'{{=it.reportId}}\')"/>\n\t\t\t\t<input type="hidden" name="launch.openJSStudioInFrame" value="true"/>\n\t\t\t\t<input type="hidden" name="ui.gateway" value="disp"/>\n\t\t\t\t<input type="hidden" name="ui.action" value="run"/>\n\t\t\t{{?}}\n\t\t\t{{?it.runBackground}}\n\t\t\t\t<input type="hidden" name="backgroundRun" value="{{=it.backgroundTime}}"/>\n\t\t\t\t<input type="hidden" name="m" value="portal/runWithOptions/report_confirm.xts"/>\n\t\t\t\t<input type="hidden" name="m_pp8ro_prompt" value="true"/>\n\t\t\t\t<input type="hidden" name="m_ro_saveOutput" value="true"/>\n\t\t\t\t<input type="hidden" name="m_class" value="powerPlay8Report"/>\n\t\t\t\t<input type="hidden" name="m_obj" value="storeID(\'{{=it.reportId}}\')"/>\n\t\t\t\t<input type="hidden" name="method" value="edit"/>\n\t\t\t\t<input type="hidden" name="showSummary" value="y"/>\n\t\t\t\t<input type="hidden" name="fromCA" value="true"/>\n\t\t\t\t<input type="hidden" name="backURL" value="disp?b_action=xts.run&m=portal/close.xts&ui.compid=ca"/>\n\t\t\t\t<input type="hidden" name="m_pp8ro_outputFormat" value="PDF"/>\n\t\t\t\t{{?it.languageOptions}}\n\t\t\t\t\t{{~it.languageOptions :lang:index}}\n\t\t\t\t\t\t<input type="hidden" name="language" value="{{=lang}}"/>\n\t\t\t\t\t\t<input type="hidden" name="m_ro_outputLocale" value="{{=lang}}"/>\n\t\t\t\t\t{{~}}\n\t\t\t\t{{?}}\n\t\t\t\t{{?it.executionDate}}\n\t\t\t\t\t<input type="hidden" name="p_runDate" value="{{=it.executionDate}}"/>\n\t\t\t\t\t<input type="hidden" name="p_runTime" value="{{=it.executionTime}}"/>\n\t\t\t\t\t<input type="hidden" name="txtDatedateFrom" value="{{=it.executionDate}}"/>\n\t\t\t\t\t<input type="hidden" name="minutestimeFrom" value="{{=it.displayMinutes}}"/>\n\t\t\t\t\t<input type="hidden" name="hourstimeFrom" value="{{=it.displayHours}}"/>\n\t\t\t\t\t<input type="hidden" name="AMPMtimeFrom" value="{{=it.amPM}}"/>\n\t\t\t\t\n\t\t\t\t{{?}}\n\t\t\t\t{{?it.ca_deliveryOptions}}\n\t\t\t\t\t<input type="hidden" name="m_ro_email" value=\'true\'/>\t\n\t\t\t\t\t<input type="hidden" name="m_sp_credential" value="CAMID(\'LDAP:u:uid=user0,ou=ottawa\')/credential[@name=\'Credential\']"/>\t\n\t\t\t\t\t<input type="hidden" name="ca_deliveryOptions" value=\'{{=it.ca_deliveryOptions}}\'/>\t\n\t\t\t\t\t<input type="hidden" name="hasRecipients" value=\'true\'/>\n\t\t\t\t\t<input type="hidden" name="emailDescription" value=\'{{=it.emailRecipients}}\'/>\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<input type="hidden" name="deliverySection" value=\'true\'/>\t\n\t\t\t\t\t<input type="hidden" name="hasRecipients" value=\'true\'/>\t\n\t\t\t\t\t\n\t\t\t\t\t{{?it.emailAsAttachment}}\n\t\t\t\t\t\t<input type="hidden" name="m_ro_emailAsAttachment" value=\'true\'/>\t\n\t\t\t\t\t\t<input type="hidden" name="run_with_options_allowEmailAsAttachment" value=\'true\'/>\n\t\t\t\t\t{{?}}\n\t\t\t\t\t{{?it.emailAsURL}}\n\t\t\t\t\t\t<input type="hidden" name="m_ro_emailAsURL" value=\'true\'/>\t\n\t\t\t\t\t{{?}}\n\t\t\t\t\t{{?it.printer}}\n\t\t\t\t\t\t<input type="hidden" name="ro_printer_kw" value=\'printer\'/>\n\t\t\t\t\t\t<input type="hidden" name="select_printerName" value=\'{{=it.printer}}\'/>\n\t\t\t\t\t\t<input type="hidden" name="select_printerNameAddress" value=\'CAMID(":")/printer[@name="{{=it.printer}}"]\'/>\n\t\t\t\t\t\t<input type="hidden" name="m_ro_printer" value=\'CAMID(":")/printer[@name="{{=it.printer}}"]\'/>\n\t\t\t\t\t\t<input type="hidden" name="printeritem" value=\'CAMID(":")/printer[@name="{{=it.printer}}"]\'/>\n\t\t\t\t\t\t<input type="hidden" name="m_ro_printerAddress" value=\'{{=it.printer}}\'/>\n\t\t\t\t\t\t<input type="hidden" name="m_ro_print" value=\'true\'/>\n\t\t\t\t\t{{?}}\t\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t{{?}}\n\t\t\t{{?}}\n\t\t</form>\n'}),define("bi/content_apps/ui/PowerPlayPromptPickerView",["bi/schedule/views/PromptPickerView","jquery","bacontentnav/lib/@waca/core-client/js/core-client/utils/Deferred","doT","text!bi/content_apps/ui/templates/PowerPlayPromptPickerView.html"],function(e,s,r,l,c){var t=e.extend({init:function(e){t.inherited("init",this,arguments)},_updateForSubmit:function(e){e.find(".prompt-iframe").contents().find('form[name="ppForm"]').submit()},showPromptOverlay:function(){var e=new r,t=s("<div class='prompt-overlay'><iframe title='{{=it.prompt_title}}' class='prompt-iframe'/></div>"),i=l.simpleTemplate(c),n={reportId:this.reportId,backgroundTime:"now"};if(this.ca_deliveryOptions&&(n.ca_deliveryOptions=this.ca_deliveryOptions,n.emailRecipients=this.deliveryOptions.email.to.length+this.deliveryOptions.email.bcc.length+this.deliveryOptions.email.cc.length,n.emailAsAttachment=!0===this.deliveryOptions.email.emailAsAttachment,n.emailAsURL=!0===this.deliveryOptions.email.emailAsURL,this.deliveryOptions.print&&(n.printer=this.deliveryOptions.print.name)),this.languageOptions&&(n.languageOptions=this.languageOptions),this.executionTime){var a=this.executionTime.split("T");n.executionDate=a[0];var o=a[1].split("-")[0].split(":");n.displayHours=o[0],n.displayMinutes=o[1],n.executionTime=n.displayHours+":"+n.displayMinutes+":00.000",n.amPM=12<parseInt(n.displayHours)?"PM":"AM",n.backgroundTime="later"}return s("body").append(t),this.openInTab?n.runNow=!0:n.runBackground=!0,t.find(".prompt-iframe").contents().find("html").html(i(n)),this.openInTab?s(t.find(".prompt-iframe").contents().find('form[name="ppForm"]')).attr("target","_blank"):window.ccModalCallBack=function(){delete window.ccModalCallBack,t.remove()},this._updateForSubmit(t),this.$promptOverlay=s("body").find(".prompt-overlay"),this.openInTab&&t.remove(),e.resolve(),e.promise}});return t}),define("bi/content_apps/authoring/AuthoringHelper",["bacontentnav/utils/ContentStoreObject","bacontentnav/utils/UIHelper"],function(n,a){"use strict";var o={_getFormatIndex:function(e){var t=o._getObjectType(e);return o.SUPPORTED_FORMATS[t]?t:"all"},_getObjectType:function(e){var t=n.getType(e);if("powerPlay8ReportView"===t)return"powerPlay8Report";var i=a.getBaseTypes(t);return i&&0<i.length&&n.getBase(e)&&n.getBase(e).type||t},setReportType:function(e,t){"powerPlay8Report"===o._getObjectType(t)&&(e.reportType="powerPlay8Report")},getSupportedFormats:function(e){return o.SUPPORTED_FORMATS[o._getFormatIndex(e)]},userCanGenerateFormat:function(e,t){var i=o.FORMAT_CAPABILITY_MAP[t];return!i||e.hasCapability(i)},SUPPORTED_FORMATS:{all:["spreadsheetML","xlsxData","PDF","HTML","CSV","XML"],interactiveReport:["HTML"],powerPlay8Report:["PDF"]},FORMAT_CAPABILITY_MAP:{HTML:null,PDF:"canGeneratePDFOutput",spreadsheetML:"canGenerateXLSOutput",xlsxData:"canGenerateXLSOutput",CSV:"canGenerateCSVOutput",XML:"canGenerateXMLOutput"},FORMAT_MESSAGE_KEY_MAP:{HTML:"html",PDF:"pdf",spreadsheetML:"spreadsheetML",xlsxData:"xlsxData",CSV:"csv",XML:"xml"}};return o}),define("bi/content_apps/RunAsOptionsView",["lodash","bi/glass/app/ContentView","bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/PropertyUIControl","bi/content_apps/nls/StringResource","bacontentnav/utils/ContentStoreObject","bi/commons/ui/Button","bacontentnav/utils/GlassContextHelper","bi/schedule/views/PromptPickerView","bi/content_apps/ui/CA_DateTimePicker","bi/content_apps/ui/CA_DeliveryPickerView","bi/content_apps/PdfOptionsView","bi/content_apps/ui/PowerPlayPromptPickerView","bi/content_apps/utils/C10Utils","bacontentnav/utils/UIHelper","bi/content_apps/authoring/AuthoringHelper"],function(n,e,a,o,i,s,t,r,l,c,d,u,h,p,m){"use strict";var g=e.extend({_getReportOutputFormat:function(e){var t=i.getOption(e,i.OPTION_OUTPUT_FORMAT);return m.userCanGenerateFormat(this.glassContext,t)||(t="HTML"),t},init:function(e){g.inherited("init",this,arguments),n.extend(this,e),this._userPermissions=e.objectInformation.permissions,this._supportedFormats=m.getSupportedFormats(this.objectInformation),this._userContentLocale=t.getUserPreference(this.glassContext,"contentLocale"),this._userFormat=t.getUserPreference(this.glassContext,"format"),this._outputFormat=this._getReportOutputFormat(e.objectInformation)?this._getReportOutputFormat(e.objectInformation):this._userFormat,this._selections={},this._selections.formats={},this._selections.formats[this._outputFormat]=!0,this._requestParams={},this._requestParams.options={},m.setReportType(this._requestParams,this.objectInformation),this._appController=this.glassContext.appController,this._promptValue=i.getExecutionPrompt(this.objectInformation)},setFocus:function(){this.$el.find("button.primary").focus()},render:function(){this.$el.addClass("runAsOptionsView");var e=this._userPermissions.includes("write")||this._userPermissions.includes("execute"),t=this._getRunAsItemsSpec(e),i=n.compact(t);return this._runOptionsControl=new a({el:this.$el,items:i,glassContext:this.glassContext,readOnly:!p.isValid(this.objectInformation)}),this._runOptionsControl.render().then(function(){this._runInBackgroundOptionsControl=this._runOptionsControl.getProperty("runInBackgroundOptions"),this._runAsOptionsControl=this._runOptionsControl.getProperty("runAsOptions");var e=$('<a style="padding-left:10px;cursor:pointer;">'+o.get("classicView")+"</a>");if(e.on("primaryaction",function(){var e="jobDefinition"===this.objectInformation.type?"portal/runWithOptions/jobDefinition.xts":"portal/runWithOptions/report.xts";h.openC10Morphlet(e,this.objectInformation.type,this.objectInformation.id,[{m_name:this.objectInformation.defaultName}])}.bind(this)),$(this.$el.find(".l_delivery").parent().parent()).append(e),!p.isValid(this.objectInformation)){var t=this._runOptionsControl.getProperty("runAsFooter");if(t){var i=t.getProperty("okButton");i&&i.disable()}}}.bind(this))},_getRunAsItemsSpec:function(e){return[this._getBannerSpec(),this._getSeparatorSpec(),e&&this._getRunInBackgroundToggleSpec(),this._getSeparatorSpec(),this._getRunInBackgroundOptionsSpec(),this._getRunAsOptionsSpec(),this._getFooterSpec()]},_getFooterSpec:function(){return{type:"Footer",name:"runAsFooter",items:[{type:"Button",name:"okButton",label:o.get("run"),onSelect:this._onRun.bind(this),primary:!0}]}},_getBannerSpec:function(){return{type:"Banner",name:"runAsBanner",value:o.get("runAs"),editable:!1}},_renderButtons:function(){var e=$("<div>",{class:"buttonRow"});this.$el.append(e);var t=new s({buttonSpec:{label:o.get("run"),onSelect:this._onRun.bind(this)}});return t.render(),e.append(t.$el),Promise.resolve(!0)},_getSeparatorSpec:function(){return{type:"Separator"}},_getRunInBackgroundToggleSpec:function(){return{name:g.OPTION.RUN_IN_BG,checked:!1,label:o.get("runInBackgroundOption"),type:"ToggleButton",onChange:this._toggleOptionsControl.bind(this)}},_toggleOptionsControl:function(){this._runInBackgroundOptionsControl.toggleCollapsibleSection(),this._runAsOptionsControl.toggleCollapsibleSection(),this._copySelectionForRunInBackgroundToggle(),this._copyPromptForValuesOnRunInBackgroundChange()},_copyPromptForValuesOnRunInBackgroundChange:function(){var e=this._runOptionsControl.getModifiedProperties()[g.OPTION.RUN_IN_BG],t=this._runAsOptionsControl.getProperty(g.OPTION.PROMPT),i=this._runInBackgroundOptionsControl.getProperty(g.OPTION.PROMPT),n=e?i:t;(e?t.checked:i.checked)?n.checked||n.check():n.checked&&n.uncheck()},_copySelectionForRunInBackgroundToggle:function(){if(1!==this._supportedFormats.length){var i=this._runOptionsControl.getModifiedProperties();if(i[g.OPTION.RUN_IN_BG])$.each(this._supportedFormats,function(e,t){m.userCanGenerateFormat(this.glassContext,t)&&this._runOptionsControl.getProperty(t).uncheck()}.bind(this)),this._runOptionsControl.getProperty(i[g.OPTION.RUNFORMAT]||this._outputFormat).check();else{var n=null;$.each(this._supportedFormats,function(e,t){if(i[t])return n=t,!1}.bind(this)),this._runOptionsControl.getProperty(g.OPTION.RUNFORMAT).setValue(n||this._outputFormat)}}},_getRunInBackgroundOptionsSpec:function(){return{type:"CollapsibleSection",name:"runInBackgroundOptions",hideSectionTitle:!0,items:this._getRunInBackgroundFormatsSpec().concat(this._getSeparatorSpec(),this._getPromptForValuesOptionSpec(),this._getPromptGenerationHintText(this._promptValue),this._getAdvancedSectionSpec())}},_getRunAsOptionsSpec:function(){return{type:"CollapsibleSection",name:"runAsOptions",hideSectionTitle:!0,items:[this._getRunAsFormatsSpec(),this._getSeparatorSpec(),this._getPromptForValuesOptionSpec(),this._getSeparatorSpec()],open:!0}},_getRunInBackgroundFormatsSpec:function(){if(1===this._supportedFormats.length)return[this._getSingleFormatSpec(this._supportedFormats[0])];var t=[];return this._supportedFormats.forEach(function(e){m.userCanGenerateFormat(this.glassContext,e)&&t.push({type:"CheckBox",name:e,label:o.get(m.FORMAT_MESSAGE_KEY_MAP[e]),value:e,controlOnLeft:!0,checked:this._outputFormat===e,onChange:this._updateSelectedFormat.bind(this)})}.bind(this)),[{type:"CollapsibleSection",hideSectionTitle:!0,open:!0,name:g.OPTION.OUTPUTFORMAT,ariaLabel:o.get("formatOptions"),items:t}]},_getRunAsFormatsSpec:function(){if(1===this._supportedFormats.length)return this._getSingleFormatSpec(this._supportedFormats[0]);var t=[];return this._supportedFormats.forEach(function(e){m.userCanGenerateFormat(this.glassContext,e)&&t.push({name:e,label:o.get(m.FORMAT_MESSAGE_KEY_MAP[e]),value:e})}.bind(this)),{type:"RadioButtonGroup",ariaLabel:o.get("formatOptions"),name:g.OPTION.RUNFORMAT,value:this._outputFormat,controlOnLeft:!0,separator:!1,items:t}},_getSingleFormatSpec:function(e){return{type:"SingleLineValue",name:e,label:o.get(e),value:""}},_getPromptForValuesOptionSpec:function(){return{type:"CheckBox",name:g.OPTION.PROMPT,label:o.get("promptForValues"),controlOnLeft:!0,checked:i.getExecutionPrompt(this.objectInformation),onChange:this._togglePromptValue.bind(this)}},_getPromptGenerationHintText:function(e){return{type:"HintText",name:"promptGenerationHintText",label:o.get("promptGenerationHint"),visibility:this._getCssVisibility(e)}},_togglePromptValue:function(e,t){this._promptValue=t,this._showHidePromptGenerationHintText(this._promptValue)},_showHidePromptGenerationHintText:function(e){var t=this._getCssVisibility(e);this._runOptionsControl.getProperty("promptGenerationHintText").visibility=t,this.$el.find(".l_promptGenerationHintText").css("visibility",t)},_getCssVisibility:function(e){return e?"visible":"hidden"},_getAdvancedSectionSpec:function(){var e=[this._getRunNowOrLaterOptions(),this._getExecutionTimePicker(),this._getBurstOptionSpec(),this._getPDFOptionsSpec(),this._getLanguagesOptionSpec(),this._getDeliveryOptionsSpec()].filter(function(e){return!!e});return{type:"CollapsibleSection",name:"advancedProperties",label:o.get("advancedProperties"),items:e}},_getRunNowOrLaterOptions:function(){return{type:"HorizontalRadioButtonGroup",name:g.OPTION.RUN_NOW_OR_LATER,value:"now",controlOnLeft:!0,ariaLabel:o.get("nowOrLaterRadioOptions"),onChange:this._toggleDatetimePicker.bind(this),items:[{name:g.OPTION.RUN_NOW,value:g.OPTION.RUN_NOW,label:o.get("now")},{label:o.get("later"),name:g.OPTION.RUN_LATER,value:g.OPTION.RUN_LATER}]}},_toggleDatetimePicker:function(e,t){this._lastRunNowOrLaterOption!==t&&(this._datetimePicker||(this._datetimePicker=this._runOptionsControl.getProperty(g.OPTION.EXECUTIONTIME)),t===g.OPTION.RUN_LATER?this._datetimePicker.show():this._datetimePicker.hide(),this._lastRunNowOrLaterOption=t)},_getExecutionTimePicker:function(){return{module:l,name:g.OPTION.EXECUTIONTIME,glassContext:this.glassContext}},_getBurstOptionSpec:function(){if(i.canBurst(this.objectInformation)&&this.glassContext.hasCapability("canUseBursting"))return{type:"CheckBox",name:g.OPTION.BURST,label:o.get("burst"),value:g.OPTION.BURST,onChange:this._updateBurstSelected.bind(this)}},_getPDFOptionsSpec:function(){if(1!==this._supportedFormats.length&&m.userCanGenerateFormat(this.glassContext,"PDF"))return{type:"SingleLineValue",name:g.OPTION.ADVANCED_PDF,label:o.get("pdf"),editCallback:this._showMoreOptionsPane.bind(this,this._getMorePDFOptionsSpec.bind(this)),hidden:!0}},_getLanguagesOptionSpec:function(){return{type:"SingleLineValue",name:g.OPTION.LANGUAGES,label:o.get("languages"),editCallback:this._showMoreOptionsPane.bind(this,this._getMoreLanguageOptionsSpec.bind(this))}},_getDeliveryOptionsSpec:function(){return{type:"SingleLineValue",name:g.OPTION.DELIVERY,label:o.get("delivery"),editCallback:this._showMoreOptionsPane.bind(this,this._getMoreDeliveryOptionsSpec.bind(this))}},_showMoreOptionsPane:function(e){"function"!=typeof e&&this.logger.debug("getContentSpecFunc is not a function");var t=this.slideout;e().then(function(e){this._slideout=this._appController.showSlideOut({position:"left",parent:t,width:"400",enableTabLooping:!0,overlay:void 0===e.overlay||e.overlay,content:e.slideoutContent,label:e.slideoutLabel})}.bind(this))},_getMoreDeliveryOptionsSpec:function(){var e={overlay:!0,slideoutContent:{module:c,closeCallback:this._closeMoreDeliveryOptionsSlideout.bind(this),objectInformation:this.objectInformation,glassContext:this.glassContext,deliveryOptions:this._selections.delivery,burstSelected:!!this._selections[g.OPTION.BURST]},slideoutLabel:o.get("delivery")};return Promise.resolve(e)},_getMoreLanguageOptionsSpec:function(){var e={module:"bi/content_apps/common/ui/LanguagePickerView",closeCallback:this._closeMoreLanguageOptionsSlideout.bind(this)};this._selections.languages&&(e.enabledLanguages=this._selections.languages);var t={slideoutContent:e,slideoutLabel:o.get("languages")};return Promise.resolve(t)},_closeMoreLanguageOptionsSlideout:function(e){this._selections.languages=e},_closeMoreDeliveryOptionsSlideout:function(e){this._selections.delivery=e},_getDefaultPDFOptionValues:function(){if(this._selections.pdf)return Promise.resolve({pdfOptions:this._selections.pdf});if(this._defaultPDFOptionsValues)return Promise.resolve(this._defaultPDFOptionsValues);var e={dataType:"json",type:"GET",url:i.getSelfLink(this.objectInformation)+"?fields=options"};return this.glassContext.getCoreSvc(".Ajax").ajax(e).then(function(e){var t=e.data.data[0].options;if(t){var i=t.filter(function(e){return-1!==g.PDF_OPTIONS.indexOf(e.name)});return this._defaultPDFOptionsValues={pdfOptions:i},this._defaultPDFOptionsValues}}.bind(this)).catch(this._handleRunError.bind(this))},_getMorePDFOptionsSpec:function(){var t={module:d,closeCallback:this._closeMorePDFOptionsSlideout.bind(this)};return this._getDefaultPDFOptionValues().then(function(e){return e&&n.extend(t,e),{slideoutContent:t,slideoutLabel:o.get("pdfOptions")}})},_closeMorePDFOptionsSlideout:function(e){this._selections.pdf=e},_onRun:function(){n.extend(this._selections,this._runOptionsControl.getModifiedProperties()),this.logger.debug("RunAsOptionsView._onRun",this._selections),this._selections[g.OPTION.RUN_IN_BG]?this._doRunInBackground():this._doRunAs()},_doRunAs:function(){this._appController.performAction(this._getActionId(),this._buildPayload()),this._appController.hideSlideOut()},_getSelectedFormats:function(e){var t;if(e)if(1===this._supportedFormats.length)t=this._supportedFormats;else{var i=[];for(var n in this._selections.formats)this._selections.formats.hasOwnProperty(n)&&this._selections.formats[n]&&i.push(n);t=i}else t=1===this._supportedFormats.length?this._supportedFormats[0]:this._selections[g.OPTION.RUNFORMAT]||this._outputFormat;return t},_updateBurstSelected:function(e,t){this._selections[g.OPTION.BURST]=t},_updateSelectedFormat:function(e,t){if(this._selections.formats[e]=t,"PDF"===e&&m.userCanGenerateFormat(this.glassContext,e)){var i=this._runOptionsControl.getProperty(g.OPTION.ADVANCED_PDF);t?i.show():i.hide()}},_setOutputLocaleRequestParams:function(){this._selections.languages&&(this._requestParams.options.outputLocale=this._selections.languages)},_setDeliveryOptionsRequestParams:function(){this._selections.delivery?this._requestParams.options.delivery=this._selections.delivery:this._requestParams.options.delivery={save:{notify:!1}}},_setOutputFormatRequestParams:function(){var e=this._getSelectedFormats(!0);this._requestParams.options.outputFormat=e},_setSaveToCloudRequestParams:function(){this._selections.delivery&&this._selections.delivery.cloudLocation&&""!==this._selections.delivery.cloudLocation&&(this._requestParams.options.saveToCloud=this._selections.delivery.cloudLocation,this._selections.delivery.cloudName&&""!==this._selections.delivery.cloudName&&(this._requestParams.options.cloudName=this._selections.delivery.cloudName))},_setExecutionTimeRequestParams:function(){if(this._selections[g.OPTION.RUN_NOW_OR_LATER]===g.OPTION.RUN_LATER&&this._selections.executionTime){if(!(Date.now()<Date.parse(this._selections.executionTime)))throw t.displayToast(this.glassContext,o.get("invalidTime")),"Invalid time selected";this._requestParams.executionTime=this._selections.executionTime}},_setBurstOptionRequestParams:function(){this._selections[g.OPTION.BURST]&&(this._requestParams.options.burst=!0)},_setParametersRequestParams:function(e){e&&(this._requestParams.parameters=e)},_setPDFOptionsRequestParams:function(){this._selections&&this._selections.pdf&&(this._requestParams.options.pdf={},this._selections.pdf.forEach(function(e){var t=e.value;if(-1!==e.name.indexOf("Password")&&e.value.length){var i=$.parseXML(e.value),n=$(i).find("password");n.text().length&&(t=n.text())}t&&(this._requestParams.options.pdf[e.name]=t)}.bind(this)))},_doRunInBackground:function(){if(!this._getSelectedFormats(!0).length)throw t.displayToast(this.glassContext,o.get("selectAFormat"),{type:"warning"}),"No format selected";if(this._promptValue)return this._showPromptPicker(),void this._appController.hideSlideOut();this._executeRequest()},_onPromptFinish:function(){this._executeRequest()},_updateRunOptionsForPowerPlayPrompt:function(e){this._selections&&this._selections.delivery&&this._selections.delivery.email&&(e.ca_deliveryOptions=h.getPowerPlayC10DeliveryOptions(this._selections.delivery.email))},_showPromptPicker:function(e){var t=$("<div>",{class:"ca_promptpicker"}),i={reportId:this.objectInformation.id,glassContext:this.glassContext,onFinish:this._onPromptFinish.bind(this),$toggler:t,deliveryOptions:this._selections.delivery,languageOptions:this._selections.languages};e&&(i.openInTab=!0),h.isPowerPlay(this.objectInformation.type)?("later"===this._selections.runNowOrLater&&(i.executionTime=this._selections.executionTime),this._updateRunOptionsForPowerPlayPrompt(i),this._promptPickerControl=new u(i)):this._promptPickerControl=new r(i),this._promptPickerControl.showPromptOverlay()},_getRequestParams:function(){return this._appController.hideSlideOut().then(function(){this._setOutputFormatRequestParams(),this._setSaveToCloudRequestParams(),this._setExecutionTimeRequestParams(),this._setDeliveryOptionsRequestParams(),this._setBurstOptionRequestParams(),this._setPDFOptionsRequestParams(),this._setOutputLocaleRequestParams(),this._promptValue&&this._setParametersRequestParams(this._promptPickerControl.getParameterValues())}.bind(this))},_validRequestParamsOptions:function(){var e=this._requestParams.options;if(null!=e){var t=[];for(var i in e)null!=e[i]&&t.push(e[i]);0===t.length&&delete this._requestParams.options}},_executeRequest:function(){this._getRequestParams().then(function(){this._validRequestParamsOptions();var e=JSON.stringify(this._requestParams),t={headers:{"Content-Type":"application/vnd.ibm.bi.platform.execution+json; charset=UTF-8",Accept:"application/json"},datatype:"json",type:"post",url:"v1/reports/"+this.objectInformation.id+"/executions",data:e};return this.glassContext.getCoreSvc(".Ajax").ajax(t).catch(this._handleRunError.bind(this))}.bind(this))},_handleRunError:function(e){t.showAjaxServiceError(this.glassContext,e)},_buildPayload:function(){return{glassContext:this.glassContext,target:{objectInformation:this.objectInformation,itemId:this._getActionId(),runOptions:{prompt:this._promptValue,format:this._getSelectedFormats()},activeObject:{oListControl:this.listControl,aSelectedContext:[this.objectInformation]}}}},_getActionId:function(){var e=g.ACTION_ID;return-1!==this.objectInformation.type.indexOf("powerPlay8Report")&&(e="com.ibm.bi.contentApps.defaultAction."+this.objectInformation.type),e}});return g.ACTION_ID="com.ibm.bi.contentApps.action.runAs",g.SUPPORTED_FORMATS={all:["spreadsheetML","xlsxData","PDF","HTML","CSV","XML"],interactiveReport:["HTML"],powerPlay8Report:["PDF"]},g.OPTION={PROMPT:"promptForValues",RUNFORMAT:"runFormat",OUTPUTFORMAT:"outputFormat",DELIVERY:"delivery",EXECUTIONTIME:"executionTime",LANGUAGES:"languages",RUN_IN_BG:"runInBackgroundChecked",RUN_LATER:"later",RUN_NOW:"now",RUN_NOW_OR_LATER:"runNowOrLater",BURST:"burst",ADVANCED_PDF:"advancedPDF"},g.PDF_OPTIONS=["outputPageDefinition","outputPageOrientation","userPassword","ownerPassword","allowPrintQuality","allowModifications","allowAnnotations","allowFieldCompletion","allowAssembly","allowContentCopy","allowAccessibilitySupport"],g}),define("bi/content_apps/RunAsJobOptionsView",["lodash","bi/content_apps/RunAsOptionsView","bi/content_apps/nls/StringResource"],function(t,e,i){"use strict";var n=e.extend({init:function(e){n.inherited("init",this,arguments),t.extend(this,e)},_getRunAsItemsSpec:function(){return[this._getBannerSpec(),this._getSeparatorSpec(),this._getRunNowOrLaterOptions(),this._getExecutionTimePicker(),this._getSeparatorSpec(),this._getFooterSpec()]},_onRun:function(){t.extend(this._selections,this._runOptionsControl.getModifiedProperties()),this.logger.debug("RunAsJobOptionsView._onRun",this._selections),this._executeRequest(),this.glassContext.appController.showToast(i.get("toastRunRequestWasSubmitted"))},_getRequestParams:function(){return this._appController.hideSlideOut().then(function(){this._setExecutionTimeRequestParams()}.bind(this))}});return n}),define("bi/content_apps/TenantSlideoutView",["bacontentnav/lib/@waca/core-client/js/core-client/ui/properties/PropertyPageView","bi/content_apps/nls/StringResource","bacontentnav/utils/ContentStoreObject","bacontentnav/utils/UIHelper","lodash"],function(e,n,a,o,i){"use strict";var t=e.extend({init:function(e){t.inherited("init",this,arguments),i.extend(this,e)},render:function(){return this.renderPropertyUIControl({glassContext:this.glassContext,el:this.$el,items:[{name:"tenantsBanner",value:n.get("tenantSettings"),type:"Banner",centerLabel:!0,backButton:!0,editable:!1,readOnly:!0,onClose:this._onClose.bind(this)},{name:"tenantsDropDown",type:"DropDown",label:n.get("tenant"),options:this._buildTenantsList(),style:"max-width:200px;"},{type:"SingleLineLinks",name:"tenantWarning",indent:2,items:[{align:"left",items:[{type:"icon",svgIcon:"common-warning",class:"tenantWarningIcon"},{type:"text",value:n.get("changeTenantWarning"),class:"tenantWarningText"}]}]},{type:"Footer",items:[{type:"Button",label:n.get("applyLabel"),onSelect:this._onApplyClick.bind(this),primary:!0},{type:"Button",label:n.get("clear"),onSelect:this._onClearClick.bind(this),primary:!1}]}]})},_canClose:function(){return!0},_onClose:function(){this.slideout.hide()},_buildTenantsList:function(){var e=this.glassContext.getCoreSvc(".UserProfile").tenants,t=[{label:n.get("none"),value:null,selected:""===this.currentTenantID}];for(var i in e)e.hasOwnProperty(i)&&t.push({label:e[i].defaultName,value:e[i].tenantID,selected:e[i].tenantID===this.currentTenantID});return t.sort(function(e,t){return o.getCollator().compare(e.label.toLowerCase(),t.label.toLowerCase())}),t},_getTenantNameByID:function(e){var t=this.glassContext.getCoreSvc(".UserProfile").tenants;for(var i in t)if(t[i].tenantID===e)return t[i].defaultName;return e},_onApplyClick:function(){var e=this.getModifiedProperties();""===e.tenantsDropDown?this._onClearClick():void 0!==e.tenantsDropDown&&this._saveTenant(e.tenantsDropDown)},_onClearClick:function(){this.glassContext.appController.showMessage(n.get("confirmClearTenantText"),n.get("confirmClearTenant"),"info",["ok","cancel"],"400px",function(e){"ok"===e.btn&&this._clearTenant()}.bind(this),!0)},_saveTenant:function(e){var t={tenantID:e,type:this.objectInfo.type};return this._sendUpdateRequest(t).then(function(){this.slideout.hide(),i.isFunction(this.onChangeCallback)&&this.onChangeCallback(e),this.glassContext.appController.showToast(n.get("tenantSet"))}.bind(this),function(){this.glassContext.appController.showToast(n.get("tenantSetError"),{type:"error"})}.bind(this))},_clearTenant:function(){var e={tenantID:"",type:this.objectInfo.type};return this._sendUpdateRequest(e).then(function(){this.slideout.hide(),i.isFunction(this.onChangeCallback)&&this.onChangeCallback(""),this.glassContext.appController.showToast(n.get("tenantClear"))}.bind(this),function(){this.glassContext.appController.showToast(n.get("tenantClearError"),{type:"error"})}.bind(this))},_sendUpdateRequest:function(e){var t=JSON.stringify(e),i=a.getSelfLink(this.objectInfo),n={headers:{Accept:"application/json","Content-Type":"application/json"},type:"PUT",url:i+="?updateTenantIDRecursive=true",data:t};return this.glassContext.getCoreSvc(".Ajax").ajax(n)},getModifiedProperties:function(){return this.getPropertyUIControl().getModifiedProperties()}});return t}),define("bacontentnav/common/ui/contentbar_components/Button",["jquery","../../../lib/gemini/app/ui/toolbar_components/Button"],function(i,e){"use strict";var n=null;return n=e.extend({events:{primaryaction:"_handleClick",mousedown:"_handleStartDrag",dragdown:"_handleStartDrag"},render:function(){n.inherited("render",this,arguments);var e=i(this.$el).find("button");if(this.hiddenOnRender?(this.$el.hide(),e.attr("tabindex","-1")):e.attr("tabindex","0"),this.displayLabel){var t=i(this.$el).find("svg");e.append(i("<span class='buttonLabel'>"+this.label+"</span>")),t.css("float","left")}return this}})}),define("bacontentnav/common/ui/contentbar_components/HiddenLabel",["jquery","../../../lib/gemini/app/ui/toolbar_components/Button"],function(e,t){return t.extend({events:{},render:function(){return this}})}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/MenuWithTick",["./Menu","lodash","text!../templates/Menu.html","../../../../../nls/StringResource"],function(e,t,i,n){var a=null;return a=e.extend({templateString:i,init:function(e){t.extend(this,e),a.inherited("init",this,arguments)},_templateParams:function(){var e=a.inherited("_templateParams",this,arguments);return e.showTick=!0,e.showTitle=!0,e.label=n.get("filterHeader"),e},updateMenuItemTick:function(e,t,i){if(e){var n=e.find(".checkbox"),a=e.find("a"),o=e.find(".clickable");n&&o&&a&&a[0]&&n[0]&&(t?n.addClass("checked"):n.removeClass("checked"),i?o.addClass("disabled"):o.removeClass("disabled"),a[0].setAttribute("aria-checked",!!t),n[0].setAttribute("aria-checked",!!t),n[0].setAttribute("aria-disabled",!!i))}}})}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/ToggleMenuBar",["lodash","./MenuWithTick","../../../../@waca/core-client/js/core-client/ui/properties/CheckBox"],function(t,e,n){"use strict";var a=null;return a=e.extend({init:function(e){t.extend(this,e),a.inherited("init",this,arguments),this.itemMap={},this.checkedFilters=[]},_handleClick:function(e){e.stopPropagation(),this.onCheckboxChange(e.currentTarget.id)},_handleKeyboard:function(e){var t=e.which||e.keyCode||e.charCode,i=$(e.target);13!==t&&32!==t||i.hasClass("dropdown-toggle")?a.inherited("_handleKeyboard",this,arguments):(e.stopPropagation(),this.onCheckboxChange(e.target.parentNode.id))},updateSelectedItem:function(){t.each(this.items,function(e){this.updateMenuItemTick(this.itemMap[this._getItemId(e.name)],!1,!1)}.bind(this)),t.each(this.checkedFilters,function(e){this.updateMenuItemTick(this.itemMap[e],!0,!1)}.bind(this))},onCheckboxChange:function(e){this._performAction(e),e===this._getItemId(this.items[0].name)?-1<this.checkedFilters.indexOf(this._getItemId(this.items[0].name))?this.removeAllFilters():this.selectAllFilters():(-1<this.checkedFilters.indexOf(e)?this.checkedFilters.splice(this.checkedFilters.indexOf(e),1):this.checkedFilters.push(e),this.checkedFilters.length<this.items.length&&-1<this.checkedFilters.indexOf(this._getItemId(this.items[0].name))?this.checkedFilters.splice(this.checkedFilters.indexOf(this._getItemId(this.items[0].name)),1):this.checkedFilters.length===this.items.length-1&&-1<!this.checkedFilters.indexOf(this._getItemId(this.items[0].name))&&this.checkedFilters.push(this._getItemId(this.items[0].name))),this.updateSelectedItem()},selectAllFilters:function(){this.checkedFilters=[],t.each(this.items,function(e){this.checkedFilters.push(this._getItemId(e.name))}.bind(this))},removeAllFilters:function(){this.checkedFilters=[]},render:function(){var e=a.inherited("render",this,arguments);return this.selectAllFilters(),this.updateSelectedItem(),this.updateLabel&&(t.each(this.items,function(e){e.checked&&this.updateSelectedItem()}.bind(this)),this.sCheckedItemName||this.updateSelectedItem()),e},_buildDropDown:function(){var e=a.inherited("_buildDropDown",this,arguments);return t.each(this.items,function(e){var t=this._getItemId(e.name);this.itemMap[t]=this.$menu.find("#"+t);var i=this.itemMap[t].find(".propertyRow");i&&new n({el:i,id:t,name:e.name,position:"leading",nestedUIControl:!0,readOnly:!1,onChange:function(e){var t=this._getItemId(e);this.onCheckboxChange(t)}.bind(this)}).render();this.checkedFilters.push(t)}.bind(this)),this.updateSelectedItem(),e},remove:function(){t.each(this.itemMap,function(e){e.remove&&e.remove()}),a.inherited("remove",this,arguments)}})}),define("bacontentnav/common/ui/contentbar_components/ToggleMenuBar",["jquery","../../../lib/gemini/app/ui/toolbar_components/ToggleMenuBar","../../../lib/@waca/core-client/js/core-client/utils/Utils"],function(e,t,i){var n=null;return n=t.extend({events:{"clicktap .dropdown-toggle":"_handleClick","clicktap .dropdown-menuitem":"_handleClick",keydown:"_handleKeyboard"},render:function(){n.inherited("render",this,arguments),this.icon&&(this.iconRightAlign&&this.$toggle.append(this.$iconImage),this.bSVG&&i.setIcon(this.$iconImage,this.icon)),this.$toggle=this.className?this.$toggle.addClass(this.className):this.$toggle}})}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/MenuWithActive",["./Menu","lodash","text!../templates/Menu.html","../../../../../nls/StringResource"],function(e,t,i,r){var n=null;return n=e.extend({templateString:i,init:function(e){t.extend(this,e),n.inherited("init",this,arguments)},_templateParams:function(){var e=n.inherited("_templateParams",this,arguments);return e.isSort=!0,e.showTitle=!0,e.label=r.get("sortHeader"),e},updateMenuItemActive:function(e,t,i){if(e){var n=e.find("a"),a=n.find("span.sortDirection"),o=a.find("use");if(t?n.addClass("sortByActive"):n.removeClass("sortByActive"),null!=i){var s=i?"#ba_content_nav-arrow_up_16":"#ba_content_nav-arrow_down_16";a[0].setAttribute("style",""),a[0].setAttribute("aria-label",i?r.get("sortedAscending"):r.get("sortedDescending")),o[0].setAttribute("xlink:href",s)}else a[0].setAttribute("style","display: none;");n[0].setAttribute("aria-checked",t?"true":"false")}}})}),define("bacontentnav/lib/gemini/app/ui/toolbar_components/SortMenuBar",["./MenuWithActive","lodash"],function(e,t){"use strict";var i=null;return i=e.extend({itemMap:{},sCheckedItemId:null,updateLabel:!1,sortAscending:!0,init:function(e){t.extend(this,e),i.inherited("init",this,arguments)},toggleHandler:function(e){this.updateSelectedItem(this._getItemId(e))},updateSelectedItem:function(e){var t=this.itemMap[e];t&&t.children&&(this.sCheckedItemId===e?(this.sortAscending=!this.sortAscending,this.updateMenuItemActive(this.itemMap[e],!0,this.sortAscending)):(this.sortAscending=!0,this.updateMenuItemActive(this.itemMap[this.sCheckedItemId],!1,null),this.updateMenuItemActive(this.itemMap[e],!0,this.sortAscending),this.sCheckedItemId=e),this.updateLabel&&0<this.$menuLabel.length&&t.children&&this.$menuLabel.text(t.children("a").attr("aria-label")))},render:function(){var e=i.inherited("render",this,arguments);return this.updateLabel&&(t.each(this.items,function(e){e.checked&&this.updateSelectedItem(this._getItemId(e.name))}.bind(this)),this.sCheckedItemId||this.updateSelectedItem(this._getItemId(this.items[0].name))),e},_performAction:function(e){this.updateSelectedItem(e),i.inherited("_performAction",this,arguments)},_getItemNameFromID:function(e){var t=this.viewId+"_";return e.substr(t.length)},_templateParams:function(){var e=i.inherited("_templateParams",this,arguments);return e.isSort=!0,e},_buildDropDown:function(){var e=i.inherited("_buildDropDown",this,arguments);return t.each(this.items,function(e){var t=this._getItemId(e.name);this.itemMap[t]=this.$menu.find("#"+t),e.sorted&&(this.sCheckedItemId=t,this.updateMenuItemActive(this.itemMap[this.sCheckedItemId],!0,this.sortAscending))}.bind(this)),e},remove:function(){t.each(this.itemMap,function(e){e.remove&&e.remove()}),i.inherited("remove",this,arguments)}})}),define("bacontentnav/common/ui/contentbar_components/SortMenuBar",["jquery","../../../lib/gemini/app/ui/toolbar_components/SortMenuBar","../../../lib/@waca/core-client/js/core-client/utils/Utils"],function(e,t,i){var n=null;return n=t.extend({events:{"clicktap .dropdown-toggle":"_handleClick","clicktap .dropdown-menuitem":"_handleClick",keydown:"_handleKeyboard"},render:function(){n.inherited("render",this,arguments),this.icon&&(this.iconRightAlign&&this.$toggle.append(this.$iconImage),this.bSVG&&i.setIcon(this.$iconImage,this.icon)),this.$toggle=this.className?this.$toggle.addClass(this.className):this.$toggle}})}),define("bacontentnav/common/ui/list_columns/Column",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../lib/@waca/core-client/js/core-client/utils/ContentFormatter","../../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../../utils/MRUHelper","../../../utils/UIHelper","lodash"],function(e,t,r,o,l,c){"use strict";return e.extend({init:function(e){c.extend(this,e),this._bNavigable||(this._bNavigable=$.isFunction(this.clickCallback))},getSpec:function(){},getData:function(e){return this.getDataFn?this.getDataFn(e):this._getData(e)},_getData:function(){return""},createCell:function(e,t){$(e).text(c.unescape(t))},getListControl:function(){return this.listControl},createEllipseCell:function(e,t,i){var n=$(e);n.addClass("ellipsis_cell");var a=c.unescape(t),o="nameColumnDiv";this._bNavigable&&(o+=" contentListFocusable","folder"!==i.type&&l.isValid(i)&&this.listControl&&l.hasRequiredCapabilities(i,this.listControl.typesToOpen,this.listControl.capabilitiesRequired)&&(o+=" clickable")),r.userPreferredTextDir&&(a=r.enforceTextDirection(a));var s=$("<div></div>",{title:a,text:a,class:o,tabindex:"-1"});return n[0].fnResizeCallback=function(){s[0].textContent=a,this.getMiddleShortenString(s[0]),""!==r.userPreferredTextDir&&(n.hasClass("location")||n.hasClass("text")&&0<=s[0].textContent.indexOf(">")?(s[0].textContent=r.enforceTextDirectionForLocation(s[0].textContent),s[0].title=r.enforceTextDirectionForLocation(a)):s.attr("dir",r.resolveBaseTextDir(s[0].textContent)))}.bind(this),n.empty().append(s),this.addClickAction(s,e,t,i),s},processTextForEllipses:function(e){var t=$(e);t[0].fnResizeCallback&&t[0].fnResizeCallback()},getMiddleShortenString:function(e){t.middleShortenString(e)},addClickAction:function(e,t,i,n){c.isUndefined(this.clickCallback)||(e.addClass("contentListFocusable"),e.on("primaryaction",function(e){this.clickCallback(n,e)}.bind(this)))},onContextMenu:function(e,t){if(!t.shiftKey&&!t.ctrlKey){t.stopPropagation();var i=this.getListControl();c.isFunction(i._hideSlideoutChildrenToTheRight)&&i._hideSlideoutChildrenToTheRight(),i._clearRows(),i.handleClick(t);var n=function(){i.getActionPayload(t).then(function(e){this.glassContext.appController.showContextMenu(e)}.bind(this))}.bind(this),a=i.contentView||{};return o.requiresAssetVerification(a)?o.verifyAccess(this.glassContext,e&&e.id).then(function(e){e?n():a.slideout&&a.slideout.hide()}):n(),!1}}})}),define("bacontentnav/common/ui/list_columns/BaseIcon",["./Column"],function(e){"use strict";return e.extend({getSpec:function(){return Promise.resolve({name:this.name,bSortable:!1,sClass:"icon ellipsesButton_cell",hiddenLabel:this.name,width:"40px",mData:this.getData.bind(this),fnCreatedCell:this.createCell.bind(this)})},createCell:function(e,t,i){var n=$(e),a=this.createObjectImg(i);n.empty().append(a),n.attr("aria-label",this.a11yLabel),this.addClickAction(a,e,t,i)},createObjectImg:function(){return $("<div>",{role:"img",tabindex:"-1"})}})}),define("bacontentnav/common/ui/list_columns/Icon",["./BaseIcon","../../../utils/UIHelper","../../../utils/ContentStoreObject","../../../nls/StringResource","../../../lib/@waca/core-client/js/core-client/utils/Utils"],function(e,c,d,t,u){"use strict";var i=e.extend({getSpec:function(){return i.inherited("getSpec",this,arguments).then(function(e){return e.name="icon",e.headerClass="headerIcon",e})},_getData:function(e){return c.getFilterType(e)},createObjectImg:function(e){var t=c.getDisplayType(e),i=d.getHidden(e),n=d.getDisabled(e),a=c.getTypeSVGIconFromObject(e),o=c.getTypeNameFromObject(e),s=o,r="svgIcon";if(i&&(r+=" dimmed",s="hidden "+s),a){var l='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+a+'"></use>';if(n){l+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#common-disabled" x="5" y="5" height="10" width="12" style="stroke: #ff0000;"></use>',s="disabled "+s}else c.getIconFill(t)&&(l='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+a+'" style="fill: '+c.getIconFill(t)+'"></use>');return c.isSVGIconDecorated(t)&&(l+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#common-view_decorator" x="5" y="5" height="10" width="12"></use>'),u.embedSVGIcon($('<div role="img" alt="'+o+'" title="'+o+'"><svg role="presentation" class="'+r+'">'+l+"<text>"+s+"</text></svg></div>"))}return $("<div></div>",{alt:o,title:o,height:"30px",width:"30px"})}});return i}),define("bacontentnav/common/ui/list_columns/AccountIcon",["./Icon"],function(e){"use strict";return e.extend({getData:function(e){return e.objectClass}})}),define("bacontentnav/common/ui/list_columns/BirdBeakMenu",["./Column","../../../common/ui/BreadcrumbDropDown","../../../nls/StringResource","../../../lib/@waca/core-client/js/core-client/utils/Utils"],function(e,i,t,n){"use strict";return e.extend({getSpec:function(){return Promise.resolve({bSortable:!1,sClass:"ellipsesButton_cell",hiddenLabel:this.name,mData:function(){return""},fnCreatedCell:function(e,t,i){var n=$(e),a=$("<div></div>",{class:"ellipsesButton forceRowSelection"});a.attr("role","link"),a.attr("tabindex","-1"),a.attr("title",this.name),this._createDropDown(a),n.empty().append(a)}.bind(this)})},_createDropDown:function(e){var t=$("<div>").addClass("contentListFocusable").appendTo(e);n.setIcon(t,"common-titan-arrow-down"),this.ddMenu=new i({dropDownMenuSpec:{title:this.name||"",id:"birdBeakId",label:"BirdBeak",items:this.menuItems,actionElement:t[0],ddMenuPlacement:"bottom"}}),this.ddMenu.render().then(function(e){t.append(e)}),e.addClass("birdBeak")}})}),define("bacontentnav/common/ui/list_columns/ClickableIcon",["../../../lib/@waca/core-client/js/core-client/utils/Utils","./BaseIcon"],function(t,e){"use strict";return e.extend({createObjectImg:function(){var e=$("<div>",{class:"ellipsesButton forceRowSelection",title:this.a11yLabel,role:"link",tabindex:"-1"});return t.setIcon(e,this.icon),e}})}),define("bacontentnav/common/ui/list_columns/ContextMenu",["../../../lib/@waca/core-client/js/core-client/utils/Utils","../../../nls/StringResource","./BaseIcon","lodash"],function(t,i,e,n){"use strict";var a=e.extend({init:function(e){a.inherited("init",this,arguments),n.extend(this,e),this.clickCallback=this.onContextMenu,this.a11yLabel=i.get("moreActionsMenu")},getSpec:function(){return a.inherited("getSpec",this,arguments).then(function(e){return e.name="properties",e})},createObjectImg:function(){var e=$("<div></div>",{class:"ellipsesButton forceRowSelection",title:i.get("more"),tabindex:"-1"});return t.setIcon(e,"common-menuoverflow"),e}});return a}),define("bacontentnav/common/ui/list_columns/Location",["../../../utils/ContentStoreObject","./Column","../../../nls/StringResource","lodash"],function(t,e,i,n){"use strict";return e.extend({getSpec:function(){return Promise.resolve({name:"location",label:i.get("location"),headerClass:"location",mData:this.getData.bind(this),sClass:"location",weight:20,fnCreatedCell:this.createEllipseCell.bind(this),formatContent:this.processTextForEllipses.bind(this)})},_getData:function(e){return n.escape(t.getLocation(e))},addClickAction:function(e,t,i,n){this.clickCallback&&(e.addClass(!1!==this.showAsActiveLink?"active":"clickable"),e.attr("role","link"),e.on("primaryaction",function(e){this.clickCallback(n)}.bind(this)))}})}),define("bacontentnav/common/ui/list_columns/MultipleProperties",["require","../../../utils/ContentStoreObject","./Column"],function(a,t,e){"use strict";return e.extend({getSpec:function(){this._oProperties=[];var t=[];return $.each(this.items,function(e,i){if(i.type){var n=i.module||"./"+i.type;t.push(new Promise(function(t){a([n],function(e){i.obj=this.getListControl().createColumnObject(i,e),i.obj.getSpec().then(function(e){i.spec=e,t()})}.bind(this))}.bind(this)))}}.bind(this)),Promise.all(t).then(function(){return{name:this.items[0].spec.name,label:this.items[0].spec.label,sClass:"nowrap",weight:this.weight||20,fnCreatedCell:this.createCell.bind(this),mData:this.getData.bind(this),formatContent:this.formatContent.bind(this)}}.bind(this))},_getData:function(e){return this.items[0].spec.mData?this.items[0].spec.mData(e):e[t.DEFAULT_NAME]},createCell:function(e,t,n){var a="horizontal"===this.orientation,o=$(e);o.empty(),a?o.addClass("multiPropHorizontal"):o.addClass("multiProp"),$.each(this.items,function(e,t){var i=$("<div>").addClass(t.type.toLowerCase());a?i.addClass("textDivInline"):i.addClass("textDiv"),o.append(i),t.spec.fnCreatedCell(i[0],t.obj.getData(n),n)})},formatContent:function(e){var n=$(e);$.each(this.items,function(e,t){if(t.spec.formatContent){var i=n.find("."+t.type.toLowerCase());i.length&&t.spec.formatContent(i)}})}})}),define("bacontentnav/common/ui/list_columns/Name",["lodash","./Column","../list_actions/DefaultAction","../list_actions/DefaultActionHandler","../../../utils/ContentStoreObject","../../../nls/StringResource","../../../utils/UIHelper","../../../lib/@waca/core-client/js/core-client/ui/KeyCodes"],function(t,e,r,l,c,i,d,u){"use strict";return e.extend({_bNavigable:!0,getSpec:function(){return Promise.resolve({name:"name",label:i.get("name"),headerClass:"name",mData:this.getData.bind(this),sClass:"name",weight:20,fnCreatedCell:this.createEllipseCell.bind(this),formatContent:this.processTextForEllipses.bind(this),type:"natural-ci"})},_getData:function(e){return t.escape(e[c.DEFAULT_NAME])},addClickAction:function(t,e,i,s){return new Promise(function(n){var a=c.getType(s),o=this.getListControl();if(!this.navigateOnly||d.isContainer(a)&&!o.singleSelectCallback){var e=new r({glassContext:this.glassContext,oData:s,listControl:o});(d.isValid(s)?s[c.PERMISSIONS]?e.canExecute():Promise.resolve(!0):Promise.resolve(!1)).then(function(i,e){e&&(t.on("primaryaction",function(e,t){t.shiftKey||t.ctrlKey||t.metaKey?n():t.which===u.SPACE?(this.listControl.contentView.propertiesOverride=!0,d.isContainer(a)||this.glassContext.appController.hideSlideOut()):l.executeAction({evt:t,oData:s,listControl:o,glassContext:this.glassContext,action:i})}.bind(this,i)),t.addClass("active").attr("role","link")),n()}.bind(this,e)).catch(function(){n()})}else d.isContainer(a)&&c.hasPermissions(s,["traverse"])&&t.addClass("active").attr("role","link"),n();(c.getDisabled(s)||!d.isValid(s)||this.listControl&&!d.hasRequiredCapabilities(s,this.listControl.typesToOpen,this.listControl.capabilitiesRequired))&&(t.addClass("dimmed idle"),t.parent().parent().addClass("dimmed idle"))}.bind(this))}})}),define("bacontentnav/common/ui/list_columns/Owner",["../../../utils/ContentStoreObject","../../../nls/StringResource","./Column","lodash"],function(t,e,i,n){"use strict";return i.extend({getSpec:function(){return Promise.resolve({name:"owner",label:e.get("owner"),sClass:"nowrap",weight:10,mData:this.getData.bind(this),fnCreatedCell:this.createCell.bind(this)})},_getData:function(e){return n.escape(t.getOwnerName(e))}})}),define("bacontentnav/common/ui/list_columns/Text",["./Column","lodash"],function(e,t){"use strict";var i=e.extend({init:function(e){i.inherited("init",this,arguments),t.extend(this,e)},getSpec:function(){return Promise.resolve({name:this.propertyName,label:this.label,sClass:"nowrap",weight:10,mData:this.getData.bind(this),fnCreatedCell:this.createEllipseCell.bind(this),formatContent:this.processTextForEllipses.bind(this),visible:this.visible})},_getData:function(e){return t.escape(e[this.propertyName])||""},addClickAction:function(e,t,i,n){this.clickCallback&&(e.addClass(!1!==this.showAsActiveLink?"active":"clickable"),e.attr("role","link"),e.on("primaryaction",function(e){e.shiftKey||e.ctrlKey||e.metaKey||this.listControl.isMultitouchActive()||this.clickCallback(n)}.bind(this)))}});return i}),define("bacontentnav/common/ui/list_columns/Permission",["../../../utils/ContentStoreObject","../../../lib/@waca/core-client/js/core-client/utils/ContentFormatter","../../../nls/StringResource","./Text","../../../utils/ContentManagement","../../../utils/PolicyHelper"],function(e,t,i,n,a,o){"use strict";return n.extend({getSpec:function(){return Promise.resolve({name:"policy",label:i.get("permissionHeader"),headerClass:"name",mData:this.getData.bind(this),sClass:"name",weight:10,fnCreatedCell:this.createEllipseCell.bind(this),formatContent:this.processTextForEllipses.bind(this)})},_getData:function(e){return o.getSimplifiedPermissions(e.permissions)},addClickAction:function(e,t,i,n){this.clickCallback&&(e.addClass(!1!==this.showAsActiveLink?"active":"clickable"),e.attr("role","link"),e.on("primaryaction",function(e){e.shiftKey||e.ctrlKey||e.metaKey||this.listControl.isMultitouchActive()||this.clickCallback(n)}.bind(this,n)))}})}),define("bacontentnav/common/ui/list_columns/RadioButtons",["../../../lib/@waca/core-client/js/core-client/utils/Utils","./BaseIcon"],function(e,t){"use strict";return t.extend({createObjectImg:function(){var e=$("<div>",{role:"img",tabindex:"-1",class:"roundButton"}),t=$('<svg><circle class="outer" cx="8" cy="8" r="7"></circle><circle class="radioBtn inner" cx="8" cy="8" r="5"/></circle></svg>');return e.html(t),e}})}),define("bacontentnav/common/ui/list_columns/Tenant",["../../../utils/ContentStoreObject","../../../nls/StringResource","./Column","lodash"],function(t,e,i,a){"use strict";return i.extend({_bNavigable:!0,getSpec:function(){return Promise.resolve({name:"tenantName",label:e.get("tenant"),headerClass:"name",mData:this.getData.bind(this),sClass:"name",weight:15,fnCreatedCell:this.createEllipseCell.bind(this),formatContent:this.processTextForEllipses.bind(this),type:"natural-ci"})},_getData:function(e){return this._getTenantNameByID(a.escape(e[t.TENANT_ID]))},_getTenantNameByID:function(t){var e;if(""===t)e=t;else{var i=this.glassContext.getCoreSvc(".UserProfile").tenants,n=a.find(i,function(e){return e.tenantID===t});e=n?n.defaultName:t}return a.escape(e)}})}),define("bacontentnav/common/ui/list_columns/Time",["../../../nls/StringResource","./Column","../../../lib/@waca/core-client/js/core-client/utils/DateTimeUtils","../../../utils/GlassContextHelper","lodash"],function(e,t,c,d,i){"use strict";var n=t.extend({COLUMN_LABELS:{modificationTime:e.get("modificationTime"),timestamp:e.get("lastUsed")},displayInline:!1,init:function(e){n.inherited("init",this,arguments),i.extend(this,e),this.label||(this.label=this.COLUMN_LABELS[this.propertyName])},getSpec:function(){return Promise.resolve({name:this.propertyName,label:this.label,sClass:"nowrap",width:"100px",mData:this.getData.bind(this),fnCreatedCell:this.createCell.bind(this),visible:this.visible})},_getData:function(e){return e[this.propertyName]||""},createCell:function(e,t){var i=$(e);if(""===t)i.text("---");else{var n=c.formatDate(t,"short",d.getLocaleTime(this.glassContext)).toString(),a=c.formatTime(t,"short",d.getLocaleTime(this.glassContext)).toString();if(this.displayInline){var o=[n,a].join(" "),s=$("<div>",{text:o,class:"modifiedTime displayInline"});i.text(""),i.append(s)}else{var r=$("<div>").text(n),l=$("<div>",{text:a,class:"modifiedTime"});i.text(""),i.append(r,l)}}}});return n}),define("bacontentnav/common/ui/list_columns/all",["./AccountIcon","./BirdBeakMenu","./ClickableIcon","./ContextMenu","./Location","./MultipleProperties","./Name","./Owner","./Permission","./RadioButtons","./Tenant","./Time"],function(){}),define("bacontentnav/common/ui/list_actions/ManageContentAction",["require","lodash","./TargetListAction","../../../utils/GlassContextHelper","../../../utils/ContentStoreObject"],function(e,a,t,i,o){"use strict";var n=t.extend({isItemVisible:function(e){if(n.inherited("isItemVisible",this,[e])){var t=this.getSelectedContext(e);if(t)return a.every(t,function(e){return o.hasPermissions(e,["read","write","traverse"])})}return!1},execute:function(a){var o=this.getSelectedContext(a),s=this.getListControl(a);(!s&&a.target.activeObject.contentView&&a.glassContext||a.target.activeObject.renderFromReact)&&(s=a.target.activeObject.oListControl),this._getAncestors(s,o).then(function(n){e(["../../../ManageContentDialogView"],function(i){a.glassContext.getSvc(".ContentDialogFactory").then(function(e){var t={glassContext:a.glassContext,ManageContentDialogView:i,viewOptions:this.getCopyMoveDialogViewOptions(s,o,n),onCopyMove:a.target.activeObject.onCopyMove};e.createCopyMoveDialog(t).open()}.bind(this))}.bind(this))}.bind(this))},getCopyMoveDialogViewOptions:function(e,t,i){return{glassContext:e.glassContext,type:this._getModalType(),ancestors:i,showBreadcrumbs:!0,url:e.contentView.url,selfUrl:e.contentView.selfUrl,inputObjects:t,showAddFolder:!0,invokingListControl:e,moveDisabled:!1}},_getAncestors:function(e,n){var t=e.contentView.getAncestors();return t&&0<t.length?Promise.resolve(t.slice()):this._areAllInputObjectsFromSameFolder(n)?e.glassContext.getCoreSvc(".Ajax").ajax({url:o.getSelfLink(n[0]),dataType:"json",type:"GET",data:{fields:"ancestors"}}).then(function(e){var t=e.data&&e.data.data&&e.data.data[0];if(t&&t.ancestors){var i=o.getAncestors(t);return a.each(n,function(e){e.ancestors=i.slice()}),Promise.resolve(i.slice())}return Promise.resolve([])}).catch(function(e){return i.showAjaxServiceError(this.glassContext,e),Promise.reject(e)}.bind(this)):Promise.resolve([])},_areAllInputObjectsFromSameFolder:function(e){for(var t=!0,i=1;i<e.length;i+=1)if(e[0].formatedPath){if(e[0].formatedPath!==e[i].formatedPath){t=!1;break}}else if(!o.ancestorsEqual(e[0].ancestors,e[i].ancestors)){t=!1;break}return t},_getModalType:function(){return"copyMoveDialog"}});return n}),define("bacontentnav/common/ui/list_actions/ManageContentActionCopyOnly",["../../../utils/ContentStoreObject","./ManageContentAction","lodash"],function(i,e,n){"use strict";return e.extend({isItemVisible:function(e){var t=this.getSelectedContext(e);if(t)return n.every(t,function(e){return i.hasPermissions(e,["read"])&&!i.hasPermissions(e,["write","traverse"])})},getCopyMoveDialogViewOptions:function(e,t,i){return{glassContext:e.glassContext,type:this._getModalType(),ancestors:i,showBreadcrumbs:!0,url:e.contentView.url,selfUrl:e.contentView.selfUrl,inputObjects:t,showAddFolder:!0,invokingListControl:e,moveDisabled:!0}}})}),define("bacontentnav/common/ui/list_actions/MRURemoveAction",["./ListAction"],function(e){"use strict";return e.extend({isItemVisible:function(e){return this.hasStateID(e,"CAMRUView")},execute:function(e){var i=e.glassContext.getSvc(".Content"),n=[];return this.getSelectedContext(e).forEach(function(t){n.push(i.then(function(e){e.removeFromMRU(t)}))}),Promise.all(n).then(function(){var e=this.getListControl();e&&e.updateDatatable&&e.updateDatatable(),e&&e.removeSelectedRows&&e.removeSelectedRows()}.bind(this))}})}),define("bacontentnav/common/ui/list_actions/NavigateContainerAction",["../../../lib/@waca/core-client/js/core-client/ui/core/Class","../../../utils/ContentStoreObject","lodash"],function(e,i,t){"use strict";var n=e.extend({init:function(e){n.inherited("init",this,arguments),t.extend(this,e)},canExecute:function(e){var t=e.target.activeObject.aSelectedContext;return i.hasPermissions(t[0],["traverse"])},doAction:function(e){var t=e.target.activeObject.oListControl,i=e.target.activeObject.aSelectedContext;return t&&1===i.length?(t.contentView.navigate(i[0],t.getSelectedRows()[0]),Promise.resolve()):Promise.reject(new Error("No objects selected"))}});return n}),define("bacontentnav/common/ui/list_actions/all",["./AddFolderAction","./DefaultAction","./DeleteAction","./ManageContentAction","./ManageContentActionCopyOnly","./MRURemoveAction","./NavigateContainerAction"],function(){}),define("text!bacontentnav/common/templates/ContentViewSwitcherTemplate.html",[],function(){return'<div class="contentViewSwitcher{{?it.showRootFolderName}} showRootFolderName{{?}}">\n\t<table role="presentation">\n\t\t<tbody>\n\t\t\t{{~it.rows :row:index}}\n\t\t\t\t<tr role="button" tabindex="0" class="rootSelector{{=index}}">\n\t\t\t\t\t<td class="icon" {{?!it.showRootFolderName}}title="{{=_.escape(row.defaultName)}}"{{?}}>\n\t\t\t\t\t\t<svg class="svgIcon">\n\t\t\t\t\t\t\t<use style="pointer-events: none;" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{{=row.svgIcon}}"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</td>\n\t\t\t\t\t{{?it.showRootFolderName}}\n\t\t\t\t\t<td class="name">\n\t\t\t\t\t\t<div title="{{=_.escape(row.defaultName)}}" class="active">{{=_.escape(row.defaultName)}}</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t{{?}}\n\t\t\t\t</tr>\n\t\t\t{{~}}\n\t\t</tbody>\n\t</table>\n</div>\n'}),define("bacontentnav/common/ContentSelectionDialogView",["text!./templates/ContentViewSwitcherTemplate.html","./ContentListPageView","../nls/StringResource","../utils/ContentStoreObject","../lib/@waca/core-client/js/core-client/utils/ContentFormatter","../utils/UIHelper","../utils/ContentServiceUrls","../lib/@waca/core-client/js/core-client/utils/BidiUtil","doT","../lib/@waca/core-client/js/core-client/ui/KeyCodes"],function(t,e,i,c,n,d,a,o,s,r){"use strict";var u=e.extend({GROUP_BY_TYPE_COLUMN_INDEX:4,stateId:"ContentSelectionDialogView",showDestination:!0,showRootFolderName:!1,init:function(e){u.inherited("init",this,arguments),this.contentListSortIndexes=d.getConfiguration("sort").indexes,this.contentContainer=$("<div/>",{class:"dialogContentContainer"}),this.contentListContainer=$("<div/>",{class:"contentListContainer"}),this.$el.append(this.contentContainer),this.contentContainer.append(this.contentListContainer);var t=e.glassContext.getCoreSvc(".UserProfile")&&e.glassContext.getCoreSvc(".UserProfile").userProfileSettings,i=t&&t.ui_excludedFeatures&&t.ui_excludedFeatures.ids&&0<=t.ui_excludedFeatures.ids.indexOf("com.ibm.bi.contentApps.myContentFoldersSlideout"),n=!1;!0!==e.alwaysShowTeamContent&&(n=t&&t.ui_excludedFeatures&&t.ui_excludedFeatures.ids&&0<=t.ui_excludedFeatures.ids.indexOf("com.ibm.bi.contentApps.teamFoldersSlideout")),this.ancestors&&0!==this.ancestors.length||(this.ancestors=n?[c.getRootMyFoldersAncestors()]:[this.getRootAncestor()]);var a=c.getRootMyFoldersAncestors(),o=c.getRootPublicFoldersAncestor(),s=[];!0!==i&&s.push(a),!0!==n&&s.push(o),this.ancestors&&0!==this.ancestors.length||(!0===n&&(this.folder="my_folders"),this.ancestors=[this.getRootAncestor()]),this.rootObjects=e.rootObjects||s,this.ancestorsMap={},this.rootObjects.forEach(function(e){e.svgIcon=d.getSVGIconForType(c.getType(e)),this.ancestorsMap[e.id]=e.id===this.ancestors[0].id?this.ancestors:[e]}.bind(this)),this.selectedRootId=this.ancestors[0].id;var r=this.ancestors.length,l=c.getItemsLink(this.ancestors[r-1]);this.url=l||this._buildItemsLinkWithSelfUrl(this.ancestors[r-1].selfUrl),this.selfUrl=c.getSelfLink(this.ancestors[r-1]),this.navigateOnRowSelect=!0,this.dataManipulationCallback=e.dataManipulationCallback,this.addURLParameters({nav_filter:"true",fields:"defaultName,disabled,hidden,permissions,userInterfaces,iconURI,defaultScreenTip,tags"}),this.multiSelect&&(this.GROUP_BY_TYPE_COLUMN_INDEX=5)},_buildItemsLinkWithSelfUrl:function(e){return e+"/items"},_getModuleName:function(){return"../ContentSelectionDialogView"},renderContent:function(){jQuery.fn.dataTableExt.oSort["string-asc"]=function(e,t){return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),d.getCollator().compare(e,t)},jQuery.fn.dataTableExt.oSort["string-desc"]=function(e,t){return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),-1*d.getCollator().compare(e,t)},delete jQuery.fn.dataTableExt.oSort["string-pre"],this.contentHeader=$("<div>",{class:"dialogContentHeader"}),this.contentFooter=$("<div>",{class:"dialogContentFooter"}),this.$el.prepend(this.contentHeader),this.$el.append(this.contentFooter);var e=this.dataManipulationCallback||this.commonDataManipulationCallback,t={browserResize:!1,disableColumnHeaders:!0,multiSelect:!1,canSelectCallback:this.canSelectCallback,selectAcrossFolders:this.selectAcrossFolders,selectAcrossFoldersSelectionChangeCallback:this.selectAcrossFoldersSelectionChangeCallback,rightClickContextMenu:!1,columns:this._getColumnSpecification(),url:this.url,defaultSort:this.getDefaultSort(),filterByTypes:this.filterByTypes,typesToOpen:this.typesToOpen,capabilitiesRequired:this.capabilitiesRequired,dataManipulationCallback:e,groupByColumnAPI:this.getGroupByColumnAPI(),skipYBound:!0};this.multiSelect&&(t.multiSelect=!0);var i=!0===this.teamContentOnly?function(){return Promise.resolve()}:this._renderContentViewSwitcher.bind(this);return this._renderHeader().then(this._fetchCustomFolder.bind(this)).then(i).then(this._renderFooter.bind(this)).then(this.renderContentList.bind(this,t)).then(this._postRenderContent.bind(this))},_fetchCustomFolder:function(){var e=this.glassContext.getCoreSvc(".UserProfile").userProfileSettings,t=e&&e.ui_teamFolders,i=t&&t.pathRef;if(i){i=i.replace(/^\//,"");var n=a.getBasePathURL()+encodeURIComponent(i);return this.glassContext.getCoreSvc(".Ajax").ajax({dataType:"json",url:n}).then(function(e){var t=e.data.data[0];return t.svgIcon="#ba_content_nav-custom-folder_24",this.ancestorsMap[t.id]=t.id===this.ancestors[0].id?this.ancestors:[t],this.rootObjects.push(t),Promise.resolve()}.bind(this)).catch(function(e){return this.logger.error(e),Promise.resolve()}.bind(this))}return Promise.resolve()},_renderHeader:function(){return Promise.resolve(!0)},_renderFooter:function(){return this._renderDestinationInfo(),Promise.resolve(!0)},_renderDestinationInfo:function(){if(this.showDestination){var e=$("<div>",{class:"destinationLabel"});e.text(i.get("destination")),this.destinationValue=$("<div>",{class:"destinationValue"});var t=$("<div>",{class:"destinationSection"}).append(e,this.destinationValue);return this.contentFooter.append(t),this._updateDestination(),t}},_postRenderContent:function(){return Promise.resolve(!0)},_renderContentViewSwitcher:function(){var e=s.template(t)({rows:this.rootObjects,showRootFolderName:this.showRootFolderName});return this.contentContainer.prepend(e),this._addSwitchRootFolderEventHandler(),this._updateContentViewSwitcher(),Promise.resolve()},_addSwitchRootFolderEventHandler:function(){this.rootObjects.forEach(function(e,t){var i=this.contentContainer.find(".rootSelector"+t);i.click(function(){i.hasClass("selected")||this._switchRootFolder(e)}.bind(this)),i.keydown(this._keydownHandler.bind(this,i,e))}.bind(this))},_keydownHandler:function(e,t,i){var n=!0;return i.keyCode!==r.SPACE&&i.keyCode!==r.ENTER||e.hasClass("selected")||(this._switchRootFolder(t),n=!1),n},_updateContentViewSwitcher:function(){this.rootObjects.forEach(function(e,t){var i=this.contentContainer.find(".rootSelector"+t);e.id===this.selectedRootId?(i.addClass("selected"),i.attr("aria-pressed","true")):(i.removeClass("selected"),i.attr("aria-pressed","false"))}.bind(this))},_switchRootFolder:function(e){this.ancestorsMap[this.selectedRootId]=this.ancestors,this.selectedRootId=e.id,this.ancestors=this.ancestorsMap[e.id];var t=this.ancestors.pop();this.navigate(t)},_getColumnSpecification:function(){var e=[{type:"Icon"},{type:"Name",navigateOnly:!0}];return e.push({type:"Time",propertyName:c.MODIFICATION_TIME,visible:!1}),e.push({type:"Text",propertyName:"groupByFolder",visible:!1}),e.push({type:"Text",propertyName:"groupByType",visible:!1}),this.multiSelect&&e.unshift({type:"Checkbox"}),e},_updateButtonsState:function(){},updateDialog:function(e){this._updateContentViewSwitcher(),this._updateDestination(),this._updateButtonsState(e)},_updateDestination:function(){if(this.showDestination&&this.ancestors&&this.ancestors.length){var e=c.getName(this.ancestors[this.ancestors.length-1]);this.destinationValue.text(e),n.middleShortenString(this.destinationValue.get(0));var t=o.resolveBaseTextDir(this.destinationValue.text());0<t.length&&this.destinationValue.attr("dir",t)}},navigate:function(e){this.onClickItemCallback&&this.onClickItemCallback(e),u.inherited("navigate",this,arguments),this.updateDialog(e)},getDefaultSort:function(){return this.multiSelect?[[4,"asc"],[2,"asc"]]:[[3,"asc"],[1,"asc"]]},getSortSpec:function(){return{sortBy:{name:"name",modificationTime:"modificationTime"},order:{sortedAscending:"asc",sortedDescending:"desc"}}},getSortMappingSpec:function(){return{name:["groupByFolder","name"],modificationTime:["groupByFolder","modificationTime"],type:["groupByType","name"]}},commonDataManipulationCallback:function(e,i){null!==i&&e.data.forEach(function(e){var t=d.getDisplayType(e);d.isContainer(t)?(e.groupByFolder=i.folders,e.groupByType=e.groupByFolder):(e.groupByFolder=i.others,d.isGroup(t,"report")?e.groupByType=i.reports:d.isGroup(t,"dashboard")?e.groupByType=i.dashboards:d.isGroup(t,"data")?e.groupByType=i.data:d.isGroup(t,"exploration")?e.groupByType=i.explorations:e.groupByType=i.others)})},getGroupByColumnAPI:function(){return{columnIndex:this.GROUP_BY_TYPE_COLUMN_INDEX,getGroupName:function(t){var e=Object.keys(this.contentListSortIndexes).find(function(e){return this.contentListSortIndexes[e]===t}.bind(this));return e&&i.get(e)||t}.bind(this),shouldGroup:function(e){var t=e.order();return t&&t[0]&&t[0][0]===this.GROUP_BY_TYPE_COLUMN_INDEX}.bind(this)}}});return u}),define("text!bacontentnav/ui/views/templates/OpenView.html",[],function(){return'\x3c!-- Licensed Materials - Property of IBM\n\n    IBM Cognos Products: Cognos Analytics\n\n    (C) Copyright IBM Corp. 2016\n\n    US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.\n--\x3e\n<div class="openView">\n\t<div class="selectFolderView"></div>\n</div>\n'}),define("bacontentnav/ui/views/OpenView",["jquery","doT","../../lib/@waca/core-client/js/core-client/ui/core/View","../../common/ContentSelectionDialogView","../../utils/ContentStoreObject","../../utils/UIHelper","text!./templates/OpenView.html","../../nls/StringResource"],function(t,e,i,n,a,o,s,r){var l=i.extend({templateString:s,events:{},isDialog:!1,onDefaultAction:null,init:function(e){l.inherited("init",this,arguments),t.extend(this,e),this._contentViewclass=this._contentViewClass||n,this._selectedItems=[]},render:function(){this.$el.empty();var e=this.dotTemplate({openLabel:this.filesToOpenTitle||r.get("filesToOpen")});this.$el.append(e);var t={$el:this.$(".selectFolderView"),glassContext:this.glassContext,breadcrumbs:[{label:this.defaultName||r.get("teamFolders"),url:this.url||"/v1/objects/.public_folders/items",selfUrl:this.selfUrl||"/v1/objects/.public_folders"}],showBreadcrumbs:!0,showAddFolder:!1,showFilter:!this.filterByTypes||0===this.filterByTypes.length,showDestination:!1,url:this.url||"v1/objects/.public_folders/items",selfUrl:this.selfUrl||"v1/objects/.public_folders",rootObjects:this.rootObjects,ancestors:a.getAncestors({ancestors:this.ancestors}),inputObjects:[],filterByTypes:this.filterByTypes,typesToOpen:this.typesToOpen,capabilitiesRequired:this.capabilitiesRequired,dataManipulationCallback:this.dataManipulationCallback,teamContentOnly:this.teamContentOnly,isDialog:this.isDialog,onDefaultAction:this.onDefaultAction,alwaysShowTeamContent:this.alwaysShowTeamContent};this.multiSelect?(t.multiSelect=!0,t.canSelectCallback=this.canSelect.bind(this),t.selectAcrossFolders=!0,t.selectAcrossFoldersSelectionChangeCallback=this.onMultiSelectionChange.bind(this)):t.onClickItemCallback=this.onSelectionChange.bind(this),this.contentView=new this._contentViewclass(t),this.contentView.addURLParameters&&(this.contentView.addURLParameters({fields:"searchPath"}),this.extraUrlParameters&&this.contentView.addURLParameters({fields:this.extraUrlParameters}),this.capabilitiesRequired&&this.contentView.addURLParameters({fields:"effectiveUserCapabilities"})),this.contentView.render(),this.$fileNames=this.$(".fileNames")},remove:function(){l.inherited("remove",this,arguments),this.contentView.remove(),this._emptySelection()},getSelectedItems:function(){return this._selectedItems},canSelect:function(e){return!0===this._isTypeToOpen(o.getFilterType(e))},onSelectionChange:function(e){!1===this._isSelected(e)&&(!0===this._isTypeToOpen(o.getFilterType(e))?(this.multiSelect||this._emptySelection(),this._selectedItems.push(e)):this.multiSelect||this._emptySelection()),this._toggleOpenButton()},onMultiSelectionChange:function(e){this._selectedItems=e,this.parent.updateSelectionCount(this._selectedItems.length),this._toggleOpenButton()},_emptySelection:function(){this._selectedItems=[]},clearAllSelected:function(){this.contentView&&this.contentView.clearAllSelected()},_setFocusAfterDeleteSelectedItem:function(){this.parent.setFocus()},_toggleOpenButton:function(){var e=this.parent.findFooterButton("open_button");0===this._selectedItems.length||this.getSelectedItems()[0].disabled?e.disable():e.enable()},_isTypeToOpen:function(e){for(var t=this.typesToOpen,i=t?t.length:0,n=0===i,a=0;a<i;a++)if(e===t[a]){n=!0;break}return n},_isSelected:function(e){for(var t=this._selectedItems.length,i=0;i<t;i++)if(this._selectedItems[i].id===e.id)return!0;return!1}});return l}),define("bacontentnav/ui/dialogs/OpenDialog",["../../lib/@waca/core-client/js/core-client/ui/dialogs/GenericViewDialog","../views/OpenView","../../nls/StringResource"],function(e,o,s){var r=e.extend({init:function(e){for(var t="folder|package",i=(this.options=e).typesToOpen,n=0;n<i.length;n++)t=t+"|"+i[n];var a={buttons:[{text:e.primaryBtnText||s.get("open"),handler:this.ok.bind(this),type:"primary",defaultId:"open_button"},{handler:this.cancel.bind(this),defaultId:"cancel"}],viewClass:o,id:"openDialogTitle",title:e.dialogTitle||s.get("openDialogTitle"),viewOptions:{ancestors:e.ancestors,url:e.url,selfUrl:e.selfUrl,glassContext:e.glassContext,onOpen:this.onOpen.bind(this),isDialog:!0,onDefaultAction:this.onDefaultAction.bind(this),filesToOpenTitle:e.filesToOpenTitle||s.get("filesToOpen"),typesToOpen:e.typesToOpen||[],capabilitiesRequired:e.capabilitiesRequired||void 0,multiSelect:e.multiSelect||!1,parent:this,filterByTypes:e.filtersByTypes||[t]||void 0,rootObjects:e.rootObjects,extraUrlParameters:this._getExtraUrlParameters(e.extraUrlParameters,i),dataManipulationCallback:e.dataManipulationCallback,teamContentOnly:e.teamContentOnly,alwaysShowTeamContent:e.alwaysShowTeamContent||!1}};r.inherited("init",this,[a])},_getExtraUrlParameters:function(e,t){var i=e||[];return t&&0<t.length&&-1!==t.indexOf("reportView")&&i.push("base.defaultName"),i},renderFooter:function(){var e=r.inherited("renderFooter",this,arguments);if(this.options.multiSelect){this._selectionCount=$("<span>",{class:"selectionCount"});var t=s.get("noOfItemSelected",{noOfItems:0});this._selectionCount.text(t),this._selectionCount.attr("aria-label",t);var i=e.find(".footerContainer"),n=$('<span class="clearSelection"><a role="button" tabindex="0"></a></span>');i.addClass("selectionCounter"),i.prepend(n),i.prepend(this._selectionCount),(n=n.find("a")).text(s.get("clearAllSelected")),n.attr("aria-label",s.get("clearAllSelected")),n.on("primaryaction",function(){this.view&&this.view.clearAllSelected()}.bind(this))}return e},updateSelectionCount:function(e){var t=s.get("noOfItemSelected",{noOfItems:e});this._selectionCount.text(t)},onOpen:function(){var e=this._container();e.addClass("openDialog"),e.find(".dialogHeader"),e.find(".modalDialog").addClass("contentListDialog"),e.find("footer").attr("role","contentinfo").attr("aria-label",s.get("openDialogFooter")),this.findFooterButton("open_button").disable()},ok:function(){this.options.onOpenCallback&&this.options.onOpenCallback(this.view.getSelectedItems()),r.inherited("ok",this,arguments),this.hide()},cancel:function(){this.options.onCancelCallback&&this.options.onCancelCallback(),r.inherited("cancel",this,arguments)},setFocus:function(){this._container().find(".dialogButton.secondary")[0].focus()},onDefaultAction:function(){this.ok()}});return r}),define("text!bacontentnav/ui/views/templates/SaveAsView.html",[],function(){return'\x3c!-- Licensed Materials - Property of IBM\n\n    IBM Cognos Products: Cognos Analytics\n\n    (C) Copyright IBM Corp. 2016\n\n    US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.\n--\x3e\n<div class="saveAsView">\n\t<div class="selectFolderView"></div>\n\t<div class="fileNameSection">\n\t\t<div class="saveAsLabel">{{!it.saveAsLabel}}</div>\n\t\t<input class="fileName" type="text" value="{{!it.defaultNameValue}}" aria-label="{{!it.saveAsLabel}}" tabindex="0">\n\t</div>\n</div>'}),define("bacontentnav/ui/views/SaveAsView",["jquery","../../lib/@waca/core-client/js/core-client/ui/KeyCodes","../../lib/@waca/core-client/js/core-client/ui/core/View","../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../../common/ContentSelectionDialogView","../../utils/ContentServiceUrls","../../utils/ContentStoreObject","../../utils/UIHelper","../../nls/StringResource","text!./templates/SaveAsView.html"],function(t,i,e,n,a,o,s,r,l,c){var d=e.extend({templateString:c,events:{},init:function(e){d.inherited("init",this,arguments),t.extend(this,e),this._contentViewclass=this._contentViewClass||a},render:function(){this._createContentView(),this.contentView.render();var e=this.$("input.fileName");e.on("keydown",this._onKeyDown.bind(this)),n.initElementForBidi(e[0])},_createContentView:function(){this.$el.empty();var e=this.dotTemplate({defaultNameValue:this.defaultFileName||this.glassContext.appController.currentAppView.currentContentView.title||"",saveAsLabel:this.inputLabel||l.get("saveAsLabel")});this.$el.append(e),this.contentView=new this._contentViewclass({$el:this.$(".selectFolderView"),glassContext:this.glassContext,showBreadcrumbs:!0,showAddFolder:!0,url:this.url||o.getPublicFoldersContentURL(),selfUrl:this.selfUrl||o.getPublicFoldersURL(),ancestors:s.getAncestors({ancestors:this.ancestors}),inputObjects:[],alwaysShowTeamContent:this.alwaysShowTeamContent,navigateCallback:function(e){this.onNavigation(e)}.bind(this),listControlCallback:this._updateSaveAsName.bind(this)})},_onKeyDown:function(e){if(e.keyCode===i.ENTER&&0!==this.getFileName().replace(/\s+/g,"").length)return this.saveOnKeyDown(),!1},_updateSaveAsName:function(e){r.isContainer(e.type)||this.$("input.fileName").attr("value",e.defaultName)},remove:function(){d.inherited("remove",this,arguments),this.contentView.remove()},getSelection:function(){return this.selection={url:this.contentView.url},this.selection},getFileName:function(){return this.$(".fileName").val()},onSelectionChange:function(){}});return d}),define("text!bacontentnav/ui/dialogs/template/saveAsProgressIndicator.html",[],function(){return'<div class="saveAsInProgress">\n    <div class="saveAsInProgress__indicator"></div>\n    <label class="saveAsInProgress__indicator-label">{{!it.loadText}}</label>\n</div>'}),define("bacontentnav/ui/dialogs/SaveAsDialog",["lodash","../../lib/@waca/core-client/js/core-client/ui/dialogs/GenericViewDialog","../../lib/@waca/core-client/js/core-client/utils/BidiUtil","../views/SaveAsView","../../utils/UIHelper","../../utils/ContentStoreObject","../../utils/ContentServiceUrls","../../utils/GlassContextHelper","../../nls/StringResource","text!./template/saveAsProgressIndicator.html","ca-ui-carbon-toolkit","react","react-dom"],function(a,e,t,i,o,n,s,r,l,c,d,u,h){var p=e.extend({templateString:c,init:function(e){this.options=e;var t=a.defaults(e,{buttons:[{text:l.get("save"),handler:this.ok.bind(this),type:"primary",defaultId:"save_button"},"cancel"],viewClass:i,id:"saveDialogTitle",title:l.get("saveDialogTitle"),viewOptions:{ancestors:this.isRenderFromReact()?this.options.service.context.target.activeObject.ancestors:e.ancestors,url:e.url,selfUrl:e.selfUrl,glassContext:e.glassContext,defaultFileName:e.defaultFileName,inputLabel:e.inputLabel,alwaysShowTeamContent:e.alwaysShowTeamContent||!1,onOpen:this.onOpen.bind(this),onHide:this.onHide.bind(this),onNavigation:this._onNavi.bind(this),saveOnKeyDown:this.ok.bind(this)}});this.glassContext=e.glassContext,this.glassContext&&this.glassContext.getCoreSvc?this.logger=this.glassContext.getCoreSvc(".Logger"):this.logger={error:function(){}},this.inputEventAdded=!1,p.inherited("init",this,[t])},_onNavi:function(){this._updateButtons(),this.inputEventAdded||(this.inputEventAdded=!0,this._container().find(".fileName").on("input",function(){this._updateButtons()}.bind(this)))},_isSaveButtonDisabled:function(){var e=!1;if(!this.view.getFileName().trim())return Promise.resolve(!0);var t=o.getConfiguration("capabilities").saveAs;if(!1===t.publicFolder){var i=this.view.getSelection();if(i&&i.url===s.getPublicFoldersContentURL())return Promise.resolve(!0)}if(!0!==t.requiresParentWritePermissions)return Promise.resolve(!1);var n=this.view.contentView.parentObj;return n&&n.permissions?(e=-1===n.permissions.indexOf("write"),Promise.resolve(e)):this.view.contentView.getParentProperties().then(function(){return(n=this.view.contentView.parentObj)&&n.permissions&&(e=-1===n.permissions.indexOf("write")),Promise.resolve(e)}.bind(this))},_updateButtons:function(){return this._isSaveButtonDisabled().then(function(e){e?this.saveButton.disable():this.saveButton.enable()}.bind(this))},onOpen:function(){var e=this._container();e.addClass("saveDialog"),e.find(".dialogHeader"),e.find(".modalDialog").addClass("contentListDialog"),e.find("footer").attr("role","contentinfo").attr("aria-label",l.get("saveDialogFooter")),this.saveButton=this.findFooterButton("save_button"),this._onNavi()},ok:function(){this.saveButton.isEnabled()?this.options.service?this._onSaveService(this.view.getSelection(),this.view.getFileName(),!1):this.options.onSave(this.view.getSelection(),this.view.getFileName()):r.displayToast(this.glassContext,l.get("toastNoCapabilityForContainer",{nameOfContainer:t.enforceTextDirection(this._getDestinationName())}),{type:"warning"})},onHide:function(){"undefined"!==this.options&&a.isFunction(this.options.onHide)&&this.options.onHide()},setFocus:function(){this._container().find(".fileName")[0].focus()},_onSaveService:function(e,t,i){if(a.isFunction(this.options.service.save))try{this._doSaveService(e,t,i)}catch(e){this.logger.error(e)}else this.logger.error("SaveAsDialog service save undefined.")},_renderProgressIndicator:function(){var e=this.dotTemplate({loadText:l.get("loading")});this._saveAsView=this.view.$el.find(".saveAsView"),this._saveAsView.addClass("invisible"),this.view.$el.append(e),this._$saveAsInProgressIndicator=this.view.$el.find(".saveAsInProgress__indicator"),this._$saveAsInProgress=this.view.$el.find(".saveAsInProgress"),h.render(u.createElement(d.ProgressIndicator),this._$saveAsInProgressIndicator.get(0)),this.saveButton.disable()},_doSaveService:function(t,i,e){this._renderProgressIndicator();var n=this.view.contentView.getListControl().getDatatable().fnGetData();this.options.service.save(this.options.service,t,i,!!e).catch(function(e){e&&(!0===e.isDuplicate?0<a.filter(n,function(e){return e.defaultName===i&&o.isContainer(e.type)}).length?r.displayToast(this.glassContext,l.get("toastSaveErrorSameNameDifferentType",{nameOfItem:i}),{type:"warning"}):this.glassContext.appController.Glass.showMessage(l.get("msgConfirmRefreshUpload",{fileName:i}),l.get("confirmRefreshUpload"),"info",["cancel","ok"],void 0,function(e){"ok"===e.btn&&this._onSaveService(t,i,!0)}.bind(this)):!0===e.isReplaceFailed?r.displayToast(this.glassContext,l.get("toastSaveErrorSameNameDifferentType",{nameOfItem:i}),{type:"warning"}):this.logger.error(e))}.bind(this)).finally(function(){this._saveAsView.removeClass("invisible"),this._$saveAsInProgress.remove(),this.saveButton.enable(),this.isRenderFromReact()&&this.options.service.context.target.activeObject.onCloseSaveDialog()}.bind(this))},isRenderFromReact:function(){return this.options.service&&this.options.service.context&&this.options.service.context.target&&this.options.service.context.target.activeObject&&!0===this.options.service.context.target.activeObject.renderFromReact},_getDestinationName:function(){var e="";if(this.view&&this.view.contentView){var t=this.view.contentView.ancestors;t&&(e=n.getName(t[t.length-1]))}return e}});return p}),define("bacontentnav/services/ContentDialogFactory",["../ui/dialogs/OpenDialog","../ui/dialogs/SaveAsDialog"],function(t,i){var e=function(){};return e.prototype.createOpenDialog=function(e){return new t(e)},e.prototype.createSaveAsDialog=function(e){return new i(e)},e}),define("js/content_apps/folderBundle",function(){});