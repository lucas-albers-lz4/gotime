/**
 * IBM Confidential OCO Source Materials IBM Business Platform: CA Admin
 * (C) Copyright IBM Corp. 2017, 2018
 *
 * The source code for this program is not published or otherwise divested of
 * its trade secrets, irrespective of what has been deposited with the U.S.
 * Copyright Office
 */

define("bi/admin/common/utils/AJAXUtils",[],function(){"use strict";var e=null,t={ldapStatus:"ads_state",namespace:"namespaces",datasources:"datasources",test:"datasourceconnection/test",testWithConn:"datasourceconnection/test_with_credential",tenants:"tenants"},n=function i(){return i.prototype._singletonInstance?i.prototype._singletonInstance:void 0};n.prototype.getAJAXURL=function(e){return"v1/"+t[e]},n.prototype.getURL=function(e){return"v1/"+e},n.prototype._parseErrorMsg=function(e){var t="";return void 0!==e.responseJSON.messages?t=e.responseJSON.messages.join("\n"):void 0!==e.responseJSON.errors[0].messages&&(t=e.responseJSON.errors[0].messages.join("\n")),t},n.prototype.getPath=function(e,t){var n={contentManagerSearch:"/cmsearch",getDiskUsage:"/disk_usage",getExports:"/exports",getExport:"/exports/"+t,getExportStatus:"/exports/"+t+"/status",importExportSpec:"/exports/"+t+"/run",createExport:"/exports",deleteExport:"/exports/"+t,getImports:"/imports",getImport:"/imports/"+t,getImportStatus:"/imports/"+t+"/status",importImportSpec:"/imports/"+t+"/run",createImport:"/imports",deleteImport:"/imports/"+t,uploadFile:"/uploadfile",getGroupCapabilities:"/groups/"+t+"/capabilities",getGroupLicense:"/groups/"+t+"/license",getGroups:"/groups",getGroup:"/groups/"+t,getGroupMembers:"/groups/"+t+"/members",getObjectsWithGroup:"/groups/"+t+"/memberof",createGroup:"/groups?pid="+t,addGroupMembers:"/groups/"+t+"/members",removeGroupMembers:"/groups/"+t+"/members",updateGroup:"/objects/"+t,deleteGroup:"/objects/"+t,getLicenseUse:"/licenses",getLicenseStatus:"/license",updateLicenseCount:"/licenses/owned",switchLicenseStatus:"/license",refreshLicenses:"/licenses",namespaceSearch:"/namespaces/"+t+"/search",getNamespaces:"/namespaces/",getNamespace:"/namespaces/"+t,getNamesapceItems:"/namespaces/"+t+"/items",createNamespace:"/namespace?pid="+t,updateNamespace:"/objects/"+t,getNamespaceFolders:"/folders",getNamespaceFolder:"/folders/"+t,getNamespaceFolderItems:"/folders"+t+"/items",createNamespaceFolder:"/folders?pid="+t,updateNamespaceFolder:"/folders/"+t,deleteNamespaceFolder:"/folders/"+t,getPrinters:"/system/printers",getPrinter:"/systems/printers/"+t,getRoles:"/roles/",getRoleCapabilities:"/roles/"+t+"/capabilities",getRoleMembers:"/roles/"+t+"/members",getRoleLicense:"/roles/"+t+"/license",getUserProfileSettings:"/roles/"+t+"/user_profile_settings",getRole:"/roles/"+t,getObjectsWithRole:"/roles/"+t+"/memberof",createRole:"/roles?pid="+t,addRoleMembers:"/roles/"+t+"/members",updateRole:"/objects/"+t,updateRoleCapabilities:"/roles/"+t+"/capabilities",updateUserProfileSettings:"/roles/"+t+"/user_profile_settings",modifyRole:"/roles/"+t,deleteRole:"/roles/"+t,getUserCapabilities:"/users/"+t+"/capabilities",getUserLicense:"/users/"+t+"/license",getUsers:"/users/",getUser:"/users/"+t,getIdentities:"/identity",getUserPreference:"/users/"+t+"/preference",getObjectsWithUser:"/users/"+t+"/memberof",createUser:"/users?pid="+t,updateUser:"/users/"+t,updateUserPreference:"/users/"+t+"/preference",updateExternalUser:"/users_ex/"+t,deleteUser:"/users/"+t,deleteUserProfile:"/users/"+t+"/profile",createUserProfile:"/users/"+t+"/createprofile",copyUserProfile:"/users/"+t+"/copyProfile",get_default_user_profile:"/default_user_profile",update_default_user_profile:"/default_user_profile",routingRules:"/routingrules",routingHintAsset:"/objects/"+t,routingRulesTable:"/objects/"+t,serverGroup:"/objects"+t+"/items",getTenant:"/tenants?tenantID="+t,deleteTenant:"/tenants?tenantID="+t,deleteTenantUserProfile:"/tenants/profile?tenantID="+t,updateTenant:"/tenants?tenantID="+t,tenants:"/tenants",tenantCustomizations:"/tenants/user_profile_settings?tenantID="+t,killTenantSessions:"/tenants/sessions?tenantID="+t,tenantIDForUser:"/objects/"+t,tenantNotificationSettings:"/configuration/tenants?tenantID="+t+"&subject=notification",systemNotificationSettings:"/configuration/keys/NC.defaultSender",tenantPreferences:"/tenants/preferences?tenantID="+t,getSystemProfileSettings:"/system_profile_settings",updateSystemProfileSettings:"/system_profile_settings",deleteVisualization:"/objects/"+t,updateVisualization:"/objects/"+t,getPerspective:"/perspectives",getMtCloudBuild:"/configuration/keys/mtCloudBuild",getAncestors:"/objects/"+t+"?fields=ancestors"};return"v1"+n[e]},n.prototype.isNamingConflictErrorMsg=function(e){var t=this._parseErrorMsg(e);return t?t.indexOf("CM-REQ-4201")>=0||t.indexOf("CM-REQ-4036")>=0||t.indexOf("CM-REQ-4024")>=0:!1},n.prototype.buildErrorMessage=function(e){var t="";return e&&_.each(e,function(e,n,s){t+=e.message+"\n"}),t};var s={getInstance:function(){return e||(e=new n),e}};return s.getInstance()}),define("bi/admin/common/services/ApiBase",["jquery","lodash","q","bi/commons/ui/core/Class","bi/admin/nls/StringResource","bi/admin/common/utils/AJAXUtils"],function(e,t,n,s,i,o){"use strict";var a=s.extend({baseUrl:"v1/",ajaxService:null,init:function(e){a.inherited("init",this,arguments),t.assign(this,e)},_getRestOptions:function(e,t){e=e||"GET";var n={method:e,contentType:"application/json; charset=utf-8",dataType:"json"};return t&&(n.data=JSON.stringify(t)),n},_parseErrorMsg:function(e){var t="";return void 0!==e.responseJSON.messages&&(t=e.responseJSON.messages.join("\n")),t},isNameConflictErrorMsg:function(e){var t=this._parseErrorMsg(e);return t?t.indexOf("CM-REQ-4201")>=0||t.indexOf("CM-REQ-4036")>=0||t.indexOf("CM-REQ-4024")>=0:!1},getAjaxService:function(){null===this.ajaxService&&(this.ajaxService=this.glassContext.services.ajax)},_ajax:function(t,n){this.getAjaxService(),n.url=(this.baseUrl||"")+t;var s=this.ajaxService.ajax(e.extend({headers:{Accept:"application/json","Content-Type":"application/json"},dataType:"json"},n));return s},getCredential:function(){var e={url:"v1/users/~/credentials",type:"GET",dataType:"json"};return this.glassContext.getCoreSvc(".Ajax").ajax(e)},renewCredential:function(){return this.glassContext.getCoreSvc(".Login").renewCredential()},updateCMObject:function(e,t,n,s){s||(t.type=e.type),n||(n={success:"objectUpdateSuccess",fail:"objectUpdateFail"});var a=s?s:"v1/objects/",r={dataType:"json",type:"PUT",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),url:a+e.id};return this.glassContext.getCoreSvc(".Ajax").ajax(r).then(function(){this.glassContext.appController.showToast(i.get(n.success,{num:e.defaultName}))}.bind(this),function(e){this.glassContext.appController.showErrorMessage(i.get(n.fail)+", "+o.buildErrorMessage(e.jqXHR.responseJSON.errors))}.bind(this))},updateCOSConnection:function(e,t){var n={success:"cloudConnectionUpdateSuccessful",fail:"cloudConnectionUpdateFail"};return this.updateCMObject(e,t,n,"v1/cos/")},updateCOSLocation:function(e,t){var n={success:"cloudLocationUpdateSuccessful",fail:"cloudLocationUpdateFail"};return this.updateCMObject(e,t,n,"v1/coslocations/")},updateSISubscription:function(e,t){var n={success:"siSubscriptionUpdateSuccessful",fail:"siSubscriptionUpdateFail"};return this.updateCMObject(e,t,n,"v1/social_insights/subscriptions/")},updateResourceFolder:function(e,t){var n={success:"resourceFolderUpdateSuccessful",fail:"resourceFolderUpdateFailure"};return this.updateCMObject(e,t,n)}});return a}),define("bi/admin/datasource/services/ApiSvc",["lodash","bi/admin/common/services/ApiBase"],function(e,t){"use strict";var n=null,s=t.extend({filterTypes:[],init:function(e){s.inherited("init",this,arguments),this.dataSources=this._getDsApiSet(),this.dataConnections=this._getDcApiSet(),this.signOns=this._getSignonApiSet(),this.tables=this._getTableApiSet(),this.schemas=this._getSchemaApiSet(),this.tasks=this._getTaskApiSet(),this.schemaSources=this._getSchemaSourceApiSet(),this.history=this._getHistoryApiSet()},_getDsApiSet:function(){var e=this,t="datasources",n=function(e){return e+=e.indexOf("?")>-1?"&intType=light":"?intType=light"};return{read:function(s){return e._ajax(n(t+"/"+s),e._getRestOptions())},update:function(s,i){return e._ajax(n(t+"/"+s),e._getRestOptions("PUT",i))},create:function(s){return e._ajax(n(t+"/"),e._getRestOptions("POST",s))},listDefinitions:function(t){return e._ajax(n("definitions?cat="+t),e._getRestOptions())}}},_createResource:function(t){var n=this,s=function(t,n){var s=t;return n.push(""),n.push(""),n.push(""),e.forEach(n,function(e,t){var n="[id"+t+"]";s=s.replace(n,e)}),s};return{template:t,request:function(e,t,i){var o=s(this.template,e);return i&&(t.headers={Accept:"application/json","x-ca-affinity":i}),n._ajax(o,t)}}},_getDcApiSet:function(){var e=this,t=this._createResource("datasources/[id0]/connections/[id1]");return{list:function(n){return t.request([n],e._getRestOptions())},read:function(n,s){return t.request([n,s],e._getRestOptions())},update:function(n,s,i){return t.request([n,s],e._getRestOptions("PUT",i))},create:function(n,s){return t.request([n],e._getRestOptions("POST",s))},remove:function(n,s){return t.request([n,s],e._getRestOptions("DELETE"))},testConnection:function(t){return e._ajax("datasourceconnection/test",e._getRestOptions("POST",t))},testConnectionWithCredential:function(t){return e._ajax("datasourceconnection/test_with_credential",e._getRestOptions("POST",t))}}},_getSchemaApiSet:function(){var e=this,t=this._createResource("metadata/schemas/[id0]");return{read:function(n){return t.request([n],e._getRestOptions())},update:function(n,s){return t.request([n],e._getRestOptions("PUT",s))},clear:function(n){return t.request([n],e._getRestOptions("DELETE"))}}},_getSchemaSourceApiSet:function(){var e=this,t=this._createResource("metadata/sources/[id0]/schemas");return{create:function(n,s){return t.request([n],$.extend(e._getRestOptions("POST",s),{dataType:"text"}))}}},_getTableApiSet:function(e){var t=this,n=this._createResource("metadata/schemas/[id0]/tables");return{list:function(e){return n.request([e],t._getRestOptions())}}},_getTaskApiSet:function(){var e=this,t=this._createResource("metadata/tasks/[id0]");return{cancel:function(n,s){return t.request([n],e._getRestOptions("DELETE"),s)}}},_getHistoryApiSet:function(e){var t=this,n=this._createResource("metadata/schemas/[id0]/history");return{list:function(e){return n.request([e],t._getRestOptions())}}},_getSignonApiSet:function(){var e=this,t=this._createResource("datasources/[id0]/connections/[id1]/signons/[id2]");return{list:function(n,s){return t.request([n,s],e._getRestOptions())},read:function(n,s,i){return t.request([n,s,i],e._getRestOptions())},update:function(n,s,i,o){return t.request([n,s,i],e._getRestOptions("PUT",o))},create:function(n,s,i){return t.request([n,s],e._getRestOptions("POST",i))},remove:function(n,s,i){return t.request([n,s,i],e._getRestOptions("DELETE"))}}}}),i={getInstance:function(){return n||(n=new s),n}};return i.getInstance()}),define("bi/admin/datasource/App",["lodash","bi/commons/ui/core/Class","bi/admin/datasource/services/ApiSvc","bi/admin/nls/StringResource"],function(e,t,n,s){"use strict";var i=null,o=t.extend({systemTypes:["JDBC","CUBE","JSON","ODATA"],exclusiveTypes:["CUBE","JSON","ODATA"],_contexts:[],PASSWORD:"###PASSWORD###",init:function(){var t=e.difference(this.systemTypes,this.exclusiveTypes);n.filterTypes=t},SlideOutDataSourceList:function(e,t,i){return this._baseSlideOut=t?t:this._baseSlideOut,this._glassContext=e?e:this._glassContext,n.glassContext=this._glassContext,void 0===i&&(i=s.get("dataServerPaneTitle")),e.appController.showSlideOut({parent:this._baseSlideOut,overlay:!0,width:"400px",label:i,content:{module:"bi/admin/datasource/slideout/DataSourceListPane",id:"DataSourcePane",title:i,showGobackButton:!0}}),this.getCurrentNameSpace().then(function(e){this._glassContext._currentNameSpace=e}.bind(this))},getCurrentNameSpace:function(){var t="v1/identity";return this.glassContext.services.fetch.get(t).then(function(t){var n=t.data,s=e.find(n.data,function(e){return"namespace"===e.type&&":"===e.searchPath.split('"')[1]}),i=e.find(n.data,function(e){return"namespace"===e.type&&":"!==e.searchPath.split('"')[1]}),o=i?i:s;return{id:o.id,searchPath:o.searchPath,type:o.type}}.bind(this))},getTables:function(e,t){return new Promise(function(n,i){var o="v1/metadata/schemas/tables?id="+encodeURIComponent(e),a={connections:t},r="connectionSpec="+encodeURIComponent(JSON.stringify(a)),c={dataType:"json",type:"GET",url:o,data:r};return this.glassContext.getCoreSvc(".Ajax").ajax(c).then(function(e){n(e.data)},function(e){if(e.jqXHR){var t=e.jqXHR.responseJSON?e.jqXHR.responseJSON.msg:e.jqXHR.responseText;this.glassContext.appController.showErrorMessage(t,s.get("error"))}i(e)}.bind(this))}.bind(this))},getSchema:function(e,t){return new Promise(function(n,i){var o="v1/metadata/schemas/?id="+encodeURIComponent(e),a={connections:t},r="connectionSpec="+encodeURIComponent(JSON.stringify(a)),c={dataType:"json",type:"GET",url:o,data:r};return this.glassContext.getCoreSvc(".Ajax").ajax(c).then(function(e){n(e.data.data[0])},function(e){if(e.jqXHR){var t=e.jqXHR.responseJSON?e.jqXHR.responseJSON.msg:e.jqXHR.responseText;this.glassContext.appController.showErrorMessage(t,s.get("error"))}i(e)}.bind(this))}.bind(this))},updateSchema:function(e,t){return new Promise(function(i,o){n.schemas.update(e,t).then(i,function(e,t){var n=t.responseJSON?t.responseJSON.msg:t.responseText;this.glassContext.appController.showErrorMessage(n,s.get("error")),o(e,t)}.bind(this))}.bind(this))},createSchemaSource:function(e,t){return new Promise(function(i,o){n.schemaSources.create(e,t).then(function(){var e={getResponseHeader:arguments[2].getResponseHeader};i(e)},function(e,t){var n=t.responseJSON?t.responseJSON.msg:t.responseText;this.glassContext.appController.showErrorMessage(n,s.get("error")),o(e,t)}.bind(this))}.bind(this))},CancelTask:function(e,t){return new Promise(function(i,o){n.tasks.cancel(e,t).then(i,function(e,t){this.glassContext.appController.showErrorMessage(t.responseJSON.messages[0],s.get("error")),o(e,t)}.bind(this))}.bind(this))},getHistory:function(e){return new Promise(function(t,i){n.history.list(e).then(function(e){t(e.data)},function(e,t){this.glassContext.appController.showErrorMessage(t.responseJSON.msg,s.get("error")),i(e,t)}.bind(this))}.bind(this))},CreateSchema:function(e,t){var n={schema:e.schema,catalog:e.catalog,type:e.type,schemaType:e.schemaType||"user",defaultName:e.defaultName,specification:e.specification,status:"pending"};return this.createSchemaSource(t.conn.id,n)},ClearSchema:function(e){return new Promise(function(t,i){n.schemas.clear(e.id).then(t,function(e,t){this.glassContext.appController.showErrorMessage(t.responseJSON.messages[0],s.get("error")),i(e,t)}.bind(this))}.bind(this))},FillConnectionList:function(t,n){var s=e.map(t.connections,function(e){var n=e.permissions&&e.permissions.indexOf("write")>-1?!0:!1;return{id:t.id,connId:e.id,title:e.defaultName,defaultName:e.defaultName,defaultDescription:e.defaultDescription,connectionString:e.connectionString,credentialNamespaces:e.credentialNamespaces,disabled:e.disabled,hidden:e.hidden,writable:n}});s=e.filter(s,function(e){return null!=e});var i={};i.items=s,i.writable=t.writable,i.datasourceName=t.defaultName,i.datasourceDescription=t.defaultDescription||"",i.datasourceId=t.id,n.items=s,n.render(i),this._dcListView=n}}),a={getInstance:function(){return i||(i=new o),i}};return a.getInstance()}),define("bi/admin/common/utils/CapabilityHelper",["lodash"],function(e){"use strict";var t=null,n=function i(){return i.prototype._singletonInstance?i.prototype._singletonInstance:void 0};n.prototype.checkCapabilities=function(t,n){return n?e.find(n.services.userProfile.capabilities,function(e){return e===t}):e.find(this.glassContext.services.userProfile.capabilities,function(e){return e===t})};var s={getInstance:function(){return t||(t=new n),t}};return s.getInstance()}),define("bi/admin/common/slideout/admin",["bi/admin/nls/StringResource","bi/admin/common/utils/CapabilityHelper"],function(e,t){"use strict";var n=[{id:"admin_accounts",slideout:{overlay:!0,width:"450px",label:e.get("accounts"),content:{module:"bi/admin/account/slideout/AccountListPane",title:e.get("accounts"),showGobackButton:!0}},title:e.get("accounts"),description:e.get("accountsDetail"),icon:"common-accounts",canShowFunction:function(e){return t.checkCapabilities("canUseUsersGroupsAndRolesTool",e.glassContext)}},{id:"admin_licenses",title:e.get("licenses"),description:e.get("licensesDetail"),icon:"common-licenses",canShowFunction:function(e){return t.checkCapabilities("canUseUsersGroupsAndRolesTool",e.glassContext)||t.checkCapabilities("canUseCapabilitiesTool",e.glassContext)},slideout:{overlay:!0,width:"450px",label:e.get("licenses"),content:{module:"bi/admin/license/slideout/LicensePane",title:e.get("licenses"),showGobackButton:!0}}},{id:"admin_schedules",title:e.get("activities"),description:e.get("activitiesDetail"),icon:"common-schedule",canShowFunction:function(e){return t.checkCapabilities("canUseMonitorActivityTool",e.glassContext)},slideout:{overlay:!0,width:"730px",label:e.get("activities"),content:{module:"bi/admin/status/slideout/ActivitiesPane",title:e.get("activities"),showGobackButton:!0}}},{id:"admin_content",title:e.get("content"),description:e.get("contentDetail"),icon:"common-content",canShowFunction:function(e){return t.checkCapabilities("canUseContentStoreTool",e.glassContext)},slideout:{overlay:!0,width:"450px",label:e.get("content"),content:{module:"bi/admin/system/slideout/ContentPane",title:e.get("content"),showGobackButton:!0}}},{id:"admin_datasource",title:e.get("dataServers"),description:e.get("dataServersDetail"),icon:"common-data_source",canShowFunction:function(e){return t.checkCapabilities("canUseDataSourcesTool",e.glassContext)},slideout:{overlay:!0,width:"450px",label:e.get("dataServers"),content:{module:"bi/admin/datasource/slideout/DataSourceListPane",title:e.get("dataServers"),showGobackButton:!0}}},{id:"admin_config",title:e.get("configuration"),description:e.get("configurationDetail"),icon:"common-settings-manage",canShowFunction:function(e){return t.checkCapabilities("canUseContentStoreTool",e.glassContext)||t.checkCapabilities("canUseServerAdministrationTool",e.glassContext)},slideout:{overlay:!0,width:"450px",label:e.get("configuration"),content:{module:"bi/admin/common/slideout/ConfigPane",title:e.get("configuration"),showGobackButton:!0}}},{id:"admin_plugins",title:e.get("customization"),description:e.get("customizationDetail"),icon:"common-settings",canShowFunction:function(e){return t.checkCapabilities("canUsePortalAdministrationTool",e.glassContext)},slideout:{overlay:!0,width:"500px",label:e.get("customization"),content:{module:"bi/admin/system/slideout/PluginsPane",title:e.get("customization"),showGobackButton:!0}}},{id:"admin_tenancy",title:e.get("multitenancy"),description:e.get("multitenancyDetail"),icon:"common-multi_tenant",canShowFunction:function(e){return e.isSysAdmin},slideout:{overlay:!0,width:"450px",label:e.get("multitenancy"),content:{module:"bi/admin/multitenancy/slideout/TenantsListPane",title:e.get("multitenancy"),showGobackButton:!0}}},{id:"admin-console",title:e.get("adminConsole"),description:"",icon:"common-open-tab",clickAction:function(){window.open("v1/disp?b_action=cogadmin","_blank")}},{id:"admin-newjob",title:e.get("adminNewJob"),description:"",icon:"common-open-tab",canShowFunction:function(e){return e.glassContext.legacyLaunchable},clickAction:function(){window.open("v1/disp?b_action=xts.run&m=portal/new_general.xts&m_path=/content&m_new_class=jobDefinition&backURL=disp%3Fb_action%3Dxts.run%26m%3Dportal%2Fclose.xts%26ui.compid%3Dps","_blank")}}];return n}),define("bi/admin/system/slideout/PluginsDefinition",["bi/admin/nls/StringResource","bi/admin/common/utils/CapabilityHelper"],function(e,t){"use strict";var n=null,s=function o(){return o.prototype._singletonInstance?o.prototype._singletonInstance:void 0};s.prototype.getPlugins=function(n,s,i,o){t.glassContext=i;var a=t.checkCapabilities("canUsePortalAdministrationTool")&&!n?!0:!1,r=t.checkCapabilities("canManageVisualizations")&&!n?!0:!1,c=t.checkCapabilities("canUseUsersGroupsAndRolesTool")&&!n?!0:!1,u=[],l={name:e.get("themes"),module:"bi/admin/system/ThemesTab",parentView:o.slideout,slideout:o.slideout,getDefaultThemeCallback:o.getDefaultTheme,setDefaultThemeCallback:o.setDefaultTheme,isPortalAdmin:a,tenantID:s,disableApplyButton:!n&&!a,tenantsListController:o.listController},d={name:e.get("extensions"),module:"bi/admin/system/ExtensionsTab",parentView:o.slideout,slideout:o.slideout,tenantID:s,isSysAdmin:n},p={name:e.get("views"),module:"bi/admin/system/ViewsTab",parentView:o.slideout,slideout:o.slideout,isPortalAdmin:a,tenantID:s,isSysAdmin:n},m={name:e.get("palettes"),module:"bi/admin/system/PalettesTab",parentView:o.slideout,slideout:o.slideout},g={name:e.get("profile"),module:"bi/admin/system/DefaultProfileTab",parentView:o.slideout,slideout:o.slideout},f={name:e.get("customVisualizations"),module:"bi/admin/system/CustomVisualizationsTab",parentView:o.slideout,slideout:o.slideout};return(n||a)&&(u.push(l),u.push(d),u.push(m),u.push(p)),(n||!s&&c)&&u.push(g),(n||a)&&u.push({name:e.get("globalParameters"),module:"bi/admin/common/GlobalParametersTab",parentView:o.slideout,slideout:o.slideout,getParameters:o.getParameters,updateParameters:o.updateParameters,isPortalAdmin:a,tenantID:s,isSysAdmin:n}),(n||r)&&u.push(f),u};var i={getInstance:function(){return n||(n=new s),n}};return i.getInstance()}),define("bi/admin/common/slideout/AdminPane",["react","react-dom","ba-react-admin/ba-react-admin.min","bi/glass/app/ContentView","jquery","bi/admin/datasource/App","bi/admin/nls/StringResource","bi/commons/utils/Utils","bi/admin/common/slideout/admin","bi/admin/common/utils/CapabilityHelper","bi/admin/system/slideout/PluginsDefinition"],function(e,t,n,s,i,o,a,r,c,u,l){var d=s.extend({init:function(e){s.inherited("init",this,arguments),i.extend(this,e),o.glassContext=this.glassContext,u.glassContext=this.glassContext},_getViewWidth:function(e){var t=450;return e&&(t=i(window).width()<1370?576:900),t},setFocus:function(){this.$el.find(".list-item").filter(":visible:first").focus()},_getMeta:function(){return c},_createReactChild:function(t,n,s){return e.createElement(t,n,s)},_renderReact:function(e,n){t.render(e,n)},readExtensions:function(){return new Promise(function(e,t){this.glassContext.appController.findCollection("ibm.com.admin.AdminPanel").then(function(t){this.instantiateExtensions(t).then(function(){return e()})}.bind(this),t)}.bind(this))},setActionControllers:function(e,t){for(var s=[],i=2;i<arguments.length;i+=1){var o=e[i-2].actionClass;s.push(new arguments[i][o](this.glassContext,a))}n.AdminPanelUIStore.setPanelExtentions(s),t()},instantiateExtensions:function(e){var t=[],n=[];return new Promise(function(s){e?(e.forEach(function(e){t.push(e.actionController),n.push(e)}.bind(this)),require(t,this.setActionControllers.bind(this,n,s))):s()}.bind(this))},getPlugins:function(e,t){return l.getPlugins(e,t,this.glassContext,{})},render:function(){this.readExtensions().then(function(){this.renderBody()}.bind(this))},renderBody:function(){this.$el.addClass("bi-admin-entrance-pane");var s=e.createElement(n.AdminPanel,{glassContext:this.glassContext,StringResource:a,parent:this});return t.render(s,this.$el[0]),Promise.resolve()}});return d}),define("js/admin/manageBundle",function(){});