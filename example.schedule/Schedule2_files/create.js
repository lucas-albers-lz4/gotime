/*!
 * Licensed Materials - Property of IBM
 * IBM Cognos Products: Modeling UI
 * (C) Copyright IBM Corp. 2020
 * US Government Users Restricted Rights - Use, duplication or disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 */
!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("react"),require("bi/moser/moser.min"),require("ca-ui-carbon-toolkit"),require("mobx"),require("mobx-react"),require("ca-graphics/icons-js/ba-graphics-icons-commons"),require("react-dom"),require("ca-ui-common-components"),require("react-dnd"),require("prop-types"),require("ca-ui-carbon"),require("baglass/core-client/js/core-client/utils/BidiUtil"),require("ca-graphics/illustrations-js/ba-graphics-icons-commons"),require("ca-modeller/common"),require("ca-modeller/bridge/StringResourcesBridge"),require("baglass/core-client/js/core-client/i18n/Formatter"),require("ca-modeller/upload"),require("baglass/core-client/js/core-client/ui/ProgressToast"),require("moment"),require("ca-ui-common-filters"),require("react-draggable"),require("baglass/core-client/js/core-client/utils/DateTimeUtils"),require("whatIf/whatIfBundle.min"));else if("function"==typeof define&&define.amd)define(["react","bi/moser/moser.min","ca-ui-carbon-toolkit","mobx","mobx-react","ca-graphics/icons-js/ba-graphics-icons-commons","react-dom","ca-ui-common-components","react-dnd","prop-types","ca-ui-carbon","baglass/core-client/js/core-client/utils/BidiUtil","ca-graphics/illustrations-js/ba-graphics-icons-commons","ca-modeller/common","ca-modeller/bridge/StringResourcesBridge","baglass/core-client/js/core-client/i18n/Formatter","ca-modeller/upload","baglass/core-client/js/core-client/ui/ProgressToast","moment","ca-ui-common-filters","react-draggable","baglass/core-client/js/core-client/utils/DateTimeUtils","whatIf/whatIfBundle.min"],r);else{var t="object"==typeof exports?r(require("react"),require("bi/moser/moser.min"),require("ca-ui-carbon-toolkit"),require("mobx"),require("mobx-react"),require("ca-graphics/icons-js/ba-graphics-icons-commons"),require("react-dom"),require("ca-ui-common-components"),require("react-dnd"),require("prop-types"),require("ca-ui-carbon"),require("baglass/core-client/js/core-client/utils/BidiUtil"),require("ca-graphics/illustrations-js/ba-graphics-icons-commons"),require("ca-modeller/common"),require("ca-modeller/bridge/StringResourcesBridge"),require("baglass/core-client/js/core-client/i18n/Formatter"),require("ca-modeller/upload"),require("baglass/core-client/js/core-client/ui/ProgressToast"),require("moment"),require("ca-ui-common-filters"),require("react-draggable"),require("baglass/core-client/js/core-client/utils/DateTimeUtils"),require("whatIf/whatIfBundle.min")):r(e.react,e["bi/moser/moser.min"],e["ca-ui-carbon-toolkit"],e.mobx,e["mobx-react"],e["ca-graphics/icons-js/ba-graphics-icons-commons"],e["react-dom"],e["ca-ui-common-components"],e["react-dnd"],e["prop-types"],e["ca-ui-carbon"],e["baglass/core-client/js/core-client/utils/BidiUtil"],e["ca-graphics/illustrations-js/ba-graphics-icons-commons"],e["ca-modeller/common"],e["ca-modeller/bridge/StringResourcesBridge"],e["baglass/core-client/js/core-client/i18n/Formatter"],e["ca-modeller/upload"],e["baglass/core-client/js/core-client/ui/ProgressToast"],e.moment,e["ca-ui-common-filters"],e["react-draggable"],e["baglass/core-client/js/core-client/utils/DateTimeUtils"],e["whatIf/whatIfBundle.min"]);for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(window,(function(e,r,t,o,i,n,c,a,s,l,u,p,m,d,b,f,g,h,v,_,y,S,j){return function(e){function r(r){for(var o,c,a=r[0],s=r[1],l=r[2],p=0,m=[];p<a.length;p++)c=a[p],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&m.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(r);m.length;)m.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,r=0;r<n.length;r++){for(var t=n[r],o=!0,a=1;a<t.length;a++){var s=t[a];0!==i[s]&&(o=!1)}o&&(n.splice(r--,1),e=c(c.s=t[0]))}return e}var o={},i={18:0},n=[];function c(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var r=[],t=i[e];if(0!==t)if(t)r.push(t[2]);else{var o=new Promise((function(r,o){t=i[e]=[r,o]}));r.push(t[2]=o);var n,a=document.createElement("script");a.charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.src=function(e){return c.p+""+({1:"commonAsync",2:"commonAsyncShared__buildQS__expressions__format__grid__pkgEnrich__relationship__sourceSelection",3:"commonAsyncShared__buildQS__grid__pkgEnrich__relationship__sourceSelection",4:"commonAsyncShared__diagram__normalization__queryFlow__sourceSelection",5:"commonAsyncShared__dataSecurity__filters__properties",6:"commonAsyncShared__binning__properties",7:"commonAsyncShared__buildQS__relationship",8:"commonAsyncShared__dataSecurity__properties",9:"commonAsyncShared__expressions__queryInfo",10:"commonAsyncShared__normalization__queryFlow",12:"binning",13:"buildQS",14:"clean",15:"contextMenu",16:"convertQS",19:"dataCache",20:"dataSecurity",21:"diagram",22:"expressions",24:"filters",25:"format",26:"grid",27:"grouping",28:"itemHierarchy",29:"itemPicker",30:"memberSearch",33:"navigationGroup",34:"normalization",37:"parameter",38:"pkgEnrich",39:"properties",40:"queryFlow",41:"queryInfo",42:"relationship",43:"relink",47:"simpleCalculations",48:"sort",50:"sourceSelection",51:"sourceStatus",52:"split",53:"update",55:"validation",56:"whatIf"}[e]||e)+".js"}(e);var s=new Error;n=function(r){a.onerror=a.onload=null,clearTimeout(l);var t=i[e];if(0!==t){if(t){var o=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",s.name="ChunkLoadError",s.type=o,s.request=n,t[1](s)}i[e]=void 0}};var l=setTimeout((function(){n({type:"timeout",target:a})}),12e4);a.onerror=a.onload=n,document.head.appendChild(a)}return Promise.all(r)},c.m=e,c.c=o,c.d=function(e,r,t){c.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,r){if(1&r&&(e=c(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)c.d(t,o,function(r){return e[r]}.bind(null,o));return t},c.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(r,"a",r),r},c.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},c.p="./ca-modeller/",c.oe=function(e){throw console.error(e),e};var a=window.caModellingPerspective=window.caModellingPerspective||[],s=a.push.bind(a);a.push=r,a=a.slice();for(var l=0;l<a.length;l++)r(a[l]);var u=s;return n.push([601,0]),t()}({0:function(r,t){r.exports=e},1:function(e,t){e.exports=r},12:function(e,r){e.exports=i},15:function(e,r){e.exports=n},17:function(e,r){e.exports=c},18:function(e,r){e.exports=a},2:function(e,r){e.exports=t},262:function(e,r,t){"use strict";t.d(r,"a",(function(){return y}));var o,i,n=t(6),c=t(13),a=t(1),s=t.n(a),l=t(4),u=t(65),p=t(5),m=t(33),d=t(11),b=t(149),f=t(39),g=t(3),h=t(44),v=t(40);function _(e,r,t,o,i){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce((function(t,o){return o(e,r,t)||t}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,r,n),n=null),n}var y=(o=class extends l.a{constructor(){var e,r,t,o;super(...arguments),e=this,r="isSourceSelectionClosed",o=this,(t=i)&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(o):void 0})}createDataModule(e){var r=Object(p.createModule)(s.a.createObjectFactory());return this.provider.setModule(r),this.action(Object(m.g)(e,r)).then(()=>Object(u.a)(this.context,{temp:!0,module:r}).then(e=>({data:e,module:r}))).then(e=>(this.provider.callGlobalEvent(v.a),e))}openSourceSelection(){var e=this.provider.setModule(Object(p.createModule)(this.provider.getObjectFactory()));return this.provider.openDialog(d.A,{module:e,getSources:()=>{}}).then(e=>{if(this.action(()=>this.isSourceSelectionClosed=!0),e&&e.module)return this._openModelling(e)})}_openModelling(e){var{module:r,viaIntent:t=!1}=e;return Object(h.e)(this.context,r).then(e=>this.provider.getConnectionResolver().then(o=>c.openAppView(b.a,{content:{id:e,tid:e,sessionModule:r,connectionResolver:o,viaIntent:t}})),e=>this.provider.showToast(Object(g.getString)("createNewModuleError",{message:Object(f.a)(e)}))).then(e=>(this.provider.callGlobalEvent(v.a,t),e))}},i=_(o.prototype,"isSourceSelectionClosed",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_(o.prototype,"createDataModule",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"createDataModule"),o.prototype),_(o.prototype,"openSourceSelection",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"openSourceSelection"),o.prototype),_(o.prototype,"_openModelling",[l.c],Object.getOwnPropertyDescriptor(o.prototype,"_openModelling"),o.prototype),o)},397:function(e,r,t){"use strict";t.d(r,"a",(function(){return m}));var o,i=t(0),n=t.n(i),c=t(13),a=t(4),s=t(3),l=t(190),u=t(52),p=t(208),m=Object(a.e)(e=>({openSourceSelection:e.openSourceSelection,isSourceSelectionClosed:e.isSourceSelectionClosed}))(o=class extends i.Component{constructor(){super(...arguments),this._hasCapabilities=()=>c.hasCapability(u.CAN_USE_WEB_BASED_MODELING)}componentDidMount(){var{onRemove:e,openSourceSelection:r}=this.props;this._hasCapabilities()&&r().then(()=>{e()})}render(){return this._hasCapabilities()?this.props.isSourceSelectionClosed&&n.a.createElement(l.a,{label:Object(s.getString)("generateModel"),width:"1418px",height:"676px"}):n.a.createElement(p.a,{message:Object(s.getString)("noAccessToCreateDataModule"),onClose:()=>setTimeout(()=>this.props.onRemove(),0)})}})||o},41:function(e,r){e.exports=s},42:function(e,r){e.exports=l},43:function(e,r){e.exports=u},46:function(e,r){e.exports=p},48:function(e,r){e.exports=m},6:function(e,r){e.exports=o},601:function(e,r,t){t(61),e.exports=t(602)},602:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return f})),t.d(r,"createEntryModule",(function(){return g}));var o=t(0),i=t.n(o),n=t(17),c=t.n(n),a=t(4),s=t(36),l=t(31),u=t(130),p=t(13),m=t(397),d=t(262);function b(e,r,t){p.track(e.getModuleStats(r,{usedIntent:t}))}function f(e){var r=Object(s.a)(e,{createPerspective:()=>new d.a,onGlobalEvent:b,type:l.a}),t=document.createElement("div"),o=i.a.createElement(u.a,{context:r},i.a.createElement(a.b,{store:r.rootStore.perspectiveStore},i.a.createElement(m.a,{onRemove:()=>{c.a.unmountComponentAtNode(t),t.parentNode.removeChild(t)}})));document.body.appendChild(t),c.a.render(o,t)}function g(e){return Object(s.a)(e.glassContext,{createPerspective:()=>new d.a,onGlobalEvent:b}).rootStore.perspectiveStore.createDataModule(e.target.activeObject.aSelectedContext.slice())}},62:function(e,r){e.exports=d},63:function(e,r){e.exports=b},64:function(e,r){e.exports=f},66:function(e,r){e.exports=g},71:function(e,r){e.exports=h},78:function(e,r){e.exports=v},80:function(e,r){e.exports=_},83:function(e,r){e.exports=y},84:function(e,r){e.exports=S},85:function(e,r){e.exports=j}})}));
//# sourceMappingURL=create.js.map