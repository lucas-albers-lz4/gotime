/*
 *@license
 * Licensed Materials - Property of IBM
 *
 * IBM @vida/vida-utils
 *
 * (C) Copyright IBM Corp. 2023
 *
 * US Government Users Restricted Rights - Use, duplication or
 * disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
 */
define(["exports","com/ibm/vida/thirdparty/tslib"],(function(t,e){"use strict";function r(t,e,r,n){return Math.hypot(t-r,e-n)}function n(t,e){return r(t.x,t.y,e.x,e.y)}function i(t,e,r){return e.x===r.x&&e.y===r.y?n(t,e):Math.abs((r.y-e.y)*t.x-(r.x-e.x)*t.y+r.x*e.y-r.y*e.x)/n(e,r)}var o=Object.freeze({__proto__:null,ofPointsXY:r,ofPoints:n,ofPointToLine:i}),s=function(){function Point2D(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=+t||0,this.y=+e||0}return Point2D.from=function(t){return t?new Point2D(t.x,t.y):null},Point2D.center=function(t,e){return new this(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2)},Point2D.equals=function(t,e){return t===e||!!t&&!!e&&t.x===e.x&&t.y===e.y},Point2D.prototype.getX=function(){return this.x},Point2D.prototype.setX=function(t){return this.x=+t},Point2D.prototype.getY=function(){return this.y},Point2D.prototype.setY=function(t){return this.y=+t},Point2D.prototype.clone=function(){return new this.constructor(this.x,this.y)},Point2D.prototype.set=function(t,e){return this.x=+t||0,this.y=+e||0,this},Point2D.prototype.equals=function(t){return Point2D.equals(this,t)},Point2D.prototype.offset=function(t){return t?this.offsetXY(t.x,t.y):this},Point2D.prototype.offsetXY=function(t,e){return this.x+=+t||0,this.y+=+e||0,this},Point2D.prototype.toClient=function(t){return this.offsetXY(+t.left||0,+t.top||0)},Point2D.prototype.toLocal=function(t){return this.offsetXY(-t.left||0,-t.top||0)},Point2D.prototype.toString=function(){return"[ "+this.x+", "+this.y+" ]"},Point2D}();function l(t,e,r,n){var i=t*r+e*n,o=Math.sqrt((t*t+e*e)*(r*r+n*n));return(t*n-e*r<0?-1:1)*Math.acos(i/o)}Object.defineProperties(s.prototype,{0:{get:s.prototype.getX,set:s.prototype.setX},1:{get:s.prototype.getY,set:s.prototype.setY},length:{value:2}});var a=Object.freeze(new s(0,0)),u=function(){function Arc(t,e,r,n,i,o,s,l){this._startPoint=t,this._endPoint=e,this._centerPoint=r,this._rX=n,this._rY=i,this._angleRad=o,this._startAngleRad=s,this._sweepAngleRad=l}return Arc.create=function(t,e,r,n,i,o,u){if(t.x===u.x&&t.y===u.y||!e||!r)return new Arc(t,u,a,e,r,0,0,0);var c=e,h=r,f=c*c,d=h*h,p=(n%360+360)%360*Math.PI/180,y=(t.x-u.x)/2,v=(t.y-u.y)/2,g=Math.cos(p)*y+Math.sin(p)*y,m=-Math.sin(p)*y+Math.cos(p)*v,b=g*g,_=m*m,w=b/f+_/d;w>1&&(c=Math.sqrt(w)*c,h=Math.sqrt(w)*h);var x=f*d-f*_-d*b,S=f*_+d*b,P=Math.max(0,x/S),T=(i!==o?1:-1)*Math.sqrt(P),N=T*(c*m/h),E=T*(-h*g/c),R=new s(Math.cos(p)*N-Math.sin(p)*E+(t.x+u.x)/2,Math.sin(p)*N+Math.cos(p)*E+(t.y+u.y)/2),O=(g-N)/c,A=(m-E)/h,C=l(1,0,O,A),L=l(O,A,(-g-N)/c,(-m-E)/h);return!o&&L>0?L-=2*Math.PI:o&&L<0&&(L+=2*Math.PI),new Arc(t,u,R,c,h,p,C,L%=2*Math.PI)},Arc.prototype.eval=function(t){if(this._startPoint.x===this._endPoint.x&&this._startPoint.y===this._endPoint.y)return this._startPoint;if(!this._rX||!this._rY)return this._pointOnLine(t);var e=this._startAngleRad+this._sweepAngleRad*t,r=this._rX*Math.cos(e),n=this._rY*Math.sin(e);return new s(Math.cos(this._angleRad)*r-Math.sin(this._angleRad)*n+this._centerPoint.x,Math.sin(this._angleRad)*r+Math.cos(this._angleRad)*n+this._centerPoint.y)},Arc.prototype.segment=function(t,e){var r=new Array;if(null!==t)for(var n=t+1,i=1/t,o=0;o<n;++o)r[o]=this.eval(o*i);else if(null!==e){var s=this.eval(0),l=this.eval(1);this._recursiveSubdivide(0,1,s,l,e,r),r.push(l)}return r},Arc.prototype._recursiveSubdivide=function(t,e,r,n,o,s){var l=t+(e-t)/2,a=this.eval(l);i(a,r,n)>o?(this._recursiveSubdivide(t,l,r,a,o,s),this._recursiveSubdivide(l,e,a,n,o,s)):s.push(r)},Arc.prototype._pointOnLine=function(t){return new s(this._startPoint.x+(this._endPoint.x-this._startPoint.x)*t,this._startPoint.y+(this._endPoint.y-this._startPoint.y)*t)},Arc}(),c=[[1],[1,1],[1,2,1],[1,3,3,1]];function h(t,e){for(var r=c.length;r<=t;++r){var n=new Array(r+1);n[0]=1;for(var i=1,o=r-1;i<r;++i)n[i]=c[o][i-1]+c[o][i];n[r]=1,c[r]=n}return c[t][e]}var f=function(){function Bezier(t){this._ctrlPoints=t,this._dim=t.length-1}return Bezier.prototype.eval=function(t){for(var e=this._dim,r=0,n=0,i=0,o=this._ctrlPoints.length;i<o;++i){var l=h(this._dim,i)*Math.pow(1-t,e)*Math.pow(t,i);r+=l*this._ctrlPoints[i].x,n+=l*this._ctrlPoints[i].y,--e}return new s(r,n)},Bezier.prototype.segment=function(t,e){var r=new Array;if(1===this._dim)return r.push(this.eval(0)),r.push(this.eval(1)),r;if(null!==t)for(var n=t+1,i=1/t,o=0;o<n;++o)r.push(this.eval(o*i));else if(null!==e){var s=this.eval(0),l=this.eval(1);this._recursiveSubdivide(0,1,s,e,r),r.push(l)}return r},Bezier.prototype._recursiveSubdivide=function(t,e,r,n,o){for(var s=(e-t)/this._dim,l=t,a=r,u=0;u<this._dim;++u){var c=l+s,h=this.eval(c),f=l+(c-l)/2;i(this.eval(f),a,h)>n?this._recursiveSubdivide(l,c,a,n,o):o.push(a),l=c,a=h}},Bezier}(),d=function(){function Size(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=+t||0,this.height=+e||0}return Size.fromObject=function(t){var e=null,r=null;if(t){var n=Object(t);"width"in n?e=+n.width:"w"in n?e=+n.w:"right"in n&&"left"in n?e=n.right-n.left:"r"in n&&"l"in n?e=n.r-n.l:"function"==typeof n.getWidth&&(e=+n.getWidth()),"height"in n?r=+n.height:"h"in n?r=+n.h:"bottom"in n&&"top"in n?r=n.bottom-n.top:"t"in n&&"b"in n?r=n.b-n.t:"function"==typeof n.getHeight&&(r=+n.getHeight())}return null!==e&&null!==r?new Size(e,r):null},Size.prototype.getWidth=function(){return this.width},Size.prototype.setWidth=function(t){return this.width=+t||0,t},Size.prototype.getHeight=function(){return this.height},Size.prototype.setHeight=function(t){return this.height=+t||0,t},Size.prototype.clone=function(){return new Size(this.width,this.height)},Size.prototype.equals=function(t){return this===t||!!t&&this.width===t.width&&this.height===t.height},Size.prototype.toString=function(){return'{ "width": '+this.width+', "height": '+this.height+" }"},Size}();function p(t){if(!function(t){return!!t&&(t instanceof s||"x"in t&&"y"in t)}(t))throw new TypeError(t+" is not a Point2D");return t}function y(t){if(!function(t){return!!t&&(t instanceof d||"width"in t&&"height"in t)}(t))throw new TypeError(t+" is not a Size");return t}function v(t){return!!t&&(t instanceof b||"left"in t&&"top"in t&&"right"in t&&"bottom"in t)}function g(t){if(!v(t))throw new TypeError(t+" is not a Rect");return t}function m(t,e){var r=t;if(e){var n=void 0,i=void 0,o=void 0,s=void 0;"left"in e&&"top"in e?(n=+e.left,i=+e.top):"l"in e&&"t"in e?(n=+e.l,i=+e.t):"x"in e&&"y"in e&&(n=+e.x,i=+e.y),void 0!==n&&void 0!==i&&("right"in e&&"bottom"in e?(o=+e.right,s=+e.bottom):"r"in e&&"b"in e?(o=+e.r,s=+e.b):"width"in e&&"height"in e?(o=n+ +e.width,s=i+ +e.height):"w"in e&&"h"in e?(o=n+ +e.w,s=i+ +e.h):(o=n,s=i),r?(r.left=n,r.top=i,r.right=o,r.bottom=s):r=new b(n,i,o,s))}return r}var b=function(){function Rect(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.left=+t||0,this.top=+e||0,this.right=+r||0,this.bottom=+n||0}return Rect.fromObject=function(t){return m(null,t)},Rect.fromXYWH=function(t,e,r,n){return new this(t,e,t+r,e+n)},Rect.containsPointXY=function(t,e,r){if(g(t),"number"!=typeof e||Number.isNaN(e))throw new TypeError("The x coordinate must be a number");if("number"!=typeof r||Number.isNaN(r))throw new TypeError("The y coordinate must be a number");return e>=t.left&&e<t.right&&r>=t.top&&r<t.bottom},Rect.contains=function(t,e){return g(t),g(e),t===e||e.left>=t.left&&e.left<=t.right&&e.right>=t.left&&e.right<=t.right&&e.top>=t.top&&e.top<=t.bottom&&e.bottom>=t.top&&e.bottom<=t.bottom},Rect.intersects=function(t,e){return g(t),g(e),t===e||t.left<e.right&&e.left<t.right&&t.top<e.bottom&&e.top<t.bottom},Rect.equals=function(t,e){return t===e||v(t)&&v(e)&&t.left===e.left&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom},Rect.isEmpty=function(t){return g(t),t.left>=t.right||t.top>=t.bottom},Rect.round=function(t){return t&&(t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=Math.round(t.right),t.bottom=Math.round(t.bottom)),t},Rect.polygonIsRect=function(t){var e=t?t.length:0;if(!(4===e||5===e&&s.equals(t[0],t[e-1])))return!1;var r=Math.abs(t[1].x-t[0].x),n=Math.abs(t[1].y-t[0].y),i=Math.abs(t[2].x-t[1].x),o=Math.abs(t[2].y-t[1].y);return!!r!=!!n&&!!i!=!!o&&!!r!=!!i&&r===Math.abs(t[3].x-t[2].x)&&n===Math.abs(t[3].y-t[2].y)},Rect.isRect=function(t){return t instanceof Rect||"object"==typeof t&&null!==t&&"inflateWH"in t&&"setLTRB"in t&&"setXYWH"in t},Object.defineProperty(Rect.prototype,"x",{get:function(){return this.left},set:function(t){this.left=t},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"y",{get:function(){return this.top},set:function(t){this.top=t},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"width",{get:function(){return this.right-this.left},set:function(t){this.right=this.left+(+t||0)},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"height",{get:function(){return this.bottom-this.top},set:function(t){this.bottom=this.top+(+t||0)},enumerable:!1,configurable:!0}),Rect.prototype.clone=function(){return new Rect(this.left,this.top,this.right,this.bottom)},Rect.prototype.getLeft=function(){return this.left},Rect.prototype.setLeft=function(t){return this.left=+t||0,t},Rect.prototype.getTop=function(){return this.top},Rect.prototype.setTop=function(t){return this.top=+t||0,t},Rect.prototype.getRight=function(){return this.right},Rect.prototype.setRight=function(t){return this.right=+t||0,t},Rect.prototype.getBottom=function(){return this.bottom},Rect.prototype.setBottom=function(t){return this.bottom=+t||0,t},Rect.prototype.getWidth=function(){return this.width},Rect.prototype.setWidth=function(t){return this.width=t},Rect.prototype.getHeight=function(){return this.height},Rect.prototype.setHeight=function(t){return this.height=t},Rect.prototype.getCenterX=function(){return this.left+this.getWidth()/2},Rect.prototype.getCenterY=function(){return this.top+this.getHeight()/2},Rect.prototype.getCenter=function(){return new s(this.getCenterX(),this.getCenterY())},Rect.prototype.setCenter=function(t){return p(t),this.setCenterXY(t.x,t.y)},Rect.prototype.setCenterXY=function(t,e){t=+t||0,e=+e||0;var r=this.getWidth()/2,n=this.getHeight()/2;return this.left=t-r,this.top=e-n,this.right=t+r,this.bottom=e+n,this},Rect.prototype.getSize=function(){return new d(this.getWidth(),this.getHeight())},Rect.prototype.setSize=function(t){return y(t),this.setSizeWH(t.width,t.height)},Rect.prototype.setSizeWH=function(t,e){return this.right=this.left+(+t||0),this.bottom=this.top+(+e||0),this},Rect.prototype.setFrom=function(t){return m(this,g(t))},Rect.prototype.setLTRB=function(t,e,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.left=+t||0,this.top=+e||0,this.right=+r||0,this.bottom=+n||0,this},Rect.prototype.setXYWH=function(t,e,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.left=+t||0,this.top=+e||0,this.right=this.left+(+r||0),this.bottom=this.top+(+n||0),this},Rect.prototype.offset=function(t){return p(t),this.offsetXY(t.x,t.y)},Rect.prototype.offsetXY=function(t,e){var r=+t;return r&&(this.left+=r,this.right+=r),(r=+e)&&(this.top+=r,this.bottom+=r),this},Rect.prototype.inflate=function(t){return y(t),this.inflateWH(t.width,t.height)},Rect.prototype.inflateWH=function(t,e){var r=+t;return r&&(this.left-=r,this.right+=r),(r=+e)&&(this.top-=r,this.bottom+=r),this},Rect.prototype.inset=function(t,e,r,n){var i=Math.max(0,+e),o=Math.max(0,+n);return i+o<=this.width&&(this.left+=i,this.right-=o),(i=Math.max(0,+t))+(o=Math.max(0,+r))<=this.height&&(this.top+=i,this.bottom-=o),this},Rect.prototype.toString=function(){return'{ "left": '+this.left+', "top": '+this.top+', "right": '+this.right+', "bottom": '+this.bottom+" }"},Rect.prototype.union=function(t){return this.left>t.left&&(this.left=t.left),this.top>t.top&&(this.top=t.top),this.right<t.right&&(this.right=t.right),this.bottom<t.bottom&&(this.bottom=t.bottom),this},Rect.prototype.intersect=function(t){return this.left<t.left&&(this.left=t.left),this.top<t.top&&(this.top=t.top),this.right>t.right&&(this.right=t.right),this.bottom>t.bottom&&(this.bottom=t.bottom),this},Rect.prototype.clip=function(t){var e=this.right-this.left;return this.left<t.left?(this.left=t.left,this.right=Math.min(t.right,this.left+e)):this.right>t.right&&(this.right=t.right,this.left=Math.max(t.left,this.right-e)),e=this.bottom-this.top,this.top<t.top?(this.top=t.top,this.bottom=Math.min(t.bottom,this.top+e)):this.bottom>t.bottom&&(this.bottom=t.bottom,this.top=Math.max(t.top,this.bottom-e)),this},Rect.prototype.equals=function(t){return Rect.equals(this,t)},Rect.prototype.contains=function(t){return Rect.contains(this,t)},Rect.prototype.intersects=function(t){return Rect.intersects(this,t)},Rect.prototype.containsPoint=function(t){return p(t),Rect.containsPointXY(this,t.x,t.y)},Rect.prototype.containsPointXY=function(t,e){return Rect.containsPointXY(this,t,e)},Rect.prototype.isEmpty=function(){return Rect.isEmpty(this)},Rect.prototype.round=function(){return Rect.round(this)||this},Rect.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},Rect}(),_=function _(t,e){this.startPoint=t,this.endPoint=e},w=Object.freeze({value:void 0,done:!0}),x=Object.freeze({next:function(){return w}}),S=function(){function SegmentIterable(t,e,r){this._polyPoints=t,this._autoClose=e,this._isClosed=r}return SegmentIterable.prototype[Symbol.iterator]=function(){var t=this._polyPoints.length;if(t<2)return x;var e,r,n=this._polyPoints,i=this._autoClose,o=this._isClosed,s=-1,l=null,a=null;return o?(e=t-2,r=t-2):i?(e=t-1,r=t-1):(e=0,r=t-1,s=0),{next:function(){return s<r?(a&&l?(l.startPoint=n[s],l.endPoint=n[s+1]):(l=new _(n[e],n[s+1]),a={value:l,done:!1}),++s,a):w}}},SegmentIterable}(),P=function(){function Polygon(t,e){void 0===e&&(e=!0),this._bounds=null,this._polyPoints=t,this._autoClose=e,this._isClosed=t.length>1&&s.equals(t[0],t[t.length-1]),this._samplePoint=t.length?t[0]:null}return Polygon.isPolygon=function(t){return t instanceof Polygon||"object"==typeof t&&null!==t&&"isClosed"in t&&"pointAt"in t&&"segments"in t},Object.defineProperty(Polygon.prototype,"size",{get:function(){return this._polyPoints.length},enumerable:!1,configurable:!0}),Object.defineProperty(Polygon.prototype,"isClosed",{get:function(){return this.size>1&&this._isClosed||this.size>2&&this._autoClose},enumerable:!1,configurable:!0}),Object.defineProperty(Polygon.prototype,"bounds",{get:function(){if(!this._bounds){for(var t=null,e=null,r=null,n=null,i=0,o=this._polyPoints.length;i<o;++i){var s=this._polyPoints[i];(null===t||s.y<t)&&(t=s.y),(null===e||s.x<e)&&(e=s.x),(null===r||s.y>r)&&(r=s.y),(null===n||s.x>n)&&(n=s.x)}this._bounds=null===t||null===e||null===r||null===n?new b:new b(e,t,n,r)}return this._bounds},enumerable:!1,configurable:!0}),Polygon.prototype.pointAt=function(t){if(t<0||t>=this.size)throw new RangeError;return this._polyPoints[t]},Object.defineProperty(Polygon.prototype,"segments",{get:function(){return new S(this._polyPoints,this._autoClose,this._isClosed)},enumerable:!1,configurable:!0}),Object.defineProperty(Polygon.prototype,"anyPoint",{get:function(){return this._samplePoint},enumerable:!1,configurable:!0}),Polygon.prototype.intersects=function(t){return Polygon.isPolygon(t)?ve(t,this):b.isRect(t)?ge(t,this):!!T.isCircle(t)&&xe(this,t.center,t.radius)},Polygon}(),T=function(){function Circle(t,e){this.center=t,this.radius=e}return Circle.isCircle=function(t){return t instanceof Circle||"object"==typeof t&&null!==t&&"center"in t&&"radius"in t},Object.defineProperty(Circle.prototype,"anyPoint",{get:function(){return this.center},enumerable:!1,configurable:!0}),Circle.prototype.intersects=function(t){return P.isPolygon(t)?xe(t,this.center,this.radius):b.isRect(t)?_e(t,this.center,this.radius):!!Circle.isCircle(t)&&we(t.center,t.radius,this.center,this.radius)},Circle}();function clamp(t,e,r){return+(e<t?t:e>r?r:e)}var N=Object.prototype.hasOwnProperty;function E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"xlink":return"http://www.w3.org/1999/xlink";default:return t}}function R(t){switch(t){case"htmlFor":return"for";case"className":return"class";case"accessKey":case"colSpan":case"contentEditable":case"inputMode":case"rowSpan":case"tabIndex":return t.toLowerCase();default:return t}}function O(t){if("innerText"===t)throw new Error("innerText is deprecated, use textContent instead.");return"innerHTML"===t||"textContent"===t}function A(t,e,r){var n=null;if(t)if(null===e&&O(r))n=t[r];else{var i=E(e),o=R(r);t.getAttributeNS?t.hasAttributeNS(i,o)&&(n=t.getAttributeNS(i,R(o))):null===i&&t.getAttribute&&t.hasAttribute(o)&&(n=t.getAttribute(o))}return n}function C(t,e){var r=e.lastIndexOf(":");return A(t,r<1?null:e.substring(0,r),r<0?e:e.substring(r+1,e.length))}function L(t,e,r){var n=!1;if(t){var i=R(r);t.hasAttributeNS?n=t.hasAttributeNS(E(e),i):null===e&&(n=t.hasAttribute?t.hasAttribute(i):null!==t.getAttribute(i))}return n}function j(t,e,r,n){var i=null;if(t){var o=R(r),s=null==n?null:String(n);null===e&&O(o)?(t[o]=s||"",i=s):t.setAttributeNS?(null===s?t.removeAttributeNS(E(e),o):t.setAttributeNS(E(e),o,s),i=s):null===e&&(null===s?t.removeAttribute(o):t.setAttribute(o,s),i=s)}return i}function z(t,e,r){var n=e.lastIndexOf(":");return j(t,n<1?null:e.substring(0,n),n<0?e:e.substring(n+1,e.length),r)}function k(t,e,r){var n=!1;return t&&(t.removeAttributeNS?(t.removeAttributeNS(E(e),R(r)),n=!0):null===e&&(t.removeAttribute(R(r)),n=!0)),n}function D(t,e){if(t&&e){if("object"!=typeof e)throw new TypeError("Invalid attributes definition");for(var r in e)N.call(e,r)&&z(t,r,e[r])}return t||null}var M=new Map,H={};function W(t,e){var r=t.length-1;return e>=0&&e<=r?(e===r?t.length=r:0===e?t.shift():t.splice(e,1),e):-1}var V={create:function(t){if(t<0)return[];var e=new Array(t);return e.length=0,e},removeAt:function(t,e){if(e<0||e>=t.length||e!==Math.floor(e))throw new RangeError("Index "+e+" out of range, cannot remove");return e+1>=t.length?t.pop():0===e?t.shift():t.splice(e,1)[0]},removeLast:function(t,e){return W(t,t.lastIndexOf(e))>=0},removeAll:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=t.length,i=n-1;i>=0;--i)e.indexOf(t[i])>=0&&W(t,i);return n-t.length},similar:function(t,e){if(t===e)return!0;var r=t?+t.length||0:-1;if(r!==(e?+e.length||0:-1))return!1;if(1===r)return Object.is(t[0],e[0]);M.clear();for(var n=0;n<r;++n){var i=n in t?t[n]:H,o=M.get(i)||0;M.set(i,o+1)}for(n=0;n<r;++n){i=n in e?e[n]:H,o=M.get(i)||0;if(--o<0)return M.clear(),!1;o<1&&M.delete(i)}return M.clear(),!0},equal:function(t,e,r){if(void 0===r&&(r=Object.is),"function"!=typeof r)throw new TypeError("_compare must be a function");if(t===e)return!0;if(null==t)return null==e;if(null==e)return!1;var n=+t.length||0;if(n!==(+e.length||0))return!1;for(var i=0;i<n;++i){var o=i in t;if(o!==i in e||o&&!r(t[i],e[i]))return!1}return!0},containsAll:function(t,e){if(t===e)return!0;var r=t?+t.length||0:-1,n=e?+e.length||0:-1;if(r<n)return!1;if(1===r&&1===n)return t[0]===e[0];M.clear();for(var i=0;i<n;++i){var o=i in e?e[i]:H,s=M.get(o)||0;M.set(o,s+1)}var l=0;for(i=0;i<r&&l<n;++i){o=i in t?t[i]:H,s=M.get(o)||0;--s>=0&&(M.set(o,s),++l)}return M.clear(),l>=n}};function I(t,e){if("undefined"!=typeof DOMException)return new DOMException(e,t);var r=new Error(e);return r.name=t,r}function X(t){return 32===t||t<=13&&t>=9&&11!==t}function Y(t,e){var r=String(t);if(r.length<1)throw I("SyntaxError","Failed to execute '"+e+"' on 'TokenList': The token provided must not be empty.");if(function(t){for(var e=t.length,r=0;r<e;++r)if(X(t.charCodeAt(r)))return!0;return!1}(t))throw I("InvalidCharacterError","Failed to execute '"+e+"' on 'TokenList': The token provided ('"+t+"') contains HTML space characters, which are not valid in tokens.");return r}var B=function(){function TokenList(t,e,r){this._node=t,this._ns=e||null,this._attr=r,this._attrVal="",this._tokens=[],this._sync()}return TokenList._makeGetter=function(t){return function(){return this._tokens[t]}},TokenList._ensureGetters=function(t){if(this._getterCount<t){for(var e=this._getterCount;e<t;++e)Object.defineProperty(TokenList.prototype,e,{enumerable:!0,get:this._makeGetter(e)});this._getterCount=t}},TokenList.prototype._sync=function(){var t=A(this._node,this._ns,this._attr)||"";this._attrVal!==t&&(this._attrVal=t,this._tokens.length=0,function(t,e){for(var r=t.length,n=0,i=0,o=!1;n<=r;++n)if(o!==(n<r&&!X(t.charCodeAt(n))))if(o=!o)i=n;else{var s=t.substring(i,n);e.indexOf(s)<0&&e.push(s)}}(t,this._tokens),TokenList._ensureGetters(this._tokens.length))},TokenList.prototype._commit=function(){this._attrVal=this._tokens.join(" "),j(this._node,this._ns,this._attr,this._attrVal)},Object.defineProperty(TokenList.prototype,"value",{get:function(){return this._sync(),this._attrVal},set:function(t){j(this._node,this._ns,this._attr,t),this._sync()},enumerable:!1,configurable:!0}),Object.defineProperty(TokenList.prototype,"length",{get:function(){return this._sync(),this._tokens.length},enumerable:!1,configurable:!0}),TokenList.prototype.item=function(t){return this._sync(),t>=0&&t<this._tokens.length?this._tokens[t]:null},TokenList.prototype.contains=function(t){return this._sync(),this._tokens.indexOf(t)>=0},TokenList.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._sync();for(var r=this._tokens.length,n=0;n<t.length;++n){var i=Y(t[n],"add");this._tokens.indexOf(i)<0&&this._tokens.push(i)}r!==this._tokens.length&&this._commit()},TokenList.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._sync();for(var r=this._tokens.length,n=0;n<t.length;++n)V.removeLast(this._tokens,Y(t[n],"remove"));r!==this._tokens.length&&this._commit()},TokenList.prototype.toggle=function(t,e){Y(t,"toggle"),this._sync();var r=this._tokens.indexOf(t)>=0,n=void 0===e?!r:!!e;return r!==n&&(n?this._tokens.push(t):V.removeLast(this._tokens,t),this._commit()),n},TokenList.prototype.replace=function(t,e){Y(t,"replace"),Y(e,"replace"),this._sync();var r=this._tokens.indexOf(t);return r>=0&&(this._tokens.indexOf(e)<0?this._tokens[r]=e:V.removeAt(this._tokens,r),this._commit()),r>=0},TokenList.prototype.supports=function(t){throw new TypeError("Failed to execute 'supports' on 'DOMTokenList': DOMTokenList has no supported tokens.")},TokenList.prototype.forEach=function(t,e){this._sync();for(var r=this._tokens.length,n=0;n<r;++n)t.call(e,this._tokens[n],n,this)},TokenList.prototype.entries=function(){return this._sync(),this._tokens.entries()},TokenList.prototype.keys=function(){return this._sync(),this._tokens.keys()},TokenList.prototype.values=function(){return this._sync(),this._tokens.values()},TokenList._getterCount=0,TokenList}();"undefined"!=typeof Symbol&&Symbol.iterator&&Object.defineProperty(B.prototype,Symbol.iterator,{value:function(){return this._sync(),this._tokens.values()}});var G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:global,q=Object.prototype.hasOwnProperty;function getGlobal(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;++r){var n=t[r];if(q.call(G,n))return G[n]}}var F="http://www.w3.org/2000/svg",$=String,U=null;function Q(t){return t&&t.ownerDocument||G.document}function Z(t){return Q(t).body}function J(t,e){var r=t&&"object"==typeof t&&t.nodeType||0;return r>0&&r<12&&("number"!=typeof e||e<1||r===e)}function K(t,e){return"string"==typeof t?Q(e).getElementById(t):J(t,1)?t:null}function tt(t,e){var r=!1;if(J(t)&&J(e))if(t.contains)r=t.contains(e);else{var n=e;do{r=n===t}while(!r&&(n=n.parentNode))}return r}function et(t,e){if(void 0===e&&(e=0),t)for(var r=t.childNodes,n=Math.max(0,+e||0),i=r.length-1;i>=n;--i)t.removeChild(r[i]);return t||null}function rt(t,e){if(t){var r=t.parentNode;!r||e&&e!==r||r.removeChild(t)}return t||null}function nt(t,e,r,n){if(void 0===r&&(r="last"),void 0===n&&(n=0),!J(t))throw new TypeError("Invalid node provided");if(!J(e))throw new TypeError("Invalid reference node provided");if(t===e)throw new Error("refNode and node are the same node");var i,o;switch(r||"last"){case"none":break;case"last":case"append":e.lastChild!==t&&e.appendChild(t);break;case"first":case"prepend":e.firstChild!==t&&e.insertBefore(t,e.firstChild);break;case"before":e.previousSibling!==t&&(i=e.parentNode)&&i.insertBefore(t,e);break;case"after":(o=e.nextSibling)!==t&&(i=e.parentNode)&&i.insertBefore(t,o);break;case"at":var s=Math.floor(n)||0;s<0&&(s=Math.max(0,s+e.childNodes.length)),t!==(o=e.childNodes[s])&&e.insertBefore(t,o);break;case"swap":(i=t.parentNode)?(o=t.nextSibling)===e?i.insertBefore(e,t):e.parentNode?i.insertBefore(e.parentNode.replaceChild(t,e),o):i.replaceChild(e,t):(i=e.parentNode)&&i.replaceChild(t,e);break;case"replace":(i=e.parentNode)?i.replaceChild(t,e):(i=t.parentNode)&&i.removeChild(t);break;case"only":(o=e.firstChild)?(et(e,1),o!==t&&e.replaceChild(t,o)):e.appendChild(t);break;default:throw new TypeError("Invalid placement option: "+r)}return t}function it(t,e,r,n,i){var o=Q(r).createElement(t);return e&&D(o,e),r&&nt(o,r,n,i),o}function ot(t,e,r,n,i){var o=Q(r).createElementNS(F,t);return e&&D(o,e),"svg"!==t||o.hasAttribute("xmlns")||o.setAttribute("xmlns",F),r&&nt(o,r,n,i),o}function st(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=Q(t[0]).createDocumentFragment(),n=0,i=t.length;n<i;++n)r.appendChild(t[n]);return r}function lt(t,e,r){var n;U?et(U):st(U=it("div")),t&&(U.innerHTML=$(t));var i=U.childNodes;if("function"==typeof e){var o=i.length;n=new Array(o);for(var s=0,l=0;l<o;++l)e.call(r,i[l],l,i)&&(n[s++]=i[l]);s<o&&(n.length=s)}else n=Array.from(i);return et(U),n}var at=null;function ut(t){return J(t,1)?(null===at&&t.classList&&(at=function(t){var e=t.classList,r=!!e.replace;if(r){var n="test-support-1";try{var i=e.length;e.add(n,"test-support-2"),e.toggle(n,!0),r=e.length-i==2}catch(t){r=!1}e.remove(n),e.remove("test-support-2")}return r}(t)),at&&t.classList?t.classList:new B(t,null,"class")):null}function ct(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=ut(t);i&&i.add.apply(i,e.__spread(r))}var ht=/^[^_\$]/,ft=Object.prototype.hasOwnProperty,dt="undefined"==typeof Symbol?"@@destroyed":Symbol("destroyed"),pt=function pt(){this.listeners=[],this.references=[],this.referenceHandlers=[]},yt=new WeakMap;function vt(t){var e=yt.get(t);return e||yt.set(t,e=new pt),e}function gt(t){return!!t&&"object"==typeof t&&"function"==typeof t.destroy}function mt(t){gt(t)&&t.destroy()}var bt=function(){function OwnedHandle(t,e){Object.defineProperties(this,{_owner:{writable:!0,value:t},_ownerDL:{writable:!0,value:null},_target:{writable:!0,value:e},_targetDL:{writable:!0,value:null}}),t.addDestroyListener(this._ownerDL=this._ownerDestroyed.bind(this)),"addDestroyListener"in e&&e.addDestroyListener(this._targetDestroyed=this._targetDestroyed.bind(this))}return OwnedHandle.prototype._ownerDestroyed=function(){this._target&&(this._owner=null,this._targetDL&&("removeDestroyListener"in this._target&&this._target.removeDestroyListener(this._targetDL),this._targetDL=null),mt(this._target),this._ownerDL=null,this._target=null)},OwnedHandle.prototype._targetDestroyed=function(){this._owner&&(this._ownerDL&&this._owner.removeDestroyListener(this._ownerDL),this._owner=null,this._ownerDL=null,this._target=null,this._targetDL=null)},OwnedHandle}();function _t(t){if(!gt(t))throw new TypeError("Cannot own; invalid value");if(t===this)throw new Error("An object cannot own itself");return new bt(this,t),t}var wt=function(){function Destroyable(){}return Destroyable.isDestroyed=function(t){return!!t&&ft.call(t,dt)},Destroyable.destroyAll=function(t){if(t&&"object"==typeof t){if("forEach"in t)return void t.forEach(mt);if("length"in t)return void Array.prototype.forEach.call(t,mt)}throw new TypeError("_collection must either have a forEach method or a length property.")},Destroyable.prototype.destroy=function(){ft.call(this,dt)||(this._destroy(),Object.defineProperty(this,dt,{value:!0}))},Destroyable.prototype._destroy=function(){var t=function(t){var e=yt.get(t)||null;return e&&yt.delete(t),e}(this);if(t){if(t.listeners.length>0){for(var e=0,r=t.listeners.length;e<r;++e)t.listeners[e](this);t.listeners.length=0}if(t.references.length>0){for(e=0,r=t.references.length;e<r;++e){var n=t.references[e],i=t.referenceHandlers[e];i&&this[n].removeDestroyListener(i),delete this[n]}t.references.length=0,t.referenceHandlers.length=0}}},Destroyable.prototype.addDestroyListener=function(t){if("function"!=typeof t)throw new TypeError("_listener must be callable");return vt(this).listeners.push(t),t},Destroyable.prototype.removeDestroyListener=function(t){var e=yt.get(this);return!!e&&V.removeLast(e.listeners,t)},Destroyable.prototype.own=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Array.from(t,_t,this)},Destroyable.prototype.ref=function(t,e){if(!function(t){switch(typeof t){case"number":case"string":case"symbol":return!0;default:return!1}}(t))throw new TypeError("Invalid property name: "+t);var r=typeof e;if(null===e||"undefined"===r)throw new TypeError("_target cannot be "+e+". Use unref to clear a reference.");if("function"!==r&&"object"!==r)throw new TypeError("_target cannot be "+r+". Only objects or functions can be referenced.");var n=vt(this),i=n.references.indexOf(t);if(i<0)i=n.references.push(t)-1,n.referenceHandlers.push(null);else if(n.referenceHandlers[i]){var o=this[t];o&&"removeDestroyListener"in o&&o.removeDestroyListener(n.referenceHandlers[i]),n.referenceHandlers[i]=null}return Object.defineProperty(this,t,{configurable:!0,enumerable:"string"==typeof t&&ht.test(t),value:e}),"object"===r&&"addDestroyListener"in e&&e.addDestroyListener(n.referenceHandlers[i]=this.unref.bind(this,t)),e},Destroyable.prototype.unref=function(t,e){var r,n=yt.get(this);if(n){var i=n.references.indexOf(t);if(i>=0&&(void 0===e||Object.is(this[n.references[i]],e))){var o=n.references.splice(i,1)[0],s=n.referenceHandlers.splice(i,1)[0];r=this[o],delete this[o],s&&r&&"removeDestroyListener"in r&&r.removeDestroyListener(s)}}return r},Destroyable.prototype.ownMember=function(t,e){return this.ref(t,_t.call(this,e))},Destroyable}();Object.defineProperty(wt.prototype,"destroyAll",{value:wt.destroyAll});var xt="undefined"!=typeof window&&!window.ActiveXObject&&"ActiveXObject"in window,St=new(function(){function DictSupportCheck(){this._initialized=!1,this._options=!1,this._passive=!1}return Object.defineProperty(DictSupportCheck.prototype,"options",{get:function(){return this._initialized||this._init(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(DictSupportCheck.prototype,"passive",{get:function(){return this._initialized||this._init(),this._passive},enumerable:!1,configurable:!0}),DictSupportCheck.prototype._init=function(){var t=this;function NOOP(){}if("undefined"!=typeof document)try{var e=Object.create(Object.prototype,{capture:{enumerable:!0,get:function(){return t._options=!0}},passive:{enumerable:!0,get:function(){return t._passive=!0}}}),r=document.createElement("div");r.addEventListener("scroll",NOOP,e),r.removeEventListener("scroll",NOOP,e)}catch(t){}this._initialized=!0},DictSupportCheck}());function Pt(t,e){return function(r){return t.isAttached()?e.call(this,r):void 0}}var Tt=function(t){function EventHandle(e,r,n,i,o){var s=t.call(this)||this;if(!e)throw new TypeError("A node must be specified");if(!r)throw new TypeError("An event name must be specified");if(!n)throw new TypeError("A listener must be specified");return Object.defineProperties(s,{_node:{writable:!0,value:e},_eventName:{value:r},_listener:{writable:!0,value:xt?Pt(s,EventHandle.normalize(n)):n},capture:{enumerable:!0,value:!0===i},passive:{enumerable:!0,value:!0===o},_attached:{writable:!0,value:!1},_names:{value:r.indexOf(",")<0?null:r.split(/\s*,\s*/)}}),s}return e.__extends(EventHandle,t),EventHandle.isEventListenerObject=function(t){return!!t.handleEvent},EventHandle.normalize=function(t){return EventHandle.isEventListenerObject(t)?t.handleEvent.bind(t):t},EventHandle.prototype._destroy=function(){this.detach(),this._node=null,this._listener=null,t.prototype._destroy.call(this)},EventHandle.prototype.detach=function(){return this._attached&&this._node&&this._listener&&(this._names?this._names.forEach(this._detach,this):this._detach(this._eventName),this._attached=!1),this},EventHandle.prototype.attach=function(){return!this._attached&&this._node&&(this._names?this._names.forEach(this._attach,this):this._attach(this._eventName),this._attached=!0),this},EventHandle.prototype.isAttached=function(){return this._attached},EventHandle.prototype._attach=function(t){this._node&&this._listener&&this._node.addEventListener(t,this._listener,St.options?this:this.capture)},EventHandle.prototype._detach=function(t){this._node&&this._listener&&this._node.removeEventListener(t,this._listener,St.options?this:this.capture)},EventHandle}(wt);function Nt(t,e,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),new Tt(t,e,r,n,i)}function Et(t,e,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),Nt(t,e,r,n,i).attach()}var Rt=Object.freeze(new b(0,0,0,0));function Ot(t){try{return t.getBBox()}catch(t){}return Rt}function At(t){try{return t.getCTM()}catch(t){}return null}function Ct(t,e){if(G.getComputedStyle)return G.getComputedStyle(t,e);if(e)throw new Error("Pseudo element cannot be supported");return t.currentStyle||t.style}function Lt(t,e){var r=null,n=function(t){for(var e=t&&t.ownerSVGElement||t||null;e&&!/^SVG$/i.test(e.tagName);)e=e.parentNode;return e}(e||t);if(t&&n){var i=Ot(t),o=At(t);if(!o||i===Rt)return new b(0,0,0,0);var s=n.createSVGPoint();s.x=i.x,s.y=i.y;var l=s.matrixTransform(o);s.x+=i.width;var a=s.matrixTransform(o);s.y+=i.height;var u=s.matrixTransform(o);s.x-=i.width;var c=s.matrixTransform(o);r=new b(Math.min(l.x,a.x,u.x,c.x),Math.min(l.y,a.y,u.y,c.y),Math.max(l.x,a.x,u.x,c.x),Math.max(l.y,a.y,u.y,c.y))}return r}function jt(t,e,r){void 0===r&&(r=!1);var n=Q(e),i=n.location.href;i===n.baseURI&&(i="");var o=i.indexOf("#");return o>=0&&(i=i.substr(0,o)),"about:blank"!==i||r?i+"#"+t:"#"+t}function zt(t){return"url('"+String(t).replace(/["'\\]/g,"\\$&")+"')"}function kt(t){return String(t).replace(/[&<>"'\/`=]/g,(function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";case"/":return"&#x2F;";case"`":return"&#x60;";case"=":return"&#x3D;";default:return t}}))}var Dt,Mt=Object.freeze({__proto__:null,getAttributeNS:A,getAttribute:C,hasAttributeNS:L,hasAttribute:function(t,e){var r=e.lastIndexOf(":");return L(t,r<1?null:e.substring(0,r),r<0?e:e.substring(r+1,e.length))},setAttributeNS:j,setAttribute:z,removeAttributeNS:k,removeAttribute:function(t,e){var r=e.lastIndexOf(":");return k(t,r<1?null:e.substring(0,r),r<0?e:e.substring(r+1,e.length))},setAttributes:D,classList:ut,hasClass:function(t,e){var r=ut(t);return!!r&&r.contains(e)},addClass:ct,removeClass:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=ut(t);i&&i.remove.apply(i,e.__spread(r))},toggleClass:function(t,e,r){var n=ut(t);return!!n&&n.toggle(e,r)},doc:Q,body:Z,head:function(t){return Q(t).head},isDomNode:J,byId:K,contains:tt,clear:et,remove:rt,place:nt,create:it,createNS:function(t,e,r,n,i,o){var s=Q(n).createElementNS(t,e);return r&&D(s,r),n&&nt(s,n,i,o),s},createSvg:ot,text:function(t,e,r,n){var i=Q(e).createTextNode(t);return e&&nt(i,e,r,n),i},fragment:st,parse:lt,handle:Nt,on:Et,once:function(t,e,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var o=Nt(t,e,(function(t){o&&(Tt.isEventListenerObject(r)?r.handleEvent(t):r.call(this,t),o.destroy(),o=null)}),n,i);return o.attach()},getCTM:At,getComputedStyle:Ct,clientBounds:function(t){return J(t,1)&&t.getBoundingClientRect()||null},layoutSize:function(t,e){void 0===e&&(e=!1);var r=J(t,1)?new d(t.offsetWidth||t.clientWidth,t.offsetHeight||t.clientHeight):null;if(r&&e){var n=Ct(t);if(n){var i=void 0;(i=parseFloat(n.marginLeft))&&(r.width+=i),(i=parseFloat(n.marginTop))&&(r.height+=i),(i=parseFloat(n.marginRight))&&(r.width+=i),(i=parseFloat(n.marginBottom))&&(r.height+=i)}}return r},svgLayoutSize:function(t){var e=Ot(t);return new d(e.width,e.height)},svgViewRect:Lt,isRTL:function(t,e){var r,n=e;return!n&&t&&(n=Ct(t)),n&&!(r=n.direction)&&t&&t.ownerDocument&&(r=Ct(t.ownerDocument.body).direction),!!r&&/^rtl$/i.test(r)},hitTest:function(t,e,r){return Q(r).elementFromPoint(t,e)},hitTestElements:function(t,e,r){var n,i=Q(r);if(i.elementsFromPoint)n=i.elementsFromPoint(t,e);else if(i.msElementsFromPoint)n=i.msElementsFromPoint(t,e);else{var o=i.elementFromPoint(t,e);n=new Array(o?1:0),o&&(n[0]=o)}return n},hashRef:jt,url:zt,escape:kt}),Ht=/^[MLHVCSQTAZ]$/i,Wt=/^[0-9Ee\-\+\.]$/,Vt={value:void 0,done:!0},It={next:function(){return Vt}};!function(t){t[t.Noop=0]="Noop",t[t.RelativeX=1]="RelativeX",t[t.RelativeY=2]="RelativeY",t[t.RelativeAndLastX=3]="RelativeAndLastX",t[t.RelativeAndLastY=4]="RelativeAndLastY"}(Dt||(Dt={}));var Xt=Object.freeze([]),Yt=Object.freeze([Dt.RelativeAndLastX]),Bt=Object.freeze([Dt.RelativeAndLastY]),Gt=Object.freeze([Dt.RelativeAndLastX,Dt.RelativeAndLastY]),qt=Object.freeze([Dt.RelativeX,Dt.RelativeY,Dt.RelativeAndLastX,Dt.RelativeAndLastY]),Ft=Object.freeze([Dt.RelativeX,Dt.RelativeY,Dt.RelativeX,Dt.RelativeY,Dt.RelativeAndLastX,Dt.RelativeAndLastY]),$t=Object.freeze([Dt.Noop,Dt.Noop,Dt.Noop,Dt.Noop,Dt.Noop,Dt.RelativeAndLastX,Dt.RelativeAndLastY]);function Ut(t){switch(t.toUpperCase()){case"H":return Yt;case"V":return Bt;case"M":case"L":case"T":return Gt;case"S":case"Q":return qt;case"C":return Ft;case"A":return $t;case"Z":default:return Xt}}function Qt(t){return Ut(t).length}function Zt(t,e,r,n){var i,o=Ut(t),s=o.length,l=e.length/s;if(r)for(var a=0;a<l;++a)for(var u=a*s,c=0;c<s;++c)switch(o[c]){case Dt.RelativeX:e[u+c]+=n.x;break;case Dt.RelativeAndLastX:i=e[u+c]+n.x,e[u+c]=i,n.x=i;break;case Dt.RelativeY:e[u+c]+=n.y;break;case Dt.RelativeAndLastY:i=e[u+c]+n.y,e[u+c]=i,n.y=i}else for(a=0;a<l;++a)for(u=a*s,c=0;c<s;++c){var h=o[c];h===Dt.RelativeAndLastX&&(n.x+=e[u+c]),h===Dt.RelativeAndLastY&&(n.y+=e[u+c])}}var Jt=function Jt(t,e){this.type=t,this.values=e};function Kt(t,e){return{value:new Jt(t,e),done:!1}}var te=function(){function PathSegmentIterable(t,e){this._pathData=C(t,"d"),this._normalize=e&&e.normalize||!1}return PathSegmentIterable.prototype[Symbol.iterator]=function(){var t=this._pathData,e=t?t.length:0;if(!t||!e)return It;var r=this._normalize,n=new s,i=null,o=[],l=0,a=-1,u=-1,c=-1,h=function(){o.push(+t.substring(a,l)),a=-1,u=-1,c=-1};return{next:function(){for(;l<e;){var s=t[l];if(Ht.test(s)){if(i){a>-1&&h(),Zt(d=i.toUpperCase(),o,r&&i!==d,n);var f=Kt(r?d:i,o);return i=null,o=[],f}i=s}else if(Wt.test(s))switch(a<0&&(a=l),s){case".":u>-1&&(h(),a=l),u=l;break;case"E":case"e":c=l;break;case"-":case"+":l!==a&&(-1===c||l>c+1)&&(h(),a=l)}else i&&a>-1&&h();++l}if(i){var d;a>-1&&h(),Zt(d=i.toUpperCase(),o,r&&i!==d,n);f=Kt(r?d:i,o);return i=null,o=[],f}return Vt}}},PathSegmentIterable}(),ee={value:void 0,done:!0},re={next:function(){return ee}},ne=function(){function PointsIterable(t){this._pointsData=C(t,"points")}return PointsIterable.prototype[Symbol.iterator]=function(){var t=this._pointsData,e=t?t.length:0;if(!t||!e)return re;var r=0,n=-1,i=null,o=-1,l=-1,a=function(){var e=+t.substring(n,r);if(n=-1,null!==i){var o={value:new s(i,e),done:!1};return i=null,o}return i=e,null};return{next:function(){for(;r<e;){var s=t[r];if(Wt.test(s))switch(n<0&&(n=r),s){case".":if(o>-1){if(null!==(u=a()))return u;n=r}o=r;break;case"E":case"e":l=r;break;case"-":case"+":if(r!==n&&(-1===l||r>l+1)){if(null!==(u=a()))return u;n=r}}else if(n>-1){if(null!==(u=a()))return u}++r}var u;if(null!==i&&n>-1&&null!==(u=a()))return u;return ee}}},PointsIterable}();function ie(t,e){return new te(t,e)}function oe(t){return new ne(t)}var se=Object.freeze({__proto__:null,getSegmentSize:Qt,getPathData:ie,getPointData:oe});function le(t,e){return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom}function ae(t,e,r,n,i,o){if(r===i&&n===o)return t===r&&e===n;var s=(e-n)*(i-r)-(t-r)*(o-n),l=r===i?(e-n)/(o-n):(t-r)/(i-r);return Math.abs(s)<1e-8&&0<=l&&l<=1}function ue(t,e,r){return ae(t.x,t.y,e.x,e.y,r.x,r.y)}function ce(t,e,r,n,i,o){if((n<=e&&o>e||n>e&&o<=e)&&t<=r+(e-n)/(o-n)*(i-r))return 1;return 0}function he(t,e,r){return ce(t.x,t.y,e.x,e.y,r.x,r.y)}function fe(t,r,n){var i,o,s,l,a=n.size;if(0===a)return!1;if(a<3)return s=n.pointAt(0),l=n.pointAt(a-1),ae(t,r,s.x,s.y,l.x,l.y);var u=n.isClosed,c=0;try{for(var h=e.__values(n.segments),f=h.next();!f.done;f=h.next()){var d=f.value;if(s=d.startPoint,l=d.endPoint,ae(t,r,s.x,s.y,l.x,l.y))return!0;u&&(c+=ce(t,r,s.x,s.y,l.x,l.y))}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return u&&c%2!=0}function de(t,e){return fe(t.x,t.y,e)}function pe(t,e,r){return(r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function ye(t,e){return pe(t[0],e[0],e[1])!==pe(t[1],e[0],e[1])&&pe(t[0],t[1],e[0])!==pe(t[0],t[1],e[1])||ue(t[0],e[0],e[1])||ue(t[1],e[0],e[1])||ue(e[0],t[0],t[1])||ue(e[1],t[0],t[1])}function ve(t,r){var n,i,o,s,l=t.size,a=r.size;if(0===l||0===a)return!1;var u=t.isClosed,c=r.isClosed;if(1===l||u&&2===l)return de(t.pointAt(0),r);if(1===a||c&&2===a)return de(r.pointAt(0),t);var h=new Array(a).fill(0);try{for(var f=e.__values(t.segments),d=f.next();!d.done;d=f.next()){var p=d.value,y=0,v=0;try{for(var g=(o=void 0,e.__values(r.segments)),m=g.next();!m.done;m=g.next()){var b=m.value;if(ye([p.startPoint,p.endPoint],[b.startPoint,b.endPoint]))return!0;c&&a>2&&(y+=he(p.startPoint,b.startPoint,b.endPoint)),u&&l>2&&(h[v]+=he(b.startPoint,p.startPoint,p.endPoint)),++v}}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}if(c&&a>2&&y%2!=0)return!0}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return u&&l>2&&h.some((function(t){return t%2!=0}))}function ge(t,e){for(var r=0,n=e.size;r<n;++r)if(le(e.pointAt(r),t))return!0;return ve(new P([new s(t.left,t.top),new s(t.right,t.top),new s(t.right,t.bottom),new s(t.left,t.bottom)]),e)}function me(t,e,n,i){return r(t,e,n.x,n.y)<=Math.max(0,i)}function be(t,e,r){return n(t,e)<=Math.max(0,r)}function _e(t,e,r){return!!b.containsPointXY(t,e.x,e.y)||be(new s(clamp(t.left,e.x,t.right),clamp(t.top,e.y,t.bottom)),e,r)}function we(t,e,r,i){return n(t,r)<=e+i}function xe(t,r,n){var i,o,l=t.size;if(0===l)return!1;if(0===Math.max(0,n))return de(r,t);var a=t.isClosed;if(1===l||a&&2===l)return be(t.pointAt(0),r,n);var u=0;try{for(var c=e.__values(t.segments),h=c.next();!h.done;h=c.next()){var f=h.value,d=f.startPoint,p=f.endPoint;if(!s.equals(p,d)){if(be(p,r,n))return!0;var y=p.x-d.x,v=p.y-d.y,g=y*y+v*v,m=d.x-r.x,b=d.y-r.y,_=2*(y*m+v*b),w=_*_-4*g*(m*m+b*b-n*n);if(0===w){var x=-1*_/(2*g);if(ae(d.x+x*y,d.y+x*v,d.x,d.y,p.x,p.y))return!0}else if(w>0){x=(-1*_+Math.sqrt(w))/(2*g);if(ae(d.x+x*y,d.y+x*v,d.x,d.y,p.x,p.y))return!0;if(x=(-1*_-Math.sqrt(w))/(2*g),ae(d.x+x*y,d.y+x*v,d.x,d.y,p.x,p.y))return!0}a&&l>2&&(u+=he(r,d,p))}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a&&l>2&&u%2!=0}function Se(t){return 0!==t.b||0!==t.c||0!==t.e||0!==t.f||1!==t.a||1!==t.d}function Pe(t,e,r,n){var i=r?r.a*t+r.c*e+r.e:t,o=r?r.b*t+r.d*e+r.f:e;return n?n.set(i,o):new s(i,o)}function Te(t,e,r){return Pe(t.x,t.y,e,r)}function Ne(t,e){var r=C(t,e);return r?parseFloat(r):0}var Ee={normalize:!0};function Re(t,r){var n,i,o=C(r,"d");if(!o)return!1;if(function(t,r){var n,i,o=r.left,s=r.top,l=r.right,a=r.bottom;if(P.isPolygon(t)){var u=t.size;if(0===u)return!1;var c=0,h=0;try{for(var f=e.__values(t.segments),d=f.next();!d.done;d=f.next()){var p=d.value,y=p.startPoint,v=p.endPoint;if(ae(o,s,y.x,y.y,v.x,v.y)||ae(l,a,y.x,y.y,v.x,v.y))return!0;u>2&&(c+=ce(o,s,y.x,y.y,v.x,v.y),h+=ce(l,a,y.x,y.y,v.x,v.y))}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return c%2!=0&&h%2!=0}return!!T.isCircle(t)&&(me(o,s,t.center,t.radius)&&me(l,a,t.center,t.radius))}(t,Lt(r)))return!0;var l,a,c,h=new s,d=new s,p=new s,y=[],v="z"===o[o.length-1].toLowerCase(),g=new s,m=new s,b=null,_=null,w=null,x=null,S=null,N=0,E=!1,R=At(r);R&&!Se(R)&&(R=null);try{for(var O=e.__values(ie(r,Ee)),A=O.next();!A.done;A=O.next()){var L=A.value,j=L.type,z=L.values,k=Qt(j),D=z.length/k;switch(j){case"M":E=!1;case"L":case"H":case"V":var M=void 0,H=void 0;for(l=0;l<D;++l){if(a=l*k,"V"===j?(M=g.x,H=z[a+0]):(M=z[a+0],H="H"===j?g.y:z[a+1]),h.set(M,H),b=Te(h,R,b),E||"M"!==j||(S=S?S.set(b.x,b.y):b.clone(),N=0,E=!0),"M"!==j||m&&l>0){if(y.length=0,y.push(m,b),t.intersects(new P(y,!1)))return!0;v&&t.anyPoint&&(N+=he(t.anyPoint,m,b))}g.set(h.x,h.y),m.set(b.x,b.y)}_=null;break;case"C":case"S":case"Q":case"T":for(c="C"===j||"Q"===j?2:0,l=0;l<D;++l){a=l*k,y.length=0,h.set(g.x,g.y),b=b?b.set(m.x,m.y):new s(m.x,m.y),y.push(b),"C"===j||"S"===j?(_&&"S"===j?d.set(g.x+(g.x-_.x),g.y+(g.y-_.y)):d.set(z[a+0],z[a+1]),w=Te(d,R,w),y.push(w),p.set(z[a+c+0],z[a+c+1]),g.set(z[a+c+2],z[a+c+3])):(_&&"T"===j?p.set(h.x+(g.x-_.x),h.y+(g.y-_.y)):p.set(z[a+0],z[a+1]),g.set(z[a+c+0],z[a+c+1])),x=Te(p,R,x),Te(g,R,m),y.push(x,m);var W=new f(y).segment(null,1);if(t.intersects(new P(W,!1)))return!0;if(v&&t.anyPoint)for(var V=0,I=W.length-1;V<I;++V)N+=he(t.anyPoint,W[V],W[V+1]);_=p}break;case"A":for(l=0;l<D;++l){a=l*k,h.set(g.x,g.y),b=b?b.set(m.x,m.y):new s(m.x,m.y);var X=z[a+0],Y=z[a+1],B=z[a+2],G=z[a+3],q=z[a+4];g.set(z[a+5],z[a+6]),Te(g,R,m);W=u.create(b,X,Y,B,1===G,1===q,m).segment(null,1);if(t.intersects(new P(W,!1)))return!0;if(v&&t.anyPoint)for(V=0,I=W.length-1;V<I;++V)N+=he(t.anyPoint,W[V],W[V+1])}_=null;break;case"Z":if(m&&S){if(y.length=0,y.push(S,m),t.intersects(new P(y,!1)))return!0;if(v&&t.anyPoint&&(N+=he(t.anyPoint,m,S))%2!=0)return!0}}}}catch(t){n={error:t}}finally{try{A&&!A.done&&(i=O.return)&&i.call(O)}finally{if(n)throw n.error}}return!1}function Oe(t,r){var n,i;if(!C(r,"points"))return!1;var o=At(r);o&&!Se(o)&&(o=null);var s=new Array;try{for(var l=e.__values(oe(r)),a=l.next();!a.done;a=l.next()){var u=a.value;s.push(Pe(u.x,u.y,o,u))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return t.intersects(new P(s,"polygon"===r.tagName))}function Ae(t,e){switch(e.tagName){case"path":return Re(t,e);case"rect":return function(t,e){var r=Ne(e,"x"),n=Ne(e,"y"),i=Ne(e,"width"),o=Ne(e,"height");if(isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o))return!1;var s=At(e);s&&!Se(s)&&(s=null);var l=new P([Pe(r,n,s,null),Pe(r+i,n,s,null),Pe(r+i,n+o,s,null),Pe(r,n+o,s,null)]);return t.intersects(l)}(t,e);case"circle":return function(t,e){var r=Ne(e,"cx"),i=Ne(e,"cy"),o=Ne(e,"r");if(isNaN(r)||isNaN(i)||isNaN(o))return!1;var s=At(e);s&&!Se(s)&&(s=null);var l=Pe(r,i,s,null),a=n(Pe(r,i-o,s,null),l);return t.intersects(new T(l,a))}(t,e);case"line":return function(t,e){var r=Ne(e,"x1"),n=Ne(e,"y1"),i=Ne(e,"x2"),o=Ne(e,"y2");if(isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o))return!1;var s=At(e);s&&!Se(s)&&(s=null);var l=Pe(r,n,s,null),a=Pe(i,o,s,null);return t.intersects(new P([l,a]))}(t,e);case"polyline":case"polygon":return Oe(t,e);default:return function(t,e){return t.intersects(Lt(e))}(t,e)}}var Ce=Object.freeze({__proto__:null,pointRect:le,pointXYSegment:ae,pointSegment:ue,pointXYPoly:fe,pointPoly:de,segments:ye,polys:ve,rectPoly:ge,rectRect:function(t,e){return!(t.right<e.left||e.right<t.left||t.bottom<e.top||e.bottom<t.top)},pointXYCircle:me,pointCircle:be,rectCircle:_e,circleCircle:we,polyCircle:xe,polyElement:function(t,e){return!!t.size&&Ae(t,e)},circleElement:function(t,e,r){return Ae(new T(t,e),r)}}),Le=function(){function Polynomial(t,e){void 0===e&&(e=0),Object.defineProperties(this,{params:{enumerable:!0,value:t},center:{enumerable:!0,value:e}})}return Polynomial.prototype.eval=function(t){for(var e=0,r=0;r<this.params.length;++r)e+=this.params[r]*Math.pow(t-this.center,r);return e},Polynomial.prototype.segment=function(t,e,r,n){return void 0===r&&(r=.1),void 0===n&&(n=function(t){return t}),this._recursiveSubdivide(new s(t,this.eval(t)),new s(e,this.eval(e)),r,n)},Polynomial.prototype._recursiveSubdivide=function(t,e,r,n){var i=(e.x+t.x)/2,o=new s(i,this.eval(i));if(this._curveDifference(o,t,e,n)>r){var l=this._recursiveSubdivide(t,o,r,n),a=this._recursiveSubdivide(o,e,r,n);return l.pop(),l.concat(a)}return[n(t),n(e)]},Polynomial.prototype._curveDifference=function(t,e,r,n){return i(n(t),n(e),n(r))},Polynomial}(),je=Object.freeze({__proto__:null,distance:o,intersect:Ce,Polygon:P,Polynomial:Le}),ze=getGlobal("performance")||Date;function now(){return ze.now()}var ke=getGlobal("requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame"),De=getGlobal("cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelAnimationFrame","mozCancelRequestAnimationFrame","msCancelRequestAnimationFrame"),Me=ke?ke.bind(null):function(t){return setTimeout(t,now()%20)},He=De?De.bind(null):function(t){var e=[],r=1;function n(i){var o=e.length;i||(i=now());for(var s=0;s<o;++s){var l=e.shift();if(++r,l)try{l(i)}catch(t){}}e.length>0&&t(n)}return Me=function(i){var o=e.push(i)-1;return o<1&&t(n),o+r},function(t){var n=t-r;n>=0&&n<e.length&&(e[n]=null)}}(Me),We={request:Me,cancel:He},Ve=function(){function EventArgs(t){var e="boolean"==typeof t?t:!0===this.cancelable;Object.defineProperties(this,{cancelable:{enumerable:!0,value:e},defaultPrevented:{configurable:e,enumerable:!0,value:!1}})}return EventArgs.prototype.preventDefault=function(){!0!==this.cancelable||this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{enumerable:!0,value:!0})},EventArgs}(),Ie=Object.freeze(new Ve),Xe=new WeakMap;var Ye,Be=function(t){function EventedHandle(e,r,n){var i=t.call(this)||this;return Xe.set(i,e),Object.defineProperties(i,{eventName:{enumerable:!0,value:r},listener:{enumerable:!0,writable:!0,value:n}}),i.attach(),i}return e.__extends(EventedHandle,t),EventedHandle.prototype._destroy=function(){this.detach(),Xe.has(this)&&(this.listener=null,Xe.delete(this)),t.prototype._destroy.call(this)},EventedHandle.prototype.attach=function(){if(this.listener){var t=Xe.get(this);t&&t.indexOf(this)<0&&t.push(this)}return this},EventedHandle.prototype.detach=function(){if(this.listener){var t=Xe.get(this);t&&V.removeLast(t,this)}return this},EventedHandle.prototype.isAttached=function(){var t=Xe.get(this);return!!t&&t.indexOf(this)>=0},EventedHandle}(wt),Ge=function(t){function Evented(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(Evented,t),Evented.prototype._destroy=function(){var e=Xe.get(this);if(e){Xe.delete(this);for(var r=e.length-1;r>=0;--r)e[r].destroy()}t.prototype._destroy.call(this)},Evented.prototype.on=function(t,e){if("function"!=typeof e)throw new TypeError("_listener must be a function");if(wt.isDestroyed(this))throw new Error("The target object has been destroyed, cannot attach an event listener to it");var r=Xe.get(this);return r||Xe.set(this,r=[]),new Be(r,t,e)},Evented.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError("_listener must be a function");var r=null;return r=this.on(t,(function(t,n){r&&(r.destroy(),r=null),e(t,n)}))},Evented.prototype.emit=function(t,e){if(wt.isDestroyed(this))throw new Error("The target object has been destroyed, cannot emit an event from it");var r,n=e||Ie;(r=n)instanceof Ve||"object"==typeof r&&null!==r&&"cancelable"in r&&"defaultPrevented"in r||"undefined"==typeof console||console.warn(new TypeError((this.constructor.name||"Evented")+' is emitting the "'+t+'" event with arguments that are not EventArgs'));var i="on"+t;i in this&&this[i](n,this);var o=Xe.get(this);if(o&&o.length>0)for(var s=o.filter((function(e){return e.eventName===t})),l=0,a=s.length;l<a;++l){var u=s[l].listener;u&&u(n,this)}return e||null},Evented.prototype.hasListener=function(t){var e=Xe.get(this);return!!e&&e.some((function(e){return e.eventName===t}))},Evented}(wt),qe=/^([\-\+]?(?=\d|\.\d)\d*(?:\.\d+)?(?:e\-?\d+)?)(%|[cm]m|in|p[ctx]|q|ch|r?em|ex|ic|r?lh|v[hw]|vm(?:in|ax))?$/i;function Fe(t){if(null!==t&&"string"!=typeof t)throw new TypeError("_unit must be null or a string");return t}t.LengthCategory=void 0,(Ye=t.LengthCategory||(t.LengthCategory={})).NONE="none",Ye.ABSOLUTE="absolute",Ye.FONT_RELATIVE="font",Ye.VIEWPORT_RELATIVE="viewport",Ye.PERCENTAGE="percentage";var $e={match:function(t){return qe.exec(t)},category:function(t){if(Fe(t),null===t)return"none";switch(t.toLowerCase()){case"px":case"cm":case"mm":case"q":case"in":case"pc":case"pt":return"absolute";case"ch":case"em":case"rem":case"ex":case"ic":case"lh":case"rlh":return"font";case"vh":case"vw":case"vmin":case"vmax":return"viewport";case"%":return"percentage";default:return null}},absolutePx:function(t,e){switch(Fe(e),e&&e.toLowerCase()){case"px":return+t;case"cm":return 96*t/2.54;case"mm":return 96*t/25.4;case"q":return 96*t/101.6;case"in":return 96*t;case"pc":return 16*t;case"pt":return 4*t/3;default:throw new TypeError(e+" is not an absolute unit")}},fontPx:function(t,e,r){if(Fe(e),"number"!=typeof r)throw new TypeError("The reference font size (in pixels) must be a number");var n=t*r;switch(e.toLowerCase()){case"px":case"cm":case"mm":case"q":case"in":case"pc":case"pt":return $e.absolutePx(t,e);case"ch":return.55*n;case"ex":return n/2;case"ic":throw new Error("ic is not supported");case"lh":case"rlh":case"em":case"rem":return n;case"%":return n/100;default:throw new TypeError(e+" is not a font-relative unit")}},percentagePx:function(t,e,r){if(Fe(e),"number"!=typeof r)throw new TypeError("The reference size (in pixels) must be a number");switch($e.category(e)){case"absolute":return $e.absolutePx(t,e);case"percentage":return t*r/100;default:throw new TypeError(e+" is not a percentage unit")}}},Ue=function(t){function ValueEventArgs(e,r){void 0===r&&(r=!1);var n=t.call(this,r)||this;return Object.defineProperty(n,"value",{enumerable:!0,value:e}),n}return e.__extends(ValueEventArgs,t),ValueEventArgs}(Ve),Qe=function(t){function PropertyChangedEventArgs(e,r){var n=t.call(this,r,!1)||this;return Object.defineProperty(n,"name",{enumerable:!0,value:e}),n}return e.__extends(PropertyChangedEventArgs,t),PropertyChangedEventArgs}(Ue),Ze=function(t){function Observable(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(Observable,t),Observable.prototype._emitPropertyChanged=function(t,e){return this.emit("propertychanged",new Qe(t,e))},Observable.prototype.on=function(e,r){return t.prototype.on.call(this,e,r)},Observable.prototype.onpropertychanged=function(t){},Observable}(Ge),Je=Object.prototype.hasOwnProperty,Ke=/^(?:(?:aria|data)\-[a-zA-Z0-9_\-]+|class(?:Name)?|title|role|htmlFor|for|style)$/,tr=/^on\w+$/,er=new Map;var rr,nr,ir=function(t){function WidgetBase(e,r){var n,i,o=t.call(this)||this,s=K(r);Object.defineProperties(o,{srcNodeRef:{enumerable:!0,value:s},domNode:{enumerable:!0,value:s||it(o.rootTagName)},id:{enumerable:!0,value:WidgetBase.readParam(e,"id",null)||s&&s.id||(n=o.constructor.name||"Anonymous",i=er.get(n)||0,er.set(n,i+1),n+"_"+i)}});var l="baseClass"in o||"declaredClass"in o;if(l&&o.baseClass&&ct(o.domNode,o.baseClass),z(o.domNode,"id",o.id),e)for(var a in e)if("string"==typeof a&&"id"!==a&&Je.call(e,a)){var u=e[a];Ke.test(a)?z(o.domNode,a,u):tr.test(a)&&"function"==typeof u?o.on(a.substr(2),u):l&&(o[a]=u)}return l&&"buildRendering"in o&&!("resolveTemplateProperty"in o)&&o.buildRendering(),o}return e.__extends(WidgetBase,t),WidgetBase.readParam=function(t,e,r,n){if(t&&e in t)return n?n(t[e]):t[e];if(void 0!==r)return r;throw new TypeError("The "+e+" param is mandatory")},WidgetBase.prototype._destroy=function(){rt(this.domNode),t.prototype._destroy.call(this)},WidgetBase.prototype.containsNode=function(t){return tt(this.domNode,t)},WidgetBase.prototype.place=function(t,e,r){var n=K(t);if(!n)throw new Error("Invalid reference node: "+t);return nt(this.domNode,n,e,r),this},WidgetBase}(Ge);function or(t){if("both"!==t&&"horizontal"!==t&&"vertical"!==t)throw new RangeError("Invalid scroll mode: "+t);return t}function sr(t){if("show"!==t&&"auto"!==t&&"hide"!==t)throw new RangeError("Invalid scrollbar visibility: "+t);return t}Object.defineProperty(ir.prototype,"rootTagName",{enumerable:!0,value:"div"}),t.ScrollMode=void 0,(rr=t.ScrollMode||(t.ScrollMode={})).Horizontal="horizontal",rr.Vertical="vertical",rr.Both="both",t.ScrollBarVisibility=void 0,(nr=t.ScrollBarVisibility||(t.ScrollBarVisibility={})).Show="show",nr.Auto="auto",nr.Hide="hide";var lr=new WeakMap,ar=/^(?:last|append|first|prepend|at|only)$/,ur="undefined"!=typeof navigator&&/(?:Edge\/|MSIE\s|Trident\/)\d+/.test(navigator.userAgent),cr=(ur?"position:absolute;left:0;top:0;width:100%;":"position:relative;width:auto;")+"height:100%;margin:0;padding:0;overflow:visible;";var hr=function(t){function ScrollEventArgs(e,r){var n=t.call(this)||this;return n.visible=e,n.extent=r,n}return e.__extends(ScrollEventArgs,t),ScrollEventArgs}(Ve),fr=function(){function ScrollSyncGroup(t){this._hor=t,this._members=[],this._active=null}return ScrollSyncGroup.prototype.add=function(t){this._members.indexOf(t)<0&&this._members.push(t)},ScrollSyncGroup.prototype.remove=function(t){V.removeLast(this._members,t),this._active===t&&(this._active=null)},ScrollSyncGroup.prototype.setActive=function(t){var e,r,n,i,o=this._active;return o!==t&&(this._active=t,o&&(e=o.scrollNode,r=e.style,n=r.overflowX,i=r.overflowY,"hidden"===n&&"hidden"===i||(r.overflowX=r.overflowY="hidden",We.request((function(){r.overflowX=n,r.overflowY=i}))))),o!==t},ScrollSyncGroup.prototype.setScroll=function(t,e){if(this._active===e)for(var r=this._members.length-1;r>=0;--r){var n=this._members[r];e!==n&&(this._hor?n.setScrollStart(t):n.setScrollTop(t))}},ScrollSyncGroup}(),dr=function(t){function ScrollView(e,r){var n=t.call(this,e,r)||this;ct(n.domNode,"ScrollView"),n.domNode.style.overflow="hidden";var i=it("div",{"data-node":"scroll",style:"position:relative;width:100%;height:100%;margin:0;padding:0;overflow-x:auto;overflow-y:auto;-webkit-overflow-scrolling:touch;box-sizing:content-box;"},n.domNode);return Object.defineProperties(n,{_mode:{writable:!0,value:ir.readParam(e,"mode","both",or)},_horizontalScroll:{writable:!0,value:ir.readParam(e,"horizontalScroll","auto",sr)},_verticalScroll:{writable:!0,value:ir.readParam(e,"verticalScroll","auto",sr)},_rtl:{writable:!0,value:!!ir.readParam(e,"rtl",!1)},_touchScrollEnabled:{writable:!0,value:!!ir.readParam(e,"touchScrollEnabled",!0)},_scrollNode:{value:i},_extentNode:{value:it("div",{"data-node":"extent",style:"position:absolute;visibility:hidden;width:1px;height:1px;"},i)},contentNode:{enumerable:!0,value:it("div",{"data-node":"content",style:cr},i)},_horizontalGroup:{writable:!0,value:null},_verticalGroup:{writable:!0,value:null},_sync:{value:Object.create(Object.prototype,{scrollNode:{enumerable:!0,value:i},setScrollStart:{value:n._setScrollStart.bind(n)},setScrollTop:{value:n._setScrollTop.bind(n)}})}}),n.own(Et(n._scrollNode,"scroll",n._handleScroll.bind(n),!1,!0),Et(n._scrollNode,"pointerdown, mousedown, touchstart, wheel, dragenter",n._handleActivate.bind(n),!1,!0)),n._updateDom(),n}return e.__extends(ScrollView,t),ScrollView.isScrollView=function(t){return t instanceof ScrollView||"object"==typeof t&&null!==t&&"addScrollSync"in t&&"getScrollbarSizes"in t&&"integrateTemplateContent"in t},Object.defineProperty(ScrollView.prototype,"rtl",{get:function(){return this._rtl},set:function(t){var e=!!t;this._rtl!==e&&(this._rtl=e,this._updateDom())},enumerable:!1,configurable:!0}),ScrollView.prototype.destroy=function(){var e=this._horizontalGroup;e&&(this._horizontalGroup=null,e.remove(this._sync)),(e=this._verticalGroup)&&(this._verticalGroup=null,e.remove(this._sync)),t.prototype.destroy.call(this)},Object.defineProperty(ScrollView.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode!==or(t)&&(this._mode=t,this._updateDom())},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"horizontalScroll",{get:function(){return this._horizontalScroll},set:function(t){this._horizontalScroll!==sr(t)&&(this._horizontalScroll=t,this._updateDom())},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"verticalScroll",{get:function(){return this._verticalScroll},set:function(t){this._verticalScroll!==sr(t)&&(this._verticalScroll=t,this._updateDom())},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollStart",{get:function(){var t=0,e=this._scrollNode;return e&&(t=e.scrollLeft,this._rtl&&(t=e.scrollWidth-e.clientWidth-t)),t},set:function(t){var e=this._horizontalGroup;e&&e.setActive(this._sync),this._setScrollStart(t)},enumerable:!1,configurable:!0}),ScrollView.prototype._setScrollStart=function(t){var e=this._scrollNode;if(e){var r="vertical"===this._mode?0:+t;this._rtl&&(r=e.scrollWidth-e.clientWidth-r),e.scrollLeft=r}},Object.defineProperty(ScrollView.prototype,"scrollEnd",{get:function(){var t=this._scrollNode,e=0;return t&&(e=t.scrollLeft,this._rtl?e=t.scrollWidth-e:e+=t.clientWidth),e},set:function(t){var e=this._scrollNode;if(e){var r=e.clientWidth,n="vertical"===this._mode?r:+t;this._rtl?n=e.scrollWidth-n:n-=r;var i=this._horizontalGroup;i&&i.setActive(this._sync),e.scrollLeft=n}},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollLeft",{get:function(){return this._scrollNode?this._scrollNode.scrollLeft:0},set:function(t){var e=this._horizontalGroup;e&&e.setActive(this._sync),this._scrollNode.scrollLeft="vertical"===this._mode?0:+t},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollTop",{get:function(){return this._scrollNode?this._scrollNode.scrollTop:0},set:function(t){var e=this._verticalGroup;e&&e.setActive(this._sync),this._setScrollTop(t)},enumerable:!1,configurable:!0}),ScrollView.prototype._setScrollTop=function(t){this._scrollNode.scrollTop="horizontal"===this._mode?0:+t},Object.defineProperty(ScrollView.prototype,"scrollRight",{get:function(){var t=this._scrollNode;return t?t.scrollLeft+t.clientWidth:0},set:function(t){var e=this._scrollNode;if(e){var r=e.clientWidth,n=void 0,i=this._horizontalGroup;i&&i.setActive(this._sync),n="vertical"===this._mode?this._rtl?e.scrollWidth-r:0:t-r,e.scrollLeft=Math.max(0,n)}},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollBottom",{get:function(){var t=this._scrollNode;return t?t.scrollTop+t.clientHeight:0},set:function(t){var e=this._scrollNode;if(e){var r=this._verticalGroup;r&&r.setActive(this._sync),e.scrollTop="horizontal"===this._mode?0:t-e.clientHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"clientWidth",{get:function(){return this._scrollNode?this._scrollNode.clientWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"clientHeight",{get:function(){return this._scrollNode?this._scrollNode.clientHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollWidth",{get:function(){var t=this._scrollNode;return t?"vertical"===this._mode?t.clientWidth:t.scrollWidth:0},set:function(t){var e="vertical"===this._mode?0:Math.max(0,+t||0),r=e<1?"":e+"px",n=this._extentNode.style;(this._rtl?n.right:n.left)!==r&&(this._rtl?n.right=r:n.left=r)},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"scrollHeight",{get:function(){var t=this._scrollNode;return t?"horizontal"===this._mode?t.clientHeight:t.scrollHeight:0},set:function(t){var e="horizontal"===this._mode?0:Math.max(0,+t||0),r=e<1?"":e+"px",n=this._extentNode.style;n.top!==r&&(n.top=r)},enumerable:!1,configurable:!0}),Object.defineProperty(ScrollView.prototype,"touchScrollEnabled",{get:function(){return this._touchScrollEnabled},set:function(t){var e=!!t;this._touchScrollEnabled!==e&&(this._touchScrollEnabled=e,this._updateDom())},enumerable:!1,configurable:!0}),ScrollView.prototype.integrateTemplateContent=function(t){for(var e=0,r=t.length;e<r;++e)nt(t[e].node,this.contentNode)},ScrollView.prototype.placeContent=function(t,e,r){if(e&&!ar.test(e))throw new TypeError('Invalid placement "'+e+'" (for placeContent)');return nt(t,this.contentNode,e,r),this},ScrollView.prototype.clear=function(){return et(this.contentNode),this},ScrollView.prototype.addScrollSync=function(t,e){if(!ScrollView.isScrollView(t))throw new TypeError("Can only sync scrolling with another ScrollView");var r="horizontal"===e;if(!r&&"vertical"!==e)throw new TypeError("Invalid sync mode: "+e);var n=r?this._horizontalGroup:this._verticalGroup,i=r?t._horizontalGroup:t._verticalGroup;if(n&&i){if(n!==i)throw new Error("Cannot sync ScrollViews, both already belong to a different "+e+" group")}else{var o=n||i||new fr(r);n||(r?this._horizontalGroup=o:this._verticalGroup=o,o.add(this._sync)),i||(r?t._horizontalGroup=o:t._verticalGroup=o,o.add(t._sync))}return this},ScrollView.prototype.getScrollbarSizes=function(){var t=this._scrollNode;return t?new d("hide"===this._verticalScroll?0:t.offsetWidth-t.clientWidth,"hide"===this._horizontalScroll?0:t.offsetHeight-t.clientHeight):new d},ScrollView.prototype.isScrollTarget=function(t){return!!this._scrollNode&&this._scrollNode===t},ScrollView.prototype.scrollTo=function(t){return this.scrollStart=t.x,this.scrollTop=t.y,this},ScrollView.prototype.scrollToStart=function(){return this.scrollStart=0,this.scrollTop=0,this},ScrollView.prototype.scrollToEnd=function(){return this.scrollEnd=this.scrollWidth,this.scrollTop=this.scrollHeight,this},ScrollView.prototype.getVisibleRect=function(){var t=this._scrollNode;return t?b.fromXYWH(t.scrollLeft,t.scrollTop,t.clientWidth,t.clientHeight):new b},ScrollView.prototype.getExtentRect=function(){var t=this._scrollNode;return t?new b(0,0,t.scrollWidth,t.scrollHeight):new b},ScrollView.prototype._updateDom=function(){var t,e,r=this._scrollNode,n=this._mode,i=this._horizontalScroll,o=this._verticalScroll;t=r.style,e=this._touchScrollEnabled?"both"===n?"auto":"horizontal"===n?"pan-x":"pan-y":"none",t.touchAction=e,t.overflowX="vertical"===n?"hidden":"auto"===i?"auto":"scroll",t.paddingBottom="vertical"!==n&&"hide"===i?"50px":"",t.overflowY="horizontal"===n?"hidden":"auto"===o?"auto":"scroll";var s,l=0,a=0,u=this._rtl;"horizontal"!==n&&"hide"===o&&(a=(l=r.offsetWidth>0?r.offsetWidth-r.clientWidth:function(t){var e=Z(t),r=0;if(e)if(lr.has(e))r=lr.get(e);else{var n=it("div",{style:"position:absolute;visibility:hidden;width:50px;height:50px;overflow:scroll"},e);r=n.offsetWidth-n.scrollWidth,lr.set(e,r),rt(n)}return r}(r))<1?50:5),s=l||a?l+a+"px":"",t.paddingLeft=u?s:"",t.paddingRight=u?"":s,t=this.contentNode.style,ur?(s=a?a+"px":"",t.left=u?s:"",t.right=u?"":s):(s=l?-l+"px":"",t.marginLeft=u?s:"",t.marginRight=u?"":s),s=(t=this._extentNode.style).left||t.right||"",u?(t.left="",t.right=s,t.margin="-1px -1px 0 0"):(t.left=s,t.right="",t.margin="-1px 0 0 -1px"),this._setScrollStart(this.scrollStart),this._setScrollTop(this.scrollTop)},ScrollView.prototype._handleScroll=function(t){var e,r=this._scrollNode;r&&((e=this._horizontalGroup)&&e.setScroll(this.scrollStart,this._sync),(e=this._verticalGroup)&&e.setScroll(r.scrollTop,this._sync),this.emit("scroll",new hr(b.fromXYWH(r.scrollLeft,r.scrollTop,r.clientWidth,r.clientHeight),new b(0,0,r.scrollWidth,r.scrollHeight))))},ScrollView.prototype._handleActivate=function(t){var e;this._scrollNode&&((e=this._horizontalGroup)&&e.setActive(this._sync)&&e.setScroll(this.scrollStart,this._sync),(e=this._verticalGroup)&&e.setActive(this._sync)&&e.setScroll(this._scrollNode.scrollTop,this._sync))},ScrollView.prototype.on=function(e,r){return t.prototype.on.call(this,e,r)},ScrollView.prototype.onscroll=function(t){},ScrollView}(ir),pr=Object.prototype.hasOwnProperty,yr=String,vr={isString:function(t){return"string"==typeof t},toString:function(t){return arguments.length>0?yr(t):Object.prototype.toString.call(this)},format:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return String(t).replace(/\{\{|\}\}|\{(\d+)\}/g,(function(t,r){if(r){if(pr.call(e,r))return yr(e[+r]);throw new RangeError("No replacement for {"+r+"}, it is out of bounds ("+e.length+")")}return t.charAt(0)}))},join:function(t,e,r){void 0===e&&(e=", "),void 0===r&&(r=e);var n="";if(t){for(var i=void 0,o=-1,s=-1,l=0,a=+t.length||0;l<a;++l)pr.call(t,l)&&(o>=0&&(i=t[o],s>0&&(n+=e),n+=yr(i)),++s,o=l);o>=0&&(i=t[o],s>0&&(n+=r),n+=yr(i))}return n}},gr=function gr(t,e,r){this.id=t,this.name=e,this.definition=r},mr=Object.prototype.hasOwnProperty,br=Object.freeze(["svg","symbol"]),_r=Object.freeze(["width","height","xmlns"]),wr=Object.freeze(_r.concat("viewBox"));function xr(t,r){var n=r.attrs;if(n)for(var i in n)br.includes(t.tagName)&&_r.includes(i)||!mr.call(n,i)||z(t,i,n[i]);var o=r.content;if(o)for(var s=0,l=o.length;s<l;++s){var a=o[s],u=ot(a.elem,null,t);a.attrs=e.__assign({class:"carbon-symbol"},a.attrs),xr(u,a)}}function Sr(t,e,r,n){var i=function(t,e,r,n){var i=vr.format("{0}-{1}",t.name,t.size),o=vr.format("{0}-{1}",i,e);if(r.set(i,new gr(o,i,t)),n){var s=ot("symbol",{id:o,"data-symbol-id":i});return xr(s,t),s}return null}(t,e,r,!!n);n&&i&&n.appendChild(i)}var Pr=function(t){function SymbolContext(r,n,i){var o,s,l=t.call(this)||this,a=new Map,u=r.querySelector("svg[data-symbols='"+n+"']"),c=u&&C(u,"data-symbols-id")||Math.random().toString(36).substr(2,16),h=null;u?(z(u,"data-ref-count",Number(C(u,"data-ref-count"))+1),l._symbolRoot=u):(h=ot("svg",{"data-symbols":n,"data-symbols-id":c,"data-ref-count":1,width:0,height:0,style:"position: absolute; visibility: hidden"}),l._symbolRoot=h,r.appendChild(h));l.symbols=a,l.refCount=0;try{for(var f=e.__values(i),d=f.next();!d.done;d=f.next()){Sr(d.value,c,a,h)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return l}return e.__extends(SymbolContext,t),SymbolContext.prototype._destroy=function(){t.prototype._destroy.call(this);var e=Number(C(this._symbolRoot,"data-ref-count"));e>1?z(this._symbolRoot,"data-ref-count",e-1):(this.symbols.clear(),rt(this._symbolRoot))},SymbolContext}(wt),Tr=new Map,Nr=function(t){function SymbolHandle(e,r,n){var i=t.call(this)||this,o=Z(n),s=Tr.get(e);return s||(s=new Pr(o,e,r),Tr.set(e,s)),s.refCount++,Object.defineProperties(i,{_libId:{value:e}}),i}return e.__extends(SymbolHandle,t),SymbolHandle.prototype._destroy=function(){t.prototype._destroy.call(this);var e=Tr.get(this._libId);e&&e.refCount>0&&(e.refCount--,0===e.refCount&&(Tr.delete(this._libId),e.destroy()))},SymbolHandle.prototype.has=function(t){var e=Tr.get(this._libId);return!!e&&e.symbols.has(t)},SymbolHandle.prototype.getId=function(t){var e=Tr.get(this._libId),r=e?e.symbols.get(t):null;return r?r.id:null},SymbolHandle.prototype.createSvg=function(t,e,r,n,i){var o=Tr.get(this._libId),s=o?o.symbols.get(t):null;if(!s)throw new RangeError('There is no symbol "'+t+'" registered.');var l=ot("svg");return xr(l,s.definition),z(l,"data-from-symbol",s.name),e&&D(l,e),r&&nt(l,r,n,i),l},SymbolHandle.prototype.createSymbolRef=function(t,e,r,n,i){var o=Tr.get(this._libId),s=o?o.symbols.get(t):null;if(!s)throw new RangeError('There is no symbol "'+t+'" registered.');var l=ot("svg"),a=s.definition.attrs||[];for(var u in a)!wr.includes(u)&&mr.call(a,u)&&z(l,u,a[u]);return ot("use",{href:"#"+s.id},l),e&&D(l,e),r&&nt(l,r,n,i),l},SymbolHandle}(wt),Er=Array.prototype.filter,Rr=Array.prototype.forEach,Or="data-widget-type",Ar="data-widget-params",Cr=/\sid=("[^"]+"|'[^']+'|\w+)/g,Lr=/\S+/g,jr=/([\$@])\{([^\}]+)\}/g,zr=/url\s*\(\s*(#[^\s\)]+|'#[^']+'|"#[^"]+")\s*\)/;function kr(t,e){return e.replace(Lr,(function(e){return t.ref(e)}))}function Dr(t,e){return e.replace(zr,(function(e,r){var n=r.charAt(0);return zt(jt(t.ref("#"===n?r.substr(1):r.slice(2,-1)),t.widget.domNode))}))}var Mr=[{attr:"for",proc:function(t,e){return t.ref(e)}},{attr:"aria-controls",proc:kr},{attr:"aria-describedby",proc:kr},{attr:"aria-flowto",proc:kr},{attr:"aria-labelledby",proc:kr},{attr:"aria-owns",proc:kr},{attr:"clip-path",proc:Dr},{attr:"fill",proc:Dr}];function Hr(t){return 1===t.nodeType}function Wr(t){return 1===t.nodeType||3===t.nodeType}function Vr(t){var r;if("class"===t.name){var n=t.value.trim();n.length>0&&(r=ut(this)).add.apply(r,e.__spread(n.split(/[\f\t\r\n ]+/)))}else j(this,t.namespaceURI,t.name,t.value)}var Ir=function Ir(t,e){this.node=t,this.widget=e},Xr=function(){function ChildWidget(t,e,r){this._widgetCtor=t,this._params=e,this.domNode=r}return ChildWidget.prototype.create=function(t,e){var r=null;this.domNode.childNodes.length&&(r=Er.call(this.domNode.childNodes,Wr).map(t,e),et(this.domNode));var n=new this._widgetCtor(this._params,this.domNode);if(r){if(!("integrateTemplateContent"in n))throw new Error((this._widgetCtor.name||"Widget")+" does not implement IContentFromTemplate");n.integrateTemplateContent(r)}return n},ChildWidget}(),Yr=function(){function TemplateInstance(t){this.widget=t,this.templateIds=[],this.instanceIds=[],this.idNodes=[],this.childWidgets=[]}return TemplateInstance.prototype.process=function(t,e){var r=this,n=this.widget.id,i=t.replace(Cr,(function(t){var e=4,i=t.length,o=t.charAt(e);'"'===o||"'"===o?(++e,--i):o='"';var s=t.substring(e,i),l=n+(s.lastIndexOf("_",0)<0?"_":"")+s;if(r.templateIds.indexOf(s)>=0)throw new Error("Duplicate template id: "+s);return r.templateIds.push(s),r.instanceIds.push(l)," id="+o+l+o})),o=lt(i=i.replace(jr,(function(t,e,n){var i=r.widget.resolveTemplateProperty(n)||"";return"$"===e&&(i=kt(i)),i})),Hr);if(1!==o.length)throw new Error("A template should contain exactly 1 element node at root level; this template has "+o.length);var s=o[0];if(L(s,null,"id"))throw new Error("The root node in a template should not have an id; it will be available as this.domNode, and the id will be set to the widget id.");if(L(s,null,Or)||L(s,null,Ar))throw new Error("The root node in a template should not have "+Or+" or "+Ar+" attributes.");for(var l=this.widget.domNode;s.firstChild;)l.appendChild(s.firstChild);if(s.attributes.length&&Rr.call(s.attributes,Vr,l),!this.widget.srcNodeRef&&l.tagName!==s.tagName)throw new Error("Template root node tag "+s.tagName+" mismatches with the rootTagName "+l.tagName);this._processTemplateNode(l,e);for(var a=this.childWidgets.length-1;a>=0;--a){var u=this.childWidgets[a];u&&this.widget.ownMember(this.templateIds[a],u.create(this._nodeToContent,this))}},TemplateInstance.prototype._processTemplateNode=function(t,e){var r=t.id?this.instanceIds.indexOf(t.id):-1;if(r>=0){this.widget.ref(this.templateIds[r],this.idNodes[r]=t);var n=A(t,null,Or);if(null!==n){var i=Object.create(e||Object.prototype,{id:{enumerable:!0,value:t.id}});(l=A(t,null,Ar))&&Object.assign(i,JSON.parse("{"+l+"}"));var o=this.widget.resolveWidgetType(n);if("function"!=typeof o)throw new Error("Could not resolve widget type: "+n);this.childWidgets[r]=new Xr(o,i,t),k(t,null,Or),k(t,null,Ar)}}else if(L(t,null,Or))throw new Error("Widgets defined in a template must have an id");if(t.attributes.length)for(var s=0;s<Mr.length;++s){var l,a=Mr[s];(l=A(t,null,a.attr))&&j(t,null,a.attr,a.proc(this,l))}s=0;for(var u=t.childNodes.length;s<u;++s){var c=t.childNodes[s];1===c.nodeType&&this._processTemplateNode(c,e)}},TemplateInstance.prototype._nodeToContent=function(t){var e=t.id?this.instanceIds.indexOf(t.id):-1,r=this.widget[this.templateIds[e]]||null;return new Ir(t,r===t?null:r)},TemplateInstance.prototype.ref=function(t){return this.instanceIds[this.templateIds.indexOf(t)]||t},TemplateInstance}(),Br=function(t){function TemplatedWidgetBase(e,r,n){var i=t.call(this,e,r)||this;return!n&&"templateString"in i&&(n=i.templateString),n&&new Yr(i).process(n,e),("baseClass"in i||"declaredClass"in i)&&"buildRendering"in i&&i.buildRendering(),i}return e.__extends(TemplatedWidgetBase,t),TemplatedWidgetBase.prototype.resolveTemplateProperty=function(t){return this[t]},TemplatedWidgetBase.prototype.resolveWidgetType=function(t){return null},TemplatedWidgetBase}(ir);function Gr(t){return Math.max(0,Math.floor(t)||0)}function qr(t){if(null==t)return null;if("function"!=typeof t)throw new TypeError(t+" is not a function.");return t}var Fr=function(t){function Timer(e,r,n){void 0===r&&(r=0),void 0===n&&(n=!1);var i=t.call(this)||this;return i._tid=null,i._time=Gr(r),i._tick=qr(e),i._auto=!!n,i}return e.__extends(Timer,t),Timer.run=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=!0),new Timer(t,e,r).start()},Timer.prototype.destroy=function(){this.stop(),this._tick=null,t.prototype.destroy.call(this)},Object.defineProperty(Timer.prototype,"time",{get:function(){return this._time},set:function(t){this._time=Gr(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Timer.prototype,"tick",{get:function(){return this._tick},set:function(t){this._tick=qr(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Timer.prototype,"active",{get:function(){return null!==this._tid},enumerable:!1,configurable:!0}),Timer.prototype.start=function(t){var e=this;if(void 0===t&&(t=this._time),null!==this._tid&&(clearTimeout(this._tid),this._tid=null),wt.isDestroyed(this))throw new Error("Timer has been destroyed");return this._tid=setTimeout((function(){e._tid=null;var t=e._tick;e._auto&&e.destroy(),t&&t()}),"number"!=typeof t?this._time:Gr(t)),this},Timer.prototype.stop=function(){return null!==this._tid&&(clearTimeout(this._tid),this._tid=null),this},Timer}(wt);t.ArrayEx=V,t.Destroyable=wt,t.EventArgs=Ve,t.Evented=Ge,t.Observable=Ze,t.Point2D=s,t.PropertyChangedEventArgs=Qe,t.Rect=b,t.ScrollEventArgs=hr,t.ScrollView=dr,t.Size=d,t.StringEx=vr,t.SymbolHandle=Nr,t.TemplatedWidgetBase=Br,t.Timer=Fr,t.ValueEventArgs=Ue,t.WidgetBase=ir,t.animationFrame=We,t.clamp=clamp,t.geom=je,t.getGlobal=getGlobal,t.global=G,t.html=Mt,t.length=$e,t.now=now,t.svg=se,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vida-utils.js.map
